(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./docs/PaginationEditableTableDemo.css":function(e,n,t){var a=t("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./docs/PaginationEditableTableDemo.css");"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0},r=t("./node_modules/style-loader/lib/addStyles.js")(a,i);a.locals&&(e.exports=a.locals),e.hot.accept("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./docs/PaginationEditableTableDemo.css",function(){var n=t("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./docs/PaginationEditableTableDemo.css");if("string"===typeof n&&(n=[[e.i,n,""]]),!function(e,n){var t,a=0;for(t in e){if(!n||e[t]!==n[t])return!1;a++}for(t in n)a--;return 0===a}(a.locals,n.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");r(n)}),e.hot.dispose(function(){r()})},"./docs/pagination-show.mdx":function(e,n,t){"use strict";t.r(n);var a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=t("./node_modules/react/index.js"),r=t.n(i),s=t("./node_modules/@mdx-js/react/dist/index.es.js"),o=t("./node_modules/docz/dist/index.esm.js"),l=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),c=t.n(l),d=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),u=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),b=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),g=t("./node_modules/sinoui-components/Pagination/index.js"),m=t("./node_modules/sinoui-components/Button/index.js"),p=t("./node_modules/sinoui-components/TextInput/index.js"),j=t("./src/index.ts");t("./docs/PaginationEditableTableDemo.css");function O(e,n,t){return Object(i.useMemo)(function(){return e.slice(n*t,(n+1)*t)},[e,t,n])}function S(e,n){return new Array(n-e).fill(null).map(function(n,t){return e+t})}function P(){var e=Object(j.d)("/api/pagination-show-demo",[]),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=Object(i.useState)(e),a=Object(b.a)(t,2),r=a[0],s=a[1],o=Object(i.useState)(n),l=Object(b.a)(o,2),c=l[0],d=l[1];return[r,c,function(e,n){s(e),d(n)}]}(),t=Object(b.a)(n,3),a=t[0],s=t[1],o=t[2],l=O(e.items,a,s),P=O(e.editingRows,a,s),f=function(e,n,t){return{add:Object(i.useCallback)(function(){e.add({},n*t)},[n,e,t]),save:Object(i.useCallback)(function(a,i){return e.save(a,n*t+i)},[n,e,t]),edit:Object(i.useCallback)(function(a){e.edit(n*t+a)},[n,e,t]),remove:Object(i.useCallback)(function(a,i){return e.remove(a,n*t+i)},[n,e,t])}}(e,a,s),x=f.add,C=f.save,N=f.edit,w=f.remove,z=Object(i.useState)(""),h=Object(b.a)(z,2),L=h[0],E=h[1],v=function(e,n,t){var a=Object(i.useMemo)(function(){return S(n*t,(n+1)*t).every(function(n){return-1!==e.selectedRows.indexOf(n)})},[n,e.selectedRows,t]),r=Object(i.useMemo)(function(){return S(n*t,(n+1)*t).some(function(n){return-1!==e.selectedRows.indexOf(n)})},[n,e.selectedRows,t]),s=Object(i.useCallback)(function(){var i=e.selectedRows,r=n*t,s=(n+1)*t;i=a?i.filter(function(e){return e<r||e>=s}):[].concat(Object(u.a)(i),Object(u.a)(S(r,s).filter(function(e){return-1===i.indexOf(e)}))),e.setSelectedRows(i)},[n,e,a,t]);return{isAllSelected:a,isContainsSelected:r,toggleAllSelected:s,removeAllSelectedRows:(o=Object(d.a)(c.a.mark(function n(){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],e.items.map(function(e,n){return t.push([e,n])}).filter(function(n,t){return e.selectedRows.includes(t)}),n.next=4,e.remove(t);case 4:case"end":return n.stop()}},n)})),function(){return o.apply(this,arguments)})};var o}(e,a,s);return r.a.createElement("div",null,r.a.createElement(p.b,{value:L,onChange:function(e){return E(e.target.value)}}),r.a.createElement(m.b,{raised:!0,onClick:function(){e.query({title:L})}},"\u67e5\u8be2"),r.a.createElement(m.b,{raised:!0,onClick:x},"\u65b0\u589e"),r.a.createElement(m.b,{onClick:v.removeAllSelectedRows},"\u5220\u9664"),r.a.createElement(j.c,{data:l,editingRows:P,idPropertyName:e.idPropertyName,rowClassName:function(n){return e.selectedRows.includes(n+a*s)?"sinoui-data-table-body-row_selected":""}},r.a.createElement(j.a,{startIndex:a*s,selectedRows:e.selectedRows,isAllSelected:v.isAllSelected,isContainsSelected:v.isContainsSelected,toggleAllSelected:v.toggleAllSelected,toggleRowSelected:e.toggleRowSelected}),r.a.createElement(j.b,{name:"id",title:"id"}),r.a.createElement(j.b,{name:"title",title:"\u6807\u9898",editor:"input"}),r.a.createElement(j.b,{title:"\u64cd\u4f5c",name:"id",render:function(e,n,t,a,i){return r.a.createElement(r.a.Fragment,null,i.editing?r.a.createElement(m.b,{autoWidth:!0,onClick:function(){return C(n,t)}},"\u4fdd\u5b58"):r.a.createElement(m.b,{autoWidth:!0,onClick:function(){return N(t)}},"\u7f16\u8f91"),r.a.createElement(m.b,{autoWidth:!0,color:"danger",onClick:function(){return w(n,t)}},"\u5220\u9664"))}})),r.a.createElement(g.a,{pageSize:s,total:e.items.length,currentPage:a+1,onChange:function(e,n){return o(e-1,n)}}))}var f=P;P&&P===Object(P)&&Object.isExtensible(P)&&Object.defineProperty(P,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Demo",filename:"docs\\Demo.tsx"}}),t.d(n,"default",function(){return N});var x={},C="wrapper";function N(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(s.b)(C,Object.assign({},x,t,{components:n,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"\u5206\u9875\u5c55\u793a\u6570\u636e\u7684\u53ef\u7f16\u8f91\u6570\u636e\u8868\u683c"},"\u5206\u9875\u5c55\u793a\u6570\u636e\u7684\u53ef\u7f16\u8f91\u6570\u636e\u8868\u683c"),Object(s.b)("p",null,"\u672c\u7ae0\u8282\u4ecb\u7ecd\u4e00\u4e2a\u573a\u666f\uff1a\u4e00\u6b21\u6027\u52a0\u8f7d\u5217\u8868\u6570\u636e\uff0c\u4f46\u662f\u5728\u524d\u7aef\u5206\u9875\u663e\u793a\u7684\u53ef\u7f16\u8f91\u6570\u636e\u8868\u683c\u3002"),Object(s.b)("p",null,"\u5305\u542b\u7684\u529f\u80fd\uff1a"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"\u5206\u9875\u5c55\u793a\u5217\u8868"),Object(s.b)("li",{parentName:"ul"},"\u52a0\u8f7d\u6570\u636e"),Object(s.b)("li",{parentName:"ul"},"\u67e5\u8be2"),Object(s.b)("li",{parentName:"ul"},"\u65b0\u589e")),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useState, useMemo, useCallback } from 'react';\nimport Pagination from 'sinoui-components/Pagination';\nimport Button from 'sinoui-components/Button';\nimport TextInput from 'sinoui-components/TextInput';\nimport EditableDataTable, {\n  useEditingList,\n  TableColumn,\n  RowSelectColumn,\n} from '../src';\n\ninterface Article {\n  id: string;\n  title: string;\n}\n\n/**\n * \u5206\u9875\u72b6\u6001hook\n */\nfunction usePagination(\n  defaultCurrentPage: number = 0,\n  defaultPageSize: number = 10,\n): [number, number, (pageNo: number, pageSize: number) => void] {\n  const [currentPage, setCurrentPage] = useState(defaultCurrentPage);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n\n  const update = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  return [currentPage, pageSize, update];\n}\n\n/**\n * \u83b7\u53d6\u5206\u9875\u5217\u8868\n *\n * @param items \u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationList<T>(\n  items: T[],\n  currentPage: number,\n  pageSize: number,\n) {\n  const data = useMemo(\n    () => items.slice(currentPage * pageSize, (currentPage + 1) * pageSize),\n    [items, pageSize, currentPage],\n  );\n\n  return data;\n}\n\n/**\n * \u83b7\u53d6\u5206\u9875\u7f16\u8f91\u5217\u8868\u7684\u52a8\u4f5c\n *\n * @param editingList \u7f16\u8f91\u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationEditingListActions<T>(\n  editingList: any,\n  currentPage: number,\n  pageSize: number,\n) {\n  const add = useCallback(() => {\n    editingList.add({}, currentPage * pageSize);\n  }, [currentPage, editingList, pageSize]);\n\n  const save = useCallback(\n    (item: T, index: number) => {\n      return editingList.save(item, currentPage * pageSize + index);\n    },\n    [currentPage, editingList, pageSize],\n  );\n\n  const edit = useCallback(\n    (index: number) => {\n      editingList.edit(currentPage * pageSize + index);\n    },\n    [currentPage, editingList, pageSize],\n  );\n\n  const remove = useCallback(\n    (item: T, index: number) => {\n      return editingList.remove(item, currentPage * pageSize + index);\n    },\n    [currentPage, editingList, pageSize],\n  );\n\n  return { add, save, edit, remove };\n}\n\n/**\n * \u751f\u6210\u5e8f\u5217\u6570\u7ec4\n *\n * @param start \u5f00\u59cb\n * @param end \u7ed3\u675f\n */\nfunction range(start: number, end: number) {\n  return new Array(end - start).fill(null).map((_, idx) => start + idx);\n}\n\n/**\n * \u5206\u9875\u7684\u9009\u4e2d\u884c\u72b6\u6001\n *\n * @param editingList \u53ef\u7f16\u8f91\u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationSelectedRows(\n  editingList: any,\n  currentPage: number,\n  pageSize: number,\n) {\n  const start = currentPage * pageSize;\n  const end = Math.min(editingList.items.length, (currentPage + 1) * pageSize);\n\n  /**\n   * \u662f\u5426\u5168\u90e8\u9009\u4e2d\n   */\n  const isAllSelected = useMemo(() => {\n    return range(start, end).every(\n      (idx) => editingList.selectedRows.indexOf(idx) !== -1,\n    );\n  }, [currentPage, editingList.selectedRows, pageSize]);\n\n  /**\n   * \u662f\u5426\u5305\u542b\u9009\u4e2d\n   */\n  const isContainsSelected = useMemo(() => {\n    return range(start, end).some(\n      (idx) => editingList.selectedRows.indexOf(idx) !== -1,\n    );\n  }, [currentPage, editingList.selectedRows, pageSize]);\n\n  /**\n   * \u5207\u6362\u5168\u9009\n   */\n  const toggleAllSelected = useCallback(() => {\n    let rows: number[] = editingList.selectedRows;\n    if (isAllSelected) {\n      rows = rows.filter((idx) => idx < start || idx >= end);\n    } else {\n      rows = [\n        ...rows,\n        ...range(start, end).filter((idx) => rows.indexOf(idx) === -1),\n      ];\n    }\n\n    editingList.setSelectedRows(rows);\n  }, [currentPage, editingList, isAllSelected, pageSize]);\n\n  /**\n   * \u5220\u9664\u6240\u6709\u9009\u4e2d\u7684\u6570\u636e\n   */\n  const removeAllSelectedRows = async () => {\n    const rows = [];\n    editingList.items\n      .map((item, idx) => rows.push([item, idx]))\n      .filter((_data, index) => editingList.selectedRows.includes(index));\n    await editingList.remove(rows);\n  };\n\n  return {\n    isAllSelected,\n    isContainsSelected,\n    toggleAllSelected,\n    removeAllSelectedRows,\n  };\n}\n\nfunction Demo() {\n  const editingList = useEditingList<Partial<Article>>(\n    '/api/pagination-show-demo',\n    [],\n  );\n  const [currentPage, pageSize, update] = usePagination();\n  const data = usePaginationList(editingList.items, currentPage, pageSize);\n  const editingRows = usePaginationList(\n    editingList.editingRows,\n    currentPage,\n    pageSize,\n  );\n\n  const { add, save, edit, remove } = usePaginationEditingListActions(\n    editingList,\n    currentPage,\n    pageSize,\n  );\n\n  const [searchText, setSearchText] = useState('');\n  const handleQuery = () => {\n    editingList.query({ title: searchText });\n  };\n\n  const handleRowClassName = (index: number) => {\n    if (editingList.selectedRows.includes(index + currentPage * pageSize)) {\n      return 'sinoui-data-table-body-row_selected';\n    }\n\n    return '';\n  };\n\n  const paginationSelectedRows = usePaginationSelectedRows(\n    editingList,\n    currentPage,\n    pageSize,\n  );\n\n  return (\n    <div>\n      <TextInput\n        value={searchText}\n        onChange={(event) => setSearchText(event.target.value)}\n      />\n      <Button raised onClick={handleQuery}>\n        \u67e5\u8be2\n      </Button>\n      <Button raised onClick={add}>\n        \u65b0\u589e\n      </Button>\n      <Button onClick={paginationSelectedRows.removeAllSelectedRows}>\n        \u5220\u9664\n      </Button>\n      <EditableDataTable\n        data={data}\n        editingRows={editingRows}\n        idPropertyName={editingList.idPropertyName}\n        rowClassName={handleRowClassName}\n      >\n        <RowSelectColumn\n          startIndex={currentPage * pageSize}\n          selectedRows={editingList.selectedRows}\n          isAllSelected={paginationSelectedRows.isAllSelected}\n          isContainsSelected={paginationSelectedRows.isContainsSelected}\n          toggleAllSelected={paginationSelectedRows.toggleAllSelected}\n          toggleRowSelected={editingList.toggleRowSelected}\n        />\n        <TableColumn name=\"id\" title=\"id\" />\n        <TableColumn name=\"title\" title=\"\u6807\u9898\" editor=\"input\" />\n        <TableColumn\n          title=\"\u64cd\u4f5c\"\n          name=\"id\"\n          render={(_value, item, index, _id, context) => (\n            <>\n              {context.editing ? (\n                <Button autoWidth onClick={() => save(item, index)}>\n                  \u4fdd\u5b58\n                </Button>\n              ) : (\n                <Button autoWidth onClick={() => edit(index)}>\n                  \u7f16\u8f91\n                </Button>\n              )}\n              <Button\n                autoWidth\n                color=\"danger\"\n                onClick={() => remove(item, index)}\n              >\n                \u5220\u9664\n              </Button>\n            </>\n          )}\n        />\n      </EditableDataTable>\n      <Pagination\n        pageSize={pageSize}\n        total={editingList.items.length}\n        currentPage={currentPage + 1}\n        onChange={(pageNo, size) => update(pageNo - 1, size)}\n      />\n    </div>\n  );\n}\n\nexport default Demo;\n")),Object(s.b)("p",null,"\u6548\u679c\uff1a"),Object(s.b)(o.c,{__position:0,__code:"<Demo />",__scope:{props:this?this.props:t,Playground:o.c,Demo:f},mdxType:"Playground"},Object(s.b)(f,{mdxType:"Demo"})),Object(s.b)("p",null,"\u5982\u679c\u4f60\u611f\u89c9\u4e0a\u9762\u7684\u4f8b\u5b50\u6709\u70b9\u590d\u6742\uff0c\u53ef\u4ee5\u770b\u770b\u4e0b\u9762\u7684\u6b65\u9aa4\u5206\u6790\uff1a"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#%E5%8A%A0%E8%BD%BD%E5%B9%B6%E5%B1%95%E7%8E%B0%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE"}),"\u52a0\u8f7d\u5e76\u5c55\u73b0\u5217\u8868\u6570\u636e")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#%E5%88%86%E9%A1%B5%E5%B1%95%E7%8E%B0%E6%95%B0%E6%8D%AE"}),"\u5206\u9875\u5c55\u73b0\u6570\u636e")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#%E6%96%B0%E5%A2%9E%E6%95%B0%E6%8D%AE"}),"\u65b0\u589e\u6570\u636e")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#%E7%BC%96%E8%BE%91%E4%B8%8E%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"}),"\u7f16\u8f91\u4e0e\u5220\u9664\u6570\u636e")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#%E6%9F%A5%E8%AF%A2%E5%88%97%E8%A1%A8"}),"\u67e5\u8be2\u5217\u8868")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#%E9%80%89%E6%8B%A9"}),"\u9009\u62e9")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#%E5%88%A0%E9%99%A4%E9%80%89%E4%B8%AD%E6%95%B0%E6%8D%AE"}),"\u5220\u9664\u9009\u4e2d\u6570\u636e"))),Object(s.b)("h2",{id:"\u52a0\u8f7d\u5e76\u5c55\u73b0\u5217\u8868\u6570\u636e"},"\u52a0\u8f7d\u5e76\u5c55\u73b0\u5217\u8868\u6570\u636e"),Object(s.b)("p",null,"\u672c\u4f8b\u9700\u8981\u4e00\u6b21\u6027\u52a0\u8f7d\u5168\u90e8\u7684\u5217\u8868\u6570\u636e\uff0c\u800c\u4e0d\u662f",Object(s.b)("a",Object.assign({parentName:"p"},{href:"/pagination-editable-table"}),"\u5206\u9875\u52a0\u8f7d\u6570\u636e"),"\u3002\u4f7f\u7528",Object(s.b)("inlineCode",{parentName:"p"},"useEditingList"),"\u6765\u52a0\u8f7d\u5217\u8868\u6570\u636e\u3002\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'import React from \'react\';\nimport EditableDataTable, {\n  TableColumn,\n  useEditingList,\n} from \'@sinouiincubator/editable-data-table\';\n\nfunction Demo() {\n  const editingList = useEditingList(\'/api/pagination-show-demo\');\n\n  return (\n    <EditableDataTable\n      data={editingList.items}\n      idPropertyName={editingList.idPropertyName}\n    >\n      <TableColumn title="id" name="id" />\n      <TableColumn title="\u6807\u9898" name="title" />\n    </EditableDataTable>\n  );\n}\n')),Object(s.b)("h2",{id:"\u5206\u9875\u5c55\u73b0\u6570\u636e"},"\u5206\u9875\u5c55\u73b0\u6570\u636e"),Object(s.b)("p",null,"\u53ef\u4ee5\u4f7f\u7528",Object(s.b)("inlineCode",{parentName:"p"},"sinoui-components/Pagination"),"\u7ec4\u4ef6\u4f5c\u4e3a\u5206\u9875\u5668\uff0c\u5c55\u73b0\u9875\u7801\u4fe1\u606f\u548c\u5207\u6362\u9875\u7801\u7684\u64cd\u4f5c\u6309\u94ae\u3002",Object(s.b)("inlineCode",{parentName:"p"},"Pagination"),"\u7ec4\u4ef6\u9700\u8981\u4ee5\u4e0b\u51e0\u4e2a\u5173\u952e\u5c5e\u6027\uff1a"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"total")," - \u5217\u8868\u6570\u636e\u603b\u6570\u76ee\u3002"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"currentPage")," - \u5f53\u524d\u9875\u7801\u3002\u4ece",Object(s.b)("inlineCode",{parentName:"li"},"1"),"\u5f00\u59cb\u3002"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"pageSize")," - \u9875\u5927\u5c0f\u3002\u4e00\u9875\u80fd\u591f\u5448\u73b0\u6570\u636e\u7684\u6570\u76ee\u3002"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"onChange")," - \u6307\u5b9a\u5f53\u524d\u9875\u7801\u3001\u9875\u5927\u5c0f\u53d1\u751f\u53d8\u5316\u7684\u56de\u8c03\u51fd\u6570\u3002")),Object(s.b)("p",null,"\u4e0a\u9762\u4e09\u4e2a\u5c5e\u6027\uff0c",Object(s.b)("inlineCode",{parentName:"p"},"total"),"\u7b49\u4e8e",Object(s.b)("inlineCode",{parentName:"p"},"editingList.items.length"),"\uff0c",Object(s.b)("inlineCode",{parentName:"p"},"currentPage"),"\u548c",Object(s.b)("inlineCode",{parentName:"p"},"pageSize"),"\u662f\u53d8\u5316\u7684\u6570\u636e\uff0c\u6240\u4ee5\u9700\u8981\u5b9a\u4e49\u4e24\u4e2a\u72b6\u6001\u6765\u7ef4\u62a4\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useState } from 'react';\nimport EditableDataTable, {\n  TableColumn,\n  useEditingList,\n} from '@sinouiincubator/editable-data-table';\nimport Pagination from 'sinoui-components/Pagination';\n\nfunction Demo() {\n  const editingList = useEditingList('/api/pagination-show-demo');\n  const [currentPage, setCurrentPage] = useState(0); // \u5f53\u524d\u9875\u7801\uff0c\u4e60\u60ef\u4ece0\u5f00\u59cb\u3002\u6ce8\u610f\u4e0ePagination.currentPage\u7684\u533a\u522b\u3002\n  const [pageSize, setPageSize] = useState(10);\n\n  const handlePaginationChange = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  return (\n    <div>\n      \x3c!--\u6b64\u5904\u7701\u7565EditableDataTable--\x3e\n      <Pagination\n        total={editingList.items.length}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        onChange={handlePaginationChange}\n      />\n    </div>\n  );\n}\n")),Object(s.b)("p",null,"\u4e0a\u9762\u7684\u4ee3\u7801\u53ea\u662f\u5c55\u73b0\u51fa\u4e86\u5206\u9875\u5668\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u89e3\u51b3\u5206\u9875\u5c55\u73b0\u5217\u8868\u6570\u636e\uff08\u6ce8\u610f\u54df\uff0c\u8fd9\u4e2a\u65f6\u5019\u5217\u8868\u8fd8\u662f\u5c55\u73b0\u6240\u6709\u7684\u6570\u636e\uff09\u3002"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\u7684",Object(s.b)("inlineCode",{parentName:"p"},"data"),"\u5c5e\u6027\u662f\u7528\u6765\u63a5\u6536\u9700\u8981\u5c55\u73b0\u7684\u4e00\u7ec4\u6570\u636e\u7684\u5c5e\u6027\u3002",Object(s.b)("inlineCode",{parentName:"p"},"data={editingList.items}"),"\u4f1a\u5c06\u6240\u6709\u7684\u6570\u636e\u7ed9\u4e86\u53ef\u7f16\u8f91\u8868\u683c\u5448\u73b0\u51fa\u6765\u3002\u73b0\u5728\u60f3\u8981\u53ea\u5448\u73b0\u5f53\u524d\u9875\u7684\u6570\u636e\uff0c\u90a3\u5c31\u8ba1\u7b97\u51fa\u5f53\u524d\u9875\u7684\u6570\u636e\u6570\u7ec4\u6307\u5b9a\u7ed9",Object(s.b)("inlineCode",{parentName:"p"},"data"),"\u5373\u53ef\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useMemo } from 'react';\n// ... \u7701\u7565\u4e00\u90e8\u5206import\u4ee3\u7801\n\nfunction Demo() {\n  // ...\u7701\u7565\u4e00\u90e8\u5206\u4ee3\u7801\n  const data = useMemo(() =>\n    editingList.items.slice(\n      currentPage * pageSize,\n      (currentPage + 1) * pageSize,\n    ),\n    [editingList.items, currentPage, pageSize],\n  );\n\n  return (\n    <div>\n      <EditableDataTable data={data}>\n        \x3c!--\u6b64\u5904\u7701\u7565TableColumn--\x3e\n      </EditableDataTable>\n      \x3c!--\u6b64\u5904\u7701\u7565Pagination--\x3e\n    </div>\n  );\n}\n")),Object(s.b)("p",null,"\u8fd9\u91cc\u4f7f\u7528",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://zh-hans.reactjs.org/docs/hooks-reference.html#usememo"}),"React useMemo"),"\u7f13\u5b58\u4e86\u5206\u9875\u6570\u636e\u7684\u8ba1\u7b97\u3002"),Object(s.b)("p",null,"\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useState, useMemo } from 'react';\nimport EditableDataTable, {\n  TableColumn,\n  useEditingList,\n} from '@sinouiincubator/editable-data-table';\nimport Pagination from 'sinoui-components/Pagination';\n\nfunction Demo() {\n  const editingList = useEditingList('/api/pagination-show-demo');\n\n  const [currentPage, setCurrentPage] = useState(0); // \u5f53\u524d\u9875\u7801\uff0c\u4e60\u60ef\u4ece0\u5f00\u59cb\u3002\u6ce8\u610f\u4e0ePagination.currentPage\u7684\u533a\u522b\u3002\n  const [pageSize, setPageSize] = useState(10);\n\n  const handlePaginationChange = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  const data = useMemo(\n    () =>\n      editingList.items.slice(\n        currentPage * pageSize,\n        (currentPage + 1) * pageSize,\n      ),\n    [editingList.items, currentPage, pageSize],\n  );\n\n  return (\n    <div>\n      <EditableDataTable\n        data={data}\n        idPropertyName={editingList.idPropertyName}\n      >\n        <TableColumn title=\"id\" name=\"id\" />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" />\n      </EditableDataTable>\n      <Pagination\n        total={editingList.items.length}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        onChange={handlePaginationChange}\n      />\n    </div>\n  );\n}\n")),Object(s.b)("h2",{id:"\u63d0\u70bc\u72b6\u6001\u7ba1\u7406"},"\u63d0\u70bc\u72b6\u6001\u7ba1\u7406"),Object(s.b)("p",null,"Demo \u7ec4\u4ef6\u76ee\u524d\u5df2\u7ecf\u6bd4\u8f83\u590d\u6742\u4e86\uff0c\u9700\u8981\u7ba1\u7406\u5f88\u591a\u72b6\u6001\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://zh-hans.reactjs.org/docs/hooks-custom.html"}),"\u81ea\u5b9a\u4e49 hook"),"\u5c06\u72b6\u6001\u7ba1\u7406\u63d0\u70bc\u5230\u66f4\u5c0f\u7684\u51fd\u6570\u4e2d\u8fdb\u884c\u7ef4\u62a4\u3002\u73b0\u5728\u6211\u4eec\u6765\u63d0\u70bc\u4e24\u4e2a\u81ea\u5b9a\u4e49 hook\uff0c\u5206\u522b\u662f",Object(s.b)("inlineCode",{parentName:"p"},"usePagination"),"\u548c",Object(s.b)("inlineCode",{parentName:"p"},"usePaginationList"),"\u3002"),Object(s.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u5c06\u5206\u9875\u5668\u72b6\u6001\u548c\u66f4\u65b0\u65b9\u6cd5\u8fc1\u79fb\u5230\u4e00\u4e2a\u81ea\u5b9a\u4e49 hook \u4e2d\uff0c\u6211\u4eec\u53d6\u540d\u4e3a",Object(s.b)("inlineCode",{parentName:"p"},"usePagination"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"/**\n * \u5206\u9875\u72b6\u6001hook\n */\nfunction usePagination(\n  defaultCurrentPage: number = 0,\n  defaultPageSize: number = 10,\n): [number, number, (pageNo: number, pageSize: number) => void] {\n  const [currentPage, setCurrentPage] = useState(defaultCurrentPage);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n\n  const update = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  return [currentPage, pageSize, update];\n}\n")),Object(s.b)("p",null,"\u8fd9\u6837 Demo \u7ec4\u4ef6\u4e2d\u7684\u5206\u9875\u4ee3\u7801\u53ef\u4ee5\u7b80\u5316\u4e00\u4e0b\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function Demo() {\n  const [currentPage, pageSize, update] = usePagination();\n\n  return (\n    <div>\n      <Pagination\n        total={editingList.items.length}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        onChange={(pageNo, newPageSize) => update(pageNo - 1, newPageSize)}\n      />\n    </div>\n  );\n}\n")),Object(s.b)("p",null,"\u53ef\u4ee5\u5c06\u83b7\u53d6\u5206\u9875\u7684\u5217\u8868\u6570\u636e\u4e5f\u63d0\u70bc\u5230\u81ea\u52a8\u4ee5 hook \u4e2d\uff0c\u6211\u4eec\u53d6\u540d\u4e3a",Object(s.b)("inlineCode",{parentName:"p"},"usePaginationList"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"/**\n * \u83b7\u53d6\u5206\u9875\u5217\u8868\n *\n * @param items \u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationList<T>(\n  items: T[],\n  currentPage: number,\n  pageSize: number,\n) {\n  const data = useMemo(\n    () => items.slice(currentPage * pageSize, (currentPage + 1) * pageSize),\n    [items, pageSize, currentPage],\n  );\n\n  return data;\n}\n")),Object(s.b)("p",null,"Demo \u7ec4\u4ef6\u53ef\u4ee5\u7b80\u5316",Object(s.b)("inlineCode",{parentName:"p"},"data"),"\u7684\u8ba1\u7b97\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function Demo() {\n  const data = usePaginationList(editingList.items, currentPage, pageSize);\n\n  return (\n    <div>\n      <EditableDataTable data={data} />\n    </div>\n  );\n}\n")),Object(s.b)("p",null,"\u5b8c\u6574\u7684\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useState, useMemo } from 'react';\nimport EditableDataTable, {\n  TableColumn,\n  useEditingList,\n} from '@sinouiincubator/editable-data-table';\nimport Pagination from 'sinoui-components/Pagination';\n\n/**\n * \u5206\u9875\u72b6\u6001hook\n */\nfunction usePagination(\n  defaultCurrentPage: number = 0,\n  defaultPageSize: number = 10,\n): [number, number, (pageNo: number, pageSize: number) => void] {\n  const [currentPage, setCurrentPage] = useState(defaultCurrentPage);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n\n  const update = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  return [currentPage, pageSize, update];\n}\n\n/**\n * \u83b7\u53d6\u5206\u9875\u5217\u8868\n *\n * @param items \u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationList<T>(\n  items: T[],\n  currentPage: number,\n  pageSize: number,\n) {\n  const data = useMemo(\n    () => items.slice(currentPage * pageSize, (currentPage + 1) * pageSize),\n    [items, pageSize, currentPage],\n  );\n\n  return data;\n}\n\nfunction Demo() {\n  const editingList = useEditingList('/api/pagination-show-demo');\n  const [currentPage, pageSize, update] = usePagination();\n  const data = usePaginationList(editingList.items, currentPage, pageSize);\n\n  return (\n    <div>\n      <EditableDataTable\n        data={data}\n        idPropertyName={editingList.idPropertyName}\n      >\n        <TableColumn title=\"id\" name=\"id\" />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" />\n      </EditableDataTable>\n      <Pagination\n        total={editingList.items.length}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        onChange={(pageNo, newPageSize) => update(pageNo - 1, newPageSize)}\n      />\n    </div>\n  );\n}\n")),Object(s.b)("h2",{id:"\u65b0\u589e\u6570\u636e"},"\u65b0\u589e\u6570\u636e"),Object(s.b)("p",null,"\u70b9\u51fb\u65b0\u589e\u6309\u94ae\u65f6\uff0c\u5728\u5f53\u524d\u9875\u65b0\u589e\u4e00\u6761\u6570\u636e\u3002\u8fd9\u4e2a\u8981\u6c42\u9700\u8981\u6ce8\u610f\u7684\u662f",Object(s.b)("strong",{parentName:"p"},"\u5728\u5f53\u524d\u9875"),"\u65b0\u589e\u4e00\u6761\u6570\u636e\u3002\u6240\u4ee5\u6211\u4eec\u5e94\u8be5\u6309\u7167\u4e0b\u9762\u7684\u65b9\u5f0f\u65b0\u589e\u6570\u636e\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"editingList.add({}, currentPage * pageSize);\n")),Object(s.b)("p",null,"\u793a\u4f8b\u4ee3\u7801\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import Button from 'sinoui-components/Button';\n\nfunction Demo() {\n  const handleAdd = () => {\n    editingList.add({}, currentPage * pageSize);\n  };\n\n  return (\n    <div>\n      <Button raised onClick={handleAdd}>\n        \u65b0\u589e\n      </Button>\n    </div>\n  );\n}\n")),Object(s.b)("h2",{id:"\u7f16\u8f91\u4e0e\u5220\u9664\u6570\u636e"},"\u7f16\u8f91\u4e0e\u5220\u9664\u6570\u636e"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"editingList"),"\u63d0\u4f9b\u7684",Object(s.b)("inlineCode",{parentName:"p"},"edit"),"\u3001",Object(s.b)("inlineCode",{parentName:"p"},"save"),"\u548c",Object(s.b)("inlineCode",{parentName:"p"},"remove"),"\u65b9\u6cd5\u90fd\u662f\u6839\u636e\u6570\u636e\u5728\u6574\u4e2a\u5217\u8868\u7684\u7d22\u5f15\u4f4d\u7f6e\u8fdb\u884c\u64cd\u4f5c\u7684\u3002\u6240\u4ee5\u6211\u4eec\u5728\u4f7f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u65f6\uff0c\u9700\u8981\u4e0e\u5206\u9875\u72b6\u6001\u76f8\u7ed3\u5408\u3002"),Object(s.b)("p",null,"\u9996\u5148\u6211\u4eec\u901a\u8fc7",Object(s.b)("inlineCode",{parentName:"p"},"TableColumn"),"\u6dfb\u52a0\u4e00\u4e2a\u64cd\u4f5c\u5217\uff1a\u5728\u7f16\u8f91\u72b6\u6001\u65f6\uff0c\u6709\u4fdd\u5b58\u548c\u5220\u9664\u6309\u94ae\uff1b\u5728\u975e\u7f16\u8f91\u72b6\u6001\u65f6\uff0c\u6709\u7f16\u8f91\u548c\u5220\u9664\u6309\u94ae\u3002"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'<EditableDataTable>\n  <TableColumn\n    title="\u64cd\u4f5c"\n    render={(value, rowData, index, id, context) => (\n      <>\n        {context.editing ? <Button>\u4fdd\u5b58</Button> : <Button>\u7f16\u8f91</Button>}\n        <Button color="danger">\u5220\u9664</Button>\n      </>\n    )}\n  />\n</EditableDataTable>\n')),Object(s.b)("p",null,"\u4fdd\u5b58\u6309\u94ae\u7684\u70b9\u51fb\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"<Button\n  onClick={() => editingList.save(rowData, currentPage * pageSize + index)}\n>\n  \u4fdd\u5b58\n</Button>\n")),Object(s.b)("p",null,"\u91cd\u70b9\u662f",Object(s.b)("inlineCode",{parentName:"p"},"currentPage * pageSize + index"),"\u3002"),Object(s.b)("p",null,"\u7f16\u8f91\u6309\u94ae\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"<Button onClick={() => editingList.edit(currentPage * pageSize + index)}>\n  \u7f16\u8f91\n</Button>\n")),Object(s.b)("p",null,"\u5220\u9664\u6309\u94ae\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"<Button\n  onClick={() => editingList.remove(rowData, currentPage * pageSize + index)}\n>\n  \u5220\u9664\n</Button>\n")),Object(s.b)("p",null,"\u5f53\u7136\uff0c\u522b\u5fd8\u4e86\u5c06",Object(s.b)("inlineCode",{parentName:"p"},"editingList.editingRows"),"\u4f20\u7ed9",Object(s.b)("inlineCode",{parentName:"p"},"EditableDataTable.editingRows"),"\uff0c\u5e76\u4e14\u5b9a\u4e49\u5355\u5143\u683c\u7f16\u8f91\u5668\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'<EditableDataTable editingRows={editingList.editingRows}>\n  <TableColumn title="\u6807\u9898" name="title" editor="input" />\n</EditableDataTable>\n')),Object(s.b)("h2",{id:"\u518d\u6b21\u63d0\u70bc\u72b6\u6001\u7ba1\u7406"},"\u518d\u6b21\u63d0\u70bc\u72b6\u6001\u7ba1\u7406"),Object(s.b)("p",null,"\u589e\u52a0\u3001\u5220\u9664\u3001\u4fee\u6539\u3001\u7f16\u8f91\u56db\u4e2a\u52a8\u4f5c\u90fd\u4e0e\u7ffb\u9875\u6709\u5173\u7cfb\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u56db\u4e2a\u65b9\u6cd5\u63d0\u70bc\u5230\u4e00\u4e2a\u81ea\u5b9a\u4e49 hook\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"/**\n * \u83b7\u53d6\u5206\u9875\u7f16\u8f91\u5217\u8868\u7684\u52a8\u4f5c\n *\n * @param editingList \u7f16\u8f91\u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationEditingListActions<T>(\n  editingList: any,\n  currentPage: number,\n  pageSize: number,\n) {\n  const add = useCallback(() => {\n    editingList.add({}, currentPage * pageSize);\n  }, [currentPage, editingList, pageSize]);\n\n  const save = useCallback(\n    (item: T, index: number) => {\n      return editingList.save(item, currentPage * pageSize + index);\n    },\n    [currentPage, editingList, pageSize],\n  );\n\n  const edit = useCallback(\n    (index: number) => {\n      editingList.edit(currentPage * pageSize + index);\n    },\n    [currentPage, editingList, pageSize],\n  );\n\n  const remove = useCallback(\n    (item: T, index: number) => {\n      return editingList.remove(item, currentPage * pageSize + index);\n    },\n    [currentPage, editingList, pageSize],\n  );\n\n  return { add, save, edit, remove };\n}\n")),Object(s.b)("p",null,"\u4e4b\u540e\u6211\u4eec\u7684\u4ee3\u7801\u5c31\u662f\u8fd9\u6837\u5b50\u7684\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'import React, { useState, useMemo, useCallback } from \'react\';\nimport Pagination from \'sinoui-components/Pagination\';\nimport Button from \'sinoui-components/Button\';\nimport TextInput from \'sinoui-components/TextInput\';\nimport EditableDataTable, { useEditingList, TableColumn } from \'../src\';\n\ninterface Article {\n  id: string;\n  title: string;\n}\n\n/**\n * \u5206\u9875\u72b6\u6001hook\n */\nfunction usePagination(\n  defaultCurrentPage: number = 0,\n  defaultPageSize: number = 10,\n): [number, number, (pageNo: number, pageSize: number) => void] {\n  const [currentPage, setCurrentPage] = useState(defaultCurrentPage);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n\n  const update = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  return [currentPage, pageSize, update];\n}\n\n/**\n * \u83b7\u53d6\u5206\u9875\u5217\u8868\n *\n * @param items \u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationList<T>(\n  items: T[],\n  currentPage: number,\n  pageSize: number,\n) {\n  const data = useMemo(\n    () => items.slice(currentPage * pageSize, (currentPage + 1) * pageSize),\n    [items, pageSize, currentPage],\n  );\n\n  return data;\n}\n\n/**\n * \u83b7\u53d6\u5206\u9875\u7f16\u8f91\u5217\u8868\u7684\u52a8\u4f5c\n *\n * @param editingList \u7f16\u8f91\u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationEditingListActions<T>(\n  editingList: any,\n  currentPage: number,\n  pageSize: number,\n) {\n  const add = useCallback(() => {\n    editingList.add({}, currentPage * pageSize);\n  }, [currentPage, editingList, pageSize]);\n\n  const save = useCallback(\n    (item: T, index: number) => {\n      return editingList.save(item, currentPage * pageSize + index);\n    },\n    [currentPage, editingList, pageSize],\n  );\n\n  const edit = useCallback(\n    (index: number) => {\n      editingList.edit(currentPage * pageSize + index);\n    },\n    [currentPage, editingList, pageSize],\n  );\n\n  const remove = useCallback(\n    (item: T, index: number) => {\n      return editingList.remove(item, currentPage * pageSize + index);\n    },\n    [currentPage, editingList, pageSize],\n  );\n\n  return { add, save, edit, remove };\n}\n\nfunction Demo() {\n  const editingList = useEditingList<Partial<Article>>(\n    \'/api/pagination-show-demo\',\n    [],\n  );\n  const [currentPage, pageSize, update] = usePagination();\n  const data = usePaginationList(editingList.items, currentPage, pageSize);\n  const editingRows = usePaginationList(\n    editingList.editingRows,\n    currentPage,\n    pageSize,\n  );\n\n  const { add, save, edit, remove } = usePaginationEditingListActions(\n    editingList,\n    currentPage,\n    pageSize,\n  );\n\n  return (\n    <div>\n      <Button raised onClick={add}>\n        \u65b0\u589e\n      </Button>\n      <EditableDataTable\n        data={data}\n        editingRows={editingRows}\n        idPropertyName={editingList.idPropertyName}\n      >\n        <TableColumn name="id" title="id" />\n        <TableColumn name="title" title="\u6807\u9898" editor="input" />\n        <TableColumn\n          title="\u64cd\u4f5c"\n          name="id"\n          render={(_value, item, index, _id, context) => (\n            <>\n              {context.editing ? (\n                <Button autoWidth onClick={() => save(item, index)}>\n                  \u4fdd\u5b58\n                </Button>\n              ) : (\n                <Button autoWidth onClick={() => edit(index)}>\n                  \u7f16\u8f91\n                </Button>\n              )}\n              <Button\n                autoWidth\n                color="danger"\n                onClick={() => remove(item, index)}\n              >\n                \u5220\u9664\n              </Button>\n            </>\n          )}\n        />\n      </EditableDataTable>\n      <Pagination\n        pageSize={pageSize}\n        total={editingList.items.length}\n        currentPage={currentPage + 1}\n        onChange={(pageNo, size) => update(pageNo - 1, size)}\n      />\n    </div>\n  );\n}\n')),Object(s.b)("h2",{id:"\u6821\u9a8c"},"\u6821\u9a8c"),Object(s.b)("p",null,"\u5728\u8fd9\u4e2a\u573a\u666f\u4e2d\uff0c\u4f7f\u7528",Object(s.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\u5185\u7f6e\u7684\u6821\u9a8c\u5373\u53ef\u3002"),Object(s.b)("p",null,"\u9996\u5148\u5b9a\u4e49\u4e00\u4e0b\u6570\u636e\u884c\u7684\u6821\u9a8c\u65b9\u6cd5\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function validate(rowData) {\n  const errors: { [x: string]: string } = {};\n\n  if (!rowData.title) {\n    errors.title = '\u5fc5\u586b';\n  }\n\n  return errors;\n}\n")),Object(s.b)("p",null,"\u7136\u540e\u5c06",Object(s.b)("inlineCode",{parentName:"p"},"validate"),"\u4f20\u9012\u7ed9",Object(s.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"<EditableDataTable validate={validate} />\n")),Object(s.b)("p",null,"\u5230\u8fd9\u4e00\u6b65\uff0c\u4fee\u6539\u7f16\u8f91\u5668\u7684\u503c\uff0c\u5c31\u4f1a\u8c03\u7528",Object(s.b)("inlineCode",{parentName:"p"},"validate"),"\u65b9\u6cd5\u6821\u9a8c\u6570\u636e\u662f\u5426\u6709\u95ee\u9898\uff0c\u8fd9\u5c31\u662f\u201c\u5b9e\u65f6\u6821\u9a8c\u201d\u3002"),Object(s.b)("p",null,"\u6700\u540e\uff0c\u8c03\u6574\u4fdd\u5b58\u65b9\u6cd5\uff0c\u5148\u6821\u9a8c\u6570\u636e\uff0c\u7136\u540e\u518d\u4fdd\u5b58\u6570\u636e\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"<Button\n  autoWidth\n  onClick={() => {\n    if (!context.validate()) {\n      alert('\u6570\u636e\u586b\u5199\u4e0d\u5b8c\u6574');\n    } else {\n      save();\n    }\n  }}\n>\n  \u4fdd\u5b58\n</Button>\n")),Object(s.b)("h2",{id:"\u67e5\u8be2\u5217\u8868"},"\u67e5\u8be2\u5217\u8868"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"editingList.query(searechParams)"),"\u662f\u7528\u6765\u67e5\u8be2\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u67e5\u8be2\u8868\u5355\u63d0\u4ea4\u65f6\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5b8c\u6210\u67e5\u8be2\u4e8b\u5b9c\u3002"),Object(s.b)("p",null,"\u4e3e\u4e00\u4e2a\u4e0e\u67d0\u5185\u90e8\u9879\u76ee\u67e5\u8be2\u8868\u5355\u7ec4\u4ef6\u7684\u7ec4\u5408\uff0c\u5b8c\u6210\u8868\u683c\u6570\u636e\u67e5\u8be2\u7684\u529f\u80fd\u3002"),Object(s.b)("p",null,"\u4f8b\u5b50 1\uff1a",Object(s.b)("inlineCode",{parentName:"p"},"SearchForm"),"\u662f\u67e5\u8be2\u8868\u5355\u7ec4\u4ef6\uff0c",Object(s.b)("inlineCode",{parentName:"p"},"SearchButton"),"\u662f\u67e5\u8be2\u6309\u94ae\u3002\u70b9\u51fb\u67e5\u8be2\u6309\u94ae\uff0c\u67e5\u8be2\u8868\u5355\u4f1a\u53d1\u51fa\u63d0\u4ea4\uff08submit\uff09\u4e8b\u4ef6\u3002"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'<SearchForm onSubmit={editingList.query}>\n  <SearchFormItem>\n    <Label>\u6807\u9898</Label>\n    <TextInput name="title" />\n  </SearchFormItem>\n  <SearchButton />\n</SearchForm>\n')),Object(s.b)("p",null,"\u4f8b\u5b50 2\uff1a",Object(s.b)("inlineCode",{parentName:"p"},"SearchFormState"),"\u662f\u7528\u6765\u5207\u6362\u7b80\u5355\u548c\u590d\u6742\u67e5\u8be2\u8868\u5355\u7684\u7ec4\u4ef6\uff0c",Object(s.b)("inlineCode",{parentName:"p"},"advancedForm"),"\u548c",Object(s.b)("inlineCode",{parentName:"p"},"simpleForm"),"\u4e24\u4e2a\u5c5e\u6027\u5206\u522b\u7528\u6765\u6307\u5b9a\u590d\u6742\u548c\u67e5\u8be2\u8868\u5355\u3002\u5b83\u6709",Object(s.b)("inlineCode",{parentName:"p"},"onSubmit"),"\u5c5e\u6027\uff0c\u5728\u67e5\u8be2\u8868\u5355\u7684\u67e5\u8be2\u6309\u94ae\u88ab\u70b9\u51fb\u65f6\uff0c\u8c03\u7528\u76f8\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"<SearchFormState\n  onSubmit={editingList.query}\n  advancedForm={AdvancedSearchForm}\n  simpleForm={SimpleSearchForm}\n/>\n")),Object(s.b)("h2",{id:"\u9009\u62e9"},"\u9009\u62e9"),Object(s.b)("p",null,"\u8fd9\u4e2a\u573a\u666f\u7684\u9009\u62e9\u56e0\u5206\u9875\u548c\u4e00\u6b21\u6027\u52a0\u8f7d\u7684\u8981\u6c42\uff0c\u6240\u4ee5\u5904\u7406\u65b9\u5f0f\u4e5f\u4f1a\u6bd4",Object(s.b)("a",Object.assign({parentName:"p"},{href:""}),"\u666e\u901a\u9009\u62e9"),"\u8981\u590d\u6742\u4e00\u4e9b\u3002",Object(s.b)("inlineCode",{parentName:"p"},"useEditingList"),"\u9ed8\u8ba4\u96c6\u6210\u4e86\u9009\u62e9\u884c\u72b6\u6001\u7ba1\u7406\u903b\u8f91\uff0c\u4f46\u662f\u9700\u8981\u4e8c\u6b21\u5904\u7406\u624d\u80fd\u9002\u5408\u5f53\u524d\u8fd9\u4e2a\u573a\u666f\u3002"),Object(s.b)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u4f7f\u7528",Object(s.b)("a",Object.assign({parentName:"p"},{href:""}),"RowTableColumn"),"\u6765\u6e32\u67d3\u9009\u62e9\u5217\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"<RowSelectColumn\n  startIndex={currentPage * pageSize}\n  selectedRows={editingList.selectedRows}\n  isAllSelected={editingList.isAllSelected}\n  isContainsSelected={editingList.isContainsSelected}\n  toggleAllSelected={editingList.toggleAllSelected}\n  toggleRowSelected={editingList.toggleRowSelected}\n/>\n")),Object(s.b)("p",null,"\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u4e09\u4e2a\u5c5e\u6027\u9700\u8981\u505a\u5206\u9875\u8c03\u6574\uff1a"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"isAllSelected")," - \u5224\u65ad\u662f\u5426\u5168\u90e8\u9009\u4e2d\u3002",Object(s.b)("strong",{parentName:"li"},"\u66f4\u51c6\u786e\u5730\u8bf4"),"\uff0c\u5e94\u8be5\u662f\u5224\u65ad\u5f53\u524d\u9875\u7684\u6570\u636e\u662f\u5426\u5168\u90e8\u9009\u4e2d\u3002"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"isContainsSelected")," - \u5224\u65ad\u662f\u5426\u5305\u542b\u9009\u4e2d\u6570\u636e\u3002",Object(s.b)("strong",{parentName:"li"},"\u66f4\u51c6\u786e\u5730\u8bf4"),"\uff0c\u5e94\u8be5\u662f\u5224\u65ad\u5f53\u524d\u9875\u662f\u5426\u6709\u9009\u4e2d\u7684\u6570\u636e\u884c\u3002"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"toggleAllSelected")," - \u5207\u6362\u5168\u9009\u3002",Object(s.b)("strong",{parentName:"li"},"\u66f4\u51c6\u786e\u5730\u8bf4"),"\uff0c\u5e94\u8be5\u662f\u5207\u6362\u5f53\u524d\u9875\u6240\u6709\u6570\u636e\u7684\u9009\u4e2d\u72b6\u6001\uff0c\u8981\u4e48\u5168\u9009\uff0c\u8981\u4e48\u5168\u90e8\u53d6\u6d88\u9009\u4e2d\u3002")),Object(s.b)("p",null,"\u4ee5\u4e0a\u4e09\u4e2a\u5c5e\u6027\u5e94\u8be5\u53ea\u8ddf\u5f53\u524d\u9875\u7684\u6570\u636e\u76f8\u5173\uff0c\u4f46\u662f",Object(s.b)("inlineCode",{parentName:"p"},"editingList"),"\u63d0\u4f9b\u7684\u9009\u62e9\u72b6\u6001\u662f\u4e0e\u6574\u4e2a\u5217\u8868\u76f8\u5173\u7684\uff0c\u6240\u4ee5\u9700\u8981\u505a\u4e8c\u6b21\u5904\u7406\u3002"),Object(s.b)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49 hook\uff0c\u540d\u79f0\u4e3a",Object(s.b)("inlineCode",{parentName:"p"},"usePaginationSelectedRows"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"function usePaginationSelectedRows(\n  editingList: any,\n  currentPage: number,\n  pageSize: number,\n) {\n  const start = currentPage * pageSize;\n  const end = Math.min(editingList.items.length, (currentPage + 1) * pageSize);\n\n  // TODO: \u4e0b\u9762\u7684isAllSelected\u3001isContainsSelected\u3001toggleAllSelected\u7684\u4ee3\u7801\u90fd\u653e\u5728\u8fd9\n\n  return {\n    isAllSelected,\n    isContainsSelected,\n    toggleAllSelected,\n  };\n}\n")),Object(s.b)("p",null,"\u7136\u540e\uff0c\u6211\u4eec\u6765\u5904\u7406",Object(s.b)("inlineCode",{parentName:"p"},"isAllSelected"),"\uff0c\u5b83\u8868\u793a\u5f53\u524d\u9875\u662f\u5426\u5168\u90e8\u9009\u4e2d\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u62ff\u5230\u5f53\u524d\u9875\u6240\u6709\u884c\uff0c\u7136\u540e\u770b\u770b\u6bcf\u4e00\u884c\u662f\u5426\u90fd\u5728",Object(s.b)("inlineCode",{parentName:"p"},"editingList.selectedRows"),"\u4e2d\u5373\u53ef\u3002"),Object(s.b)("p",null,"\u4e3a\u4e86\u65b9\u4fbf\u751f\u6210\u5f53\u524d\u9875\u6240\u6709\u884c\u7684\u7d22\u5f15\u6570\u7ec4\uff0c\u521b\u5efa\u4e00\u4e2a range \u65b9\u6cd5\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"/**\n * \u751f\u6210\u5e8f\u5217\u6570\u7ec4\n *\n * @param start \u5f00\u59cb\n * @param end \u7ed3\u675f\n */\nfunction range(start: number, end: number) {\n  return new Array(end - start).fill(null).map((_, idx) => start + idx);\n}\n")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"isAllSelected"),"\u7684\u8ba1\u7b97\u8fc7\u7a0b\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"/**\n * \u662f\u5426\u5168\u90e8\u9009\u4e2d\n */\nconst isAllSelected = useMemo(() => {\n  return range(start, end).every(\n    (idx) => editingList.selectedRows.indexOf(idx) !== -1,\n  );\n}, [currentPage, editingList.selectedRows, pageSize]);\n")),Object(s.b)("p",null,"\u63a5\u7740\u5904\u7406",Object(s.b)("inlineCode",{parentName:"p"},"isContainsSelected"),"\uff0c\u5b83\u8868\u793a\u5f53\u524d\u9875\u662f\u5426\u6709\u9009\u4e2d\u7684\u6570\u636e\u884c\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"/**\n * \u662f\u5426\u5305\u542b\u9009\u4e2d\n */\nconst isContainsSelected = useMemo(() => {\n  return range(start, end).some(\n    (idx) => editingList.selectedRows.indexOf(idx) !== -1,\n  );\n}, [currentPage, editingList.selectedRows, pageSize]);\n")),Object(s.b)("p",null,"\u7136\u540e\u5904\u7406\u4e00\u4e0b",Object(s.b)("inlineCode",{parentName:"p"},"toggleAllSelected"),"\uff0c\u5b83\u53ea\u80fd\u5207\u6362\u5f53\u524d\u9875\u884c\u7684\u9009\u4e2d\u72b6\u6001\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"/**\n * \u5207\u6362\u5168\u9009\n */\nconst toggleAllSelected = useCallback(() => {\n  let rows: number[] = editingList.selectedRows;\n  if (isAllSelected) {\n    rows = rows.filter((idx) => idx < start || idx >= end);\n  } else {\n    rows = [\n      ...rows,\n      ...range(start, end).filter((idx) => rows.indexOf(idx) === -1),\n    ];\n  }\n\n  editingList.setSelectedRows(rows);\n}, [currentPage, editingList, isAllSelected, pageSize]);\n")),Object(s.b)("p",null,"\u6700\u540e\uff0c\u5728",Object(s.b)("inlineCode",{parentName:"p"},"Demo"),"\u7ec4\u4ef6\u4e2d\u4f7f\u7528",Object(s.b)("inlineCode",{parentName:"p"},"usePaginationSelectedRows"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function Demo() {\n  // ...\n  const paginationSelectedRows = usePaginationSelectedRows(\n    editingList,\n    currentPage,\n    pageSize,\n  );\n\n  return (\n    <EditableDataTable>\n      <RowSelectColumn\n        startIndex={currentPage * pageSize}\n        selectedRows={editingList.selectedRows}\n        isAllSelected={paginationSelectedRows.isAllSelected}\n        isContainsSelected={paginationSelectedRows.isContainsSelected}\n        toggleAllSelected={paginationSelectedRows.toggleAllSelected}\n        toggleRowSelected={editingList.toggleRowSelected}\n      />\n    </EditableDataTable>\n  );\n}\n")),Object(s.b)("h2",{id:"\u5220\u9664\u9009\u4e2d\u6570\u636e"},"\u5220\u9664\u9009\u4e2d\u6570\u636e"),Object(s.b)("p",null,"\u5728",Object(s.b)("inlineCode",{parentName:"p"},"usePaginationSelectedRows"),"\u4e2d\u6dfb\u52a0\u4e00\u4e2a",Object(s.b)("inlineCode",{parentName:"p"},"removeAllSelectedRows"),"\u65b9\u6cd5\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function usePaginationSelectedRows() {\n  /**\n   * \u5220\u9664\u6240\u6709\u9009\u4e2d\u7684\u6570\u636e\n   */\n  const removeAllSelectedRows = async () => {\n    const rows = [];\n    editingList.items\n      .map((item, idx) => rows.push([item, idx]))\n      .filter((_data, index) => editingList.selectedRows.includes(index));\n    await editingList.remove(rows);\n  };\n\n  return {\n    // ...\n    removeAllSelectedRows,\n  };\n}\n")),Object(s.b)("p",null,"\u5c06",Object(s.b)("inlineCode",{parentName:"p"},"paginationSelectedRows.removeAllSelectedRows"),"\u65b9\u6cd5\u7ed1\u5b9a\u5230\u5220\u9664\u6309\u94ae\u7684\u70b9\u51fb\u4e8b\u4ef6\u4e0a\u5373\u53ef\u3002"))}N&&N===Object(N)&&Object.isExtensible(N)&&Object.defineProperty(N,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs\\pagination-show.mdx"}}),N.isMDXComponent=!0},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./docs/PaginationEditableTableDemo.css":function(e,n,t){(e.exports=t("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,".sinoui-editable-data-table .sinoui-data-table-body-row_selected {\n  background-color: rgba(0, 0, 0, 0.12);\n}\n",""])},"./src/index.ts":function(e,n,t){"use strict";var a=t("./src/EditableDataTable.tsx"),i=t("./src/TableColumn.tsx"),r=t("./src/shared/EditorProps.ts"),s=t.n(r),o=t("./src/useEditingList.ts"),l=t("./src/useSimpleEditingList.ts"),c=t("./node_modules/react/index.js"),d=t.n(c),u=t("./node_modules/sinoui-components/Checkbox/index.js");function b(e){var n=e.isAllSelected,t=e.isContainsSelected,a=e.toggleAllSelected,r=e.selectedRows,s=e.toggleRowSelected,o=e.startIndex,l=void 0===o?0:o;return d.a.createElement(i.b,{width:50,title:d.a.createElement(u.b,{checked:n,indeterminate:!n&&t,onChange:a}),render:function(e,n,t,a,i){return d.a.createElement(u.b,{checked:-1!==r.indexOf(t+l),onChange:function(){return s(t+l)}})}})}var g=b;b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RowSelectColumn",filename:"src\\RowSelectColumn.tsx"}}),t.d(n,"b",function(){return i.b}),t.d(n,"d",function(){return o.a}),t.d(n,"e",function(){return l.a}),t.d(n,"a",function(){return g});n.c=a.b;"undefined"!==typeof a.b&&a.b&&a.b===Object(a.b)&&Object.isExtensible(a.b)&&Object.defineProperty(a.b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EditableDataTable",filename:"src\\index.ts"}}),"undefined"!==typeof g&&g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RowSelectColumn",filename:"src\\index.ts"}}),"undefined"!==typeof l.a&&l.a&&l.a===Object(l.a)&&Object.isExtensible(l.a)&&Object.defineProperty(l.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useSimpleEditingList",filename:"src\\index.ts"}}),"undefined"!==typeof o.a&&o.a&&o.a===Object(o.a)&&Object.isExtensible(o.a)&&Object.defineProperty(o.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useEditingList",filename:"src\\index.ts"}}),"undefined"!==typeof s.a&&s.a&&s.a===Object(s.a)&&Object.isExtensible(s.a)&&Object.defineProperty(s.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EditorProps",filename:"src\\index.ts"}}),"undefined"!==typeof i.Props&&i.Props&&i.Props===Object(i.Props)&&Object.isExtensible(i.Props)&&Object.defineProperty(i.Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TableColumnProps",filename:"src\\index.ts"}}),"undefined"!==typeof i.b&&i.b&&i.b===Object(i.b)&&Object.isExtensible(i.b)&&Object.defineProperty(i.b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TableColumn",filename:"src\\index.ts"}}),"undefined"!==typeof a.Props&&a.Props&&a.Props===Object(a.Props)&&Object.isExtensible(a.Props)&&Object.defineProperty(a.Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EditableDataTableProps",filename:"src\\index.ts"}})},"./src/shared/EditorProps.ts":function(e,n){},"./src/useEditingList.ts":function(e,n,t){"use strict";t.d(n,"a",function(){return g});var a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),r=t.n(i),s=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),l=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),c=t("./node_modules/@sinoui/use-rest-list-api/dist/index.js"),d=t.n(c),u=t("./node_modules/react/index.js"),b=t("./src/useSimpleEditingList.ts");function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,i=t||{},c=i.keyName,g=void 0===c?"id":c,m=i.alwaysEditing,p=void 0!==m&&m,j=d()(e,n,t),O=j.items,S=j.remove,P=j.update,f=j.save,x=j.isLoading,C=j.isError,N=j.query,w=j.fetch,z=j.sortWith,h=j.reload,L=j.reset,E=j.searchParams,v=j.sorts,R=Object(b.a)(O,t),T=R.setItems,A=R.remove,y=R.updateItem,_=R.setReadonly,D=Object(l.a)(R,["setItems","remove","updateItem","setReadonly"]);Object(u.useEffect)(function(){T(O)},[T,O]);var k=Object(u.useCallback)(function(e){return e[g]},[g]),B=Object(u.useCallback)(function(){var e=Object(o.a)(r.a.mark(function e(n,t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(n)){e.next=7;break}if(!((a=n.map(function(e){var n=Object(s.a)(e,1)[0];return k(n)}).filter(Boolean)).length>0)){e.next=5;break}return e.next=5,S(a,!1);case 5:e.next=10;break;case 7:if(!k(n)){e.next=10;break}return e.next=10,S(k(n),!1);case 10:A(Array.isArray(n)?n.map(function(e){return Object(s.a)(e,2)[1]}):t);case 11:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),[S,A,k]),M=Object(u.useCallback)(function(){var e=Object(o.a)(r.a.mark(function e(n,t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k(n)){e.next=6;break}return e.next=3,P(n,!1);case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,f(n,!1);case 8:a=e.sent;case 9:y(t,a),p||_(t);case 11:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),[k,y,p,P,f,_]);return Object(a.a)({},D,{query:N,fetch:w,sortWith:z,reload:h,reset:L,searchParams:E,sorts:v,isLoading:x,isError:C,remove:B,save:M,idPropertyName:g,setReadonly:_})}g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useEditingList",filename:"src\\useEditingList.ts"}})}}]);
//# sourceMappingURL=docs-pagination-show.7fe880294672c1986639.js.map