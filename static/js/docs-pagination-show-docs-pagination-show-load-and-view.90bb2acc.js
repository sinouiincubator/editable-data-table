(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"./docs/pagination-show-docs/pagination-show-load-and-view.mdx":function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return s});var t=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=(a("./node_modules/react/index.js"),a("./node_modules/@mdx-js/react/dist/index.es.js")),r={},o="wrapper";function s(e){var n=e.components,a=Object(t.a)(e,["components"]);return Object(i.b)(o,Object.assign({},r,a,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"\u52a0\u8f7d\u5e76\u5c55\u793a\u6570\u636e"},"\u52a0\u8f7d\u5e76\u5c55\u793a\u6570\u636e"),Object(i.b)("h2",{id:"\u52a0\u8f7d\u5e76\u5c55\u73b0\u5217\u8868\u6570\u636e"},"\u52a0\u8f7d\u5e76\u5c55\u73b0\u5217\u8868\u6570\u636e"),Object(i.b)("p",null,"\u672c\u4f8b\u9700\u8981\u4e00\u6b21\u6027\u52a0\u8f7d\u5168\u90e8\u7684\u5217\u8868\u6570\u636e\uff0c\u800c\u4e0d\u662f",Object(i.b)("a",Object.assign({parentName:"p"},{href:"/pagination-editable-table"}),"\u5206\u9875\u52a0\u8f7d\u6570\u636e"),"\u3002\u4f7f\u7528",Object(i.b)("inlineCode",{parentName:"p"},"useEditingList"),"\u6765\u52a0\u8f7d\u5217\u8868\u6570\u636e\u3002\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'import React from \'react\';\nimport EditableDataTable, {\n  TableColumn,\n  useEditingList,\n} from \'@sinouiincubator/editable-data-table\';\n\nfunction Demo() {\n  const editingList = useEditingList(\'/api/pagination-show-demo\');\n\n  return (\n    <EditableDataTable\n      data={editingList.items}\n      idPropertyName={editingList.idPropertyName}\n    >\n      <TableColumn title="id" name="id" />\n      <TableColumn title="\u6807\u9898" name="title" />\n    </EditableDataTable>\n  );\n}\n')),Object(i.b)("h2",{id:"\u5206\u9875\u5c55\u73b0\u6570\u636e"},"\u5206\u9875\u5c55\u73b0\u6570\u636e"),Object(i.b)("p",null,"\u53ef\u4ee5\u4f7f\u7528",Object(i.b)("inlineCode",{parentName:"p"},"sinoui-components/Pagination"),"\u7ec4\u4ef6\u4f5c\u4e3a\u5206\u9875\u5668\uff0c\u5c55\u73b0\u9875\u7801\u4fe1\u606f\u548c\u5207\u6362\u9875\u7801\u7684\u64cd\u4f5c\u6309\u94ae\u3002",Object(i.b)("inlineCode",{parentName:"p"},"Pagination"),"\u7ec4\u4ef6\u9700\u8981\u4ee5\u4e0b\u51e0\u4e2a\u5173\u952e\u5c5e\u6027\uff1a"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"total")," - \u5217\u8868\u6570\u636e\u603b\u6570\u76ee\u3002"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"currentPage")," - \u5f53\u524d\u9875\u7801\u3002\u4ece",Object(i.b)("inlineCode",{parentName:"li"},"1"),"\u5f00\u59cb\u3002"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"pageSize")," - \u9875\u5927\u5c0f\u3002\u4e00\u9875\u80fd\u591f\u5448\u73b0\u6570\u636e\u7684\u6570\u76ee\u3002"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"onChange")," - \u6307\u5b9a\u5f53\u524d\u9875\u7801\u3001\u9875\u5927\u5c0f\u53d1\u751f\u53d8\u5316\u7684\u56de\u8c03\u51fd\u6570\u3002")),Object(i.b)("p",null,"\u4e0a\u9762\u4e09\u4e2a\u5c5e\u6027\uff0c",Object(i.b)("inlineCode",{parentName:"p"},"total"),"\u7b49\u4e8e",Object(i.b)("inlineCode",{parentName:"p"},"editingList.items.length"),"\uff0c",Object(i.b)("inlineCode",{parentName:"p"},"currentPage"),"\u548c",Object(i.b)("inlineCode",{parentName:"p"},"pageSize"),"\u662f\u53d8\u5316\u7684\u6570\u636e\uff0c\u6240\u4ee5\u9700\u8981\u5b9a\u4e49\u4e24\u4e2a\u72b6\u6001\u6765\u7ef4\u62a4\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useState } from 'react';\nimport EditableDataTable, {\n  TableColumn,\n  useEditingList,\n} from '@sinouiincubator/editable-data-table';\nimport Pagination from 'sinoui-components/Pagination';\n\nfunction Demo() {\n  const editingList = useEditingList('/api/pagination-show-demo');\n  const [currentPage, setCurrentPage] = useState(0); // \u5f53\u524d\u9875\u7801\uff0c\u4e60\u60ef\u4ece0\u5f00\u59cb\u3002\u6ce8\u610f\u4e0ePagination.currentPage\u7684\u533a\u522b\u3002\n  const [pageSize, setPageSize] = useState(10);\n\n  const handlePaginationChange = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  return (\n    <div>\n      \x3c!--\u6b64\u5904\u7701\u7565EditableDataTable--\x3e\n      <Pagination\n        total={editingList.items.length}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        onChange={handlePaginationChange}\n      />\n    </div>\n  );\n}\n")),Object(i.b)("p",null,"\u4e0a\u9762\u7684\u4ee3\u7801\u53ea\u662f\u5c55\u73b0\u51fa\u4e86\u5206\u9875\u5668\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u89e3\u51b3\u5206\u9875\u5c55\u73b0\u5217\u8868\u6570\u636e\uff08\u6ce8\u610f\u54df\uff0c\u8fd9\u4e2a\u65f6\u5019\u5217\u8868\u8fd8\u662f\u5c55\u73b0\u6240\u6709\u7684\u6570\u636e\uff09\u3002"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\u7684",Object(i.b)("inlineCode",{parentName:"p"},"data"),"\u5c5e\u6027\u662f\u7528\u6765\u63a5\u6536\u9700\u8981\u5c55\u73b0\u7684\u4e00\u7ec4\u6570\u636e\u7684\u5c5e\u6027\u3002",Object(i.b)("inlineCode",{parentName:"p"},"data={editingList.items}"),"\u4f1a\u5c06\u6240\u6709\u7684\u6570\u636e\u7ed9\u4e86\u53ef\u7f16\u8f91\u8868\u683c\u5448\u73b0\u51fa\u6765\u3002\u73b0\u5728\u60f3\u8981\u53ea\u5448\u73b0\u5f53\u524d\u9875\u7684\u6570\u636e\uff0c\u90a3\u5c31\u8ba1\u7b97\u51fa\u5f53\u524d\u9875\u7684\u6570\u636e\u6570\u7ec4\u6307\u5b9a\u7ed9",Object(i.b)("inlineCode",{parentName:"p"},"data"),"\u5373\u53ef\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useMemo } from 'react';\n// ... \u7701\u7565\u4e00\u90e8\u5206import\u4ee3\u7801\n\nfunction Demo() {\n  // ...\u7701\u7565\u4e00\u90e8\u5206\u4ee3\u7801\n  const data = useMemo(() =>\n    editingList.items.slice(\n      currentPage * pageSize,\n      (currentPage + 1) * pageSize,\n    ),\n    [editingList.items, currentPage, pageSize],\n  );\n\n  return (\n    <div>\n      <EditableDataTable data={data}>\n        \x3c!--\u6b64\u5904\u7701\u7565TableColumn--\x3e\n      </EditableDataTable>\n      \x3c!--\u6b64\u5904\u7701\u7565Pagination--\x3e\n    </div>\n  );\n}\n")),Object(i.b)("p",null,"\u8fd9\u91cc\u4f7f\u7528",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://zh-hans.reactjs.org/docs/hooks-reference.html#usememo"}),"React useMemo"),"\u7f13\u5b58\u4e86\u5206\u9875\u6570\u636e\u7684\u8ba1\u7b97\u3002"),Object(i.b)("p",null,"\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useState, useMemo } from 'react';\nimport EditableDataTable, {\n  TableColumn,\n  useEditingList,\n} from '@sinouiincubator/editable-data-table';\nimport Pagination from 'sinoui-components/Pagination';\n\nfunction Demo() {\n  const editingList = useEditingList('/api/pagination-show-demo');\n\n  const [currentPage, setCurrentPage] = useState(0); // \u5f53\u524d\u9875\u7801\uff0c\u4e60\u60ef\u4ece0\u5f00\u59cb\u3002\u6ce8\u610f\u4e0ePagination.currentPage\u7684\u533a\u522b\u3002\n  const [pageSize, setPageSize] = useState(10);\n\n  const handlePaginationChange = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  const data = useMemo(\n    () =>\n      editingList.items.slice(\n        currentPage * pageSize,\n        (currentPage + 1) * pageSize,\n      ),\n    [editingList.items, currentPage, pageSize],\n  );\n\n  return (\n    <div>\n      <EditableDataTable\n        data={data}\n        idPropertyName={editingList.idPropertyName}\n      >\n        <TableColumn title=\"id\" name=\"id\" />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" />\n      </EditableDataTable>\n      <Pagination\n        total={editingList.items.length}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        onChange={handlePaginationChange}\n      />\n    </div>\n  );\n}\n")),Object(i.b)("h2",{id:"\u63d0\u70bc\u72b6\u6001\u7ba1\u7406"},"\u63d0\u70bc\u72b6\u6001\u7ba1\u7406"),Object(i.b)("p",null,"Demo \u7ec4\u4ef6\u76ee\u524d\u5df2\u7ecf\u6bd4\u8f83\u590d\u6742\u4e86\uff0c\u9700\u8981\u7ba1\u7406\u5f88\u591a\u72b6\u6001\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://zh-hans.reactjs.org/docs/hooks-custom.html"}),"\u81ea\u5b9a\u4e49 hook"),"\u5c06\u72b6\u6001\u7ba1\u7406\u63d0\u70bc\u5230\u66f4\u5c0f\u7684\u51fd\u6570\u4e2d\u8fdb\u884c\u7ef4\u62a4\u3002\u73b0\u5728\u6211\u4eec\u6765\u63d0\u70bc\u4e24\u4e2a\u81ea\u5b9a\u4e49 hook\uff0c\u5206\u522b\u662f",Object(i.b)("inlineCode",{parentName:"p"},"usePagination"),"\u548c",Object(i.b)("inlineCode",{parentName:"p"},"usePaginationList"),"\u3002"),Object(i.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u5c06\u5206\u9875\u5668\u72b6\u6001\u548c\u66f4\u65b0\u65b9\u6cd5\u8fc1\u79fb\u5230\u4e00\u4e2a\u81ea\u5b9a\u4e49 hook \u4e2d\uff0c\u6211\u4eec\u53d6\u540d\u4e3a",Object(i.b)("inlineCode",{parentName:"p"},"usePagination"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"/**\n * \u5206\u9875\u72b6\u6001hook\n */\nfunction usePagination(\n  defaultCurrentPage: number = 0,\n  defaultPageSize: number = 10,\n): [number, number, (pageNo: number, pageSize: number) => void] {\n  const [currentPage, setCurrentPage] = useState(defaultCurrentPage);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n\n  const update = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  return [currentPage, pageSize, update];\n}\n")),Object(i.b)("p",null,"\u8fd9\u6837 Demo \u7ec4\u4ef6\u4e2d\u7684\u5206\u9875\u4ee3\u7801\u53ef\u4ee5\u7b80\u5316\u4e00\u4e0b\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function Demo() {\n  const [currentPage, pageSize, update] = usePagination();\n\n  return (\n    <div>\n      <Pagination\n        total={editingList.items.length}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        onChange={(pageNo, newPageSize) => update(pageNo - 1, newPageSize)}\n      />\n    </div>\n  );\n}\n")),Object(i.b)("p",null,"\u53ef\u4ee5\u5c06\u83b7\u53d6\u5206\u9875\u7684\u5217\u8868\u6570\u636e\u4e5f\u63d0\u70bc\u5230\u81ea\u52a8\u4ee5 hook \u4e2d\uff0c\u6211\u4eec\u53d6\u540d\u4e3a",Object(i.b)("inlineCode",{parentName:"p"},"usePaginationList"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"/**\n * \u83b7\u53d6\u5206\u9875\u5217\u8868\n *\n * @param items \u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationList<T>(\n  items: T[],\n  currentPage: number,\n  pageSize: number,\n) {\n  const data = useMemo(\n    () => items.slice(currentPage * pageSize, (currentPage + 1) * pageSize),\n    [items, pageSize, currentPage],\n  );\n\n  return data;\n}\n")),Object(i.b)("p",null,"Demo \u7ec4\u4ef6\u53ef\u4ee5\u7b80\u5316",Object(i.b)("inlineCode",{parentName:"p"},"data"),"\u7684\u8ba1\u7b97\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function Demo() {\n  const data = usePaginationList(editingList.items, currentPage, pageSize);\n\n  return (\n    <div>\n      <EditableDataTable data={data} />\n    </div>\n  );\n}\n")),Object(i.b)("p",null,"\u5b8c\u6574\u7684\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useState, useMemo } from 'react';\nimport EditableDataTable, {\n  TableColumn,\n  useEditingList,\n} from '@sinouiincubator/editable-data-table';\nimport Pagination from 'sinoui-components/Pagination';\n\n/**\n * \u5206\u9875\u72b6\u6001hook\n */\nfunction usePagination(\n  defaultCurrentPage: number = 0,\n  defaultPageSize: number = 10,\n): [number, number, (pageNo: number, pageSize: number) => void] {\n  const [currentPage, setCurrentPage] = useState(defaultCurrentPage);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n\n  const update = (pageNo: number, newPageSize: number) => {\n    setCurrentPage(pageNo);\n    setPageSize(newPageSize);\n  };\n\n  return [currentPage, pageSize, update];\n}\n\n/**\n * \u83b7\u53d6\u5206\u9875\u5217\u8868\n *\n * @param items \u5217\u8868\n * @param currentPage \u5f53\u524d\u9875\n * @param pageSize \u9875\u5927\u5c0f\n */\nfunction usePaginationList<T>(\n  items: T[],\n  currentPage: number,\n  pageSize: number,\n) {\n  const data = useMemo(\n    () => items.slice(currentPage * pageSize, (currentPage + 1) * pageSize),\n    [items, pageSize, currentPage],\n  );\n\n  return data;\n}\n\nfunction Demo() {\n  const editingList = useEditingList('/api/pagination-show-demo');\n  const [currentPage, pageSize, update] = usePagination();\n  const data = usePaginationList(editingList.items, currentPage, pageSize);\n\n  return (\n    <div>\n      <EditableDataTable\n        data={data}\n        idPropertyName={editingList.idPropertyName}\n      >\n        <TableColumn title=\"id\" name=\"id\" />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" />\n      </EditableDataTable>\n      <Pagination\n        total={editingList.items.length}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        onChange={(pageNo, newPageSize) => update(pageNo - 1, newPageSize)}\n      />\n    </div>\n  );\n}\n")))}s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs\\pagination-show-docs\\pagination-show-load-and-view.mdx"}}),s.isMDXComponent=!0}}]);
//# sourceMappingURL=docs-pagination-show-docs-pagination-show-load-and-view.6a753f8b8e1b1b69887d.js.map