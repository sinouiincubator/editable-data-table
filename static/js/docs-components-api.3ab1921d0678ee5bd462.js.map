{"version":3,"sources":["/Users/sinosoft/Documents/GitHub/editable-data-table/docs/components-api.mdx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/Table.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/EmptyDataTableRow.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/DataTableColGroup.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/DataTableHead.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/DataTableBodyRow.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/DataTableBody.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/EditableDataTable.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/DataTableCellEditor.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/DataTableBodyCell.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/DataTableHeadCell.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/TableColumn.tsx","/Users/sinosoft/Documents/GitHub/editable-data-table/src/shared/DataTableRowContext.ts","/Users/sinosoft/Documents/GitHub/editable-data-table/src/shared/EditableDataTableContext.ts","/Users/sinosoft/Documents/GitHub/editable-data-table/src/shared/EditingBodyRowContainer.ts","/Users/sinosoft/Documents/GitHub/editable-data-table/src/shared/constants.ts"],"names":["layoutProps","MDXLayout","MDXContent","_ref","components","props","Object","_Users_sinosoft_Documents_GitHub_editable_data_table_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__","assign","mdxType","id","parentName","docz__WEBPACK_IMPORTED_MODULE_3__","of","EditableDataTable","TableColumn","className","isMDXComponent","captionTypeStyle","css","_templateObject","theme","typography","body1","fontSize","fontFamily","fontWeightMedium","color","bodyTypeStyle","_templateObject2","fontWeight","dataTableCellStyle","_templateObject3","palette","type","rowBgColor","light","tableRowSelected","tableRowHover","dark","StyledTable","styled","Table","_templateObject4","primary","caption","Wrapper","div","EmptyDataTableRow_templateObject","EmptyDataTableRow","children","react_default","a","createElement","data-testid","context","RowType","ColGroup","DataTableColGroup","DataTableRowContext","Provider","value","DataTableHead","React","memo","data","index","editing","error","touched","useMemo","Body","EditingBodyRowContainer","DataTableBody","idPropertyName","_ref$editingRows","editingRows","errors","length","map","item","src_DataTableBodyRow","key","concat","undefined","_props$data","_props$idPropertyName","_props$emptyTitle","emptyTitle","_ref$idPropertyName","onRowChange","validate","onFieldChange","options","useRef","useEffect","current","useEditableDataTable","Fragment","src_Table","EditableDataTableContext","src_DataTableColGroup","src_DataTableHead","src_DataTableBody","src_EmptyDataTableRow","name","Editor","editor","useContext","valueFromContext","_useState","useState","setValue","slicedToArray","_EditingBodyRowContai","useContainer","validateField","errorControlled","handleChange","useCallback","event","newValue","target","isChangeEvent","onChange","FormHelpText","MemoDataTableBodyCellInner","order","render","Error","src_DataTableCellEditor","DataTableBodyCell","state","DataTableHeadCell","title","classNames","align_center","width","Head","src_DataTableHeadCell","src_DataTableBodyCell","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_constants__WEBPACK_IMPORTED_MODULE_1__","createContext","createContainer","rowData","outerError","outTouched","_useState2","_Users_sinosoft_Documents_GitHub_editable_data_table_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","setTouched","_useState3","_useState4","setErrors","rowDataRef","_useContext","updateErrors","newErrors","prev","shallowEqual","newRowData","arguments","updateTouched","result","newTouched","keys","forEach","filter","fieldName","_Users_sinosoft_Documents_GitHub_editable_data_table_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_Users_sinosoft_Documents_GitHub_editable_data_table_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","d","__webpack_exports__"],"mappings":"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","file":"static/js/docs-components-api.cc92411a.js","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\nimport { Playground, Props } from 'docz';\nimport TableColumn from '../src/TableColumn';\nimport EditableDataTable from '../src/EditableDataTable';\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"组件-api\"\n    }}>{`组件 API`}</h1>\n    <p>{`包括两个核心的组件和一个自定义 hook：`}</p>\n    <ul>\n      <li parentName=\"ul\">{`EditableDataTable - 可编辑数据表格组件`}</li>\n      <li parentName=\"ul\">{`TableColumn - 定义数据表格列的组件`}</li>\n      <li parentName=\"ul\">{`useEditingList - 可编辑表格数据的状态管理 hook（与后端 API 交互，不包括校验状态）`}</li>\n      <li parentName=\"ul\">{`useSimpleEditingList - 可编辑表格数据的状态管理 hook （不与后端交互，但包括校验状态）`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"editabledatatable\"\n    }}>{`EditableDataTable`}</h2>\n    <Props of={EditableDataTable} mdxType=\"Props\" />\n    <h2 {...{\n      \"id\": \"tablecolumn\"\n    }}>{`TableColumn`}</h2>\n    <Props of={TableColumn} mdxType=\"Props\" />\n    <h2 {...{\n      \"id\": \"useeditinglist\"\n    }}>{`useEditingList`}</h2>\n    <h3 {...{\n      \"id\": \"参数配置\"\n    }}>{`参数配置`}</h3>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`url(string)`}</inlineCode>{` - crud 操作时的 url`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`defaultValue(T[])`}</inlineCode>{` - 指定默认列表数据，默认值为`}<inlineCode parentName=\"li\">{`[]`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`options`}</inlineCode>{` - 相关配置,主要有 idPropertyName（数据的 id 属性名。默认为`}<inlineCode parentName=\"li\">{`id`}</inlineCode>{`）`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"返回值的数据结构\"\n    }}>{`返回值的数据结构`}</h3>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`items(T[])`}</inlineCode>{` - 列表数据`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`editingRows(boolean[])`}</inlineCode>{` - 处于编辑状态的行。`}<inlineCode parentName=\"li\">{`editingRows`}</inlineCode>{`数组需要与`}<inlineCode parentName=\"li\">{`data`}</inlineCode>{`数组保持一一对应的关系，`}<inlineCode parentName=\"li\">{`editingRows`}</inlineCode>{`数组中每一个数据项代表的是`}<inlineCode parentName=\"li\">{`data`}</inlineCode>{`数组中对应数据项的编辑状态，`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{`表示编辑状态，`}<inlineCode parentName=\"li\">{`false`}</inlineCode>{`表示非编辑状态。`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`add(()=>void)`}</inlineCode>{` - 新增一条可编辑的空数据`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`remove((index:number)=>void)`}</inlineCode>{` - 删除一条数据`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`edit((index)=>void)`}</inlineCode>{` - 更新一条数据的编辑状态`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`save((row:T,index:number)=>void)`}</inlineCode>{` - 新增一条数据或者更新一条数据`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`idPropertyName(string)`}</inlineCode>{` - 数据的 id 属性名。默认为`}<inlineCode parentName=\"li\">{`id`}</inlineCode></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"usesimpleeditinglist\"\n    }}>{`useSimpleEditingList`}</h2>\n    <p>{`可编辑表格数据的状态管理 hook （不与后端交互，但包括校验状态）。`}</p>\n    <p>{`示例：`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-tsx\"\n      }}>{`import { useSimpleEditingList } from '@sinouiincubator/editable-data-table';\n\nfunction Demo() {\n  const editingList = useSimpleEditingList(defaultValue, options);\n  return null;\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"参数说明\"\n    }}>{`参数说明`}</h3>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`defaultValue`}</inlineCode>{` - 指定默认值，默认为`}<inlineCode parentName=\"li\">{`[]`}</inlineCode>{`。`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`options`}</inlineCode>{` - 指定配置：`}<ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`alwaysEditing?: boolean`}</inlineCode>{` - 如果为`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{`，则表示所有数据行处于编辑状态。默认为`}<inlineCode parentName=\"li\">{`false`}</inlineCode>{`。`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`validate?: (item: T) => ErrorResult | undefined`}</inlineCode>{` - 验证行数据的函数`}</li>\n        </ul></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"返回值editinglist\"\n    }}>{`返回值`}<inlineCode parentName=\"h3\">{`editingList`}</inlineCode></h3>\n    <p><inlineCode parentName=\"p\">{`editingList`}</inlineCode>{`对象有以下属性：`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`interface SimpleEditingListResult<T> {\n  /**\n   * 列表数据\n   */\n  items: T[];\n  /**\n   * 设置列表数据\n   *\n   * @param newItems 新的列表数据\n   */\n  setItems(newItems: T[]): void;\n  /**\n   * 数据行的编辑状态。\n   */\n  editingRows: boolean[];\n  /**\n   * 设置数据行处于编辑状态\n   *\n   * @param rowIndex 数据行所在的索引位置\n   */\n  edit(rowIndex: number): void;\n  /**\n   * 设置数据行处于只读状态\n   *\n   * @param rowIndex 数据行所在的索引位置\n   */\n  setReadonly(rowIndex: number): void;\n  /**\n   * 添加数据行\n   *\n   * @param item 需要添加的数据行\n   */\n  add(item: T): void;\n  /**\n   * 删除数据行\n   *\n   * @param index 数据行所在的索引位置\n   */\n  remove(index: number): void;\n  /**\n   * 删除一组数据行\n   *\n   * @param indexes 一组数据行所在的索引位置\n   */\n  removeItems(indexes: number[]): void;\n  /**\n   * 更新数据行\n   *\n   * @param index 数据行所在的索引位置\n   * @param item 新的数据对象\n   */\n  updateItem(index: number, item: T): void;\n  /**\n   * 错误状态\n   */\n  errors: ErrorResult[];\n  /**\n   * 编辑器被点击状态\n   */\n  touched: TouchedState[];\n  /**\n   * 校验单个数据项\n   *\n   * @param index 数据行所在的索引位置\n   * @param fieldName 数据项名称\n   * @param rowData 数据行的新数据对象\n   */\n  validateField(index: number, fieldName: string, rowData: T): void;\n  /**\n   * 校验所有编辑中的数据行\n   */\n  validateAllEditingRows(): boolean;\n}\n\ninterface ErrorResult {\n  [fieldName: string]: string;\n}\n\ninterface TouchedState {\n  [fieldName: string]: boolean;\n}\n`}</code></pre>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  ","import styled, { css } from 'sinoui-components/styles';\nimport Table from 'sinoui-components/Table';\n\nconst captionTypeStyle = css`\n  font-size: ${(props) => props.theme.typography.body1.fontSize}rem;\n  font-family: ${(props) => props.theme.typography.fontFamily};\n  font-weight: ${(props) => props.theme.typography.fontWeightMedium};\n  color: ${(props) => props.theme.typography.body1.color};\n`;\n\nconst bodyTypeStyle = css`\n  font-size: ${(props) => props.theme.typography.body1.fontSize}rem;\n  font-family: ${(props) => props.theme.typography.fontFamily};\n  font-weight: ${(props) => props.theme.typography.body1.fontWeight};\n  color: ${(props) => props.theme.typography.body1.color};\n`;\n\nconst dataTableCellStyle = css`\n  padding: 0;\n  padding-left: 8px;\n  padding-right: 8px;\n  border-bottom: 1px solid\n    ${(props) =>\n      props.theme.palette.type === 'light'\n        ? 'rgba(224, 224, 224, 1)'\n        : 'rgba(80, 80, 80, 1)'};\n`;\n\nconst rowBgColor = {\n  light: {\n    tableRowSelected: 'rgba(0, 0, 0, 0.04)', // 表格行选中时的背景色\n    tableRowHover: 'rgba(0, 0, 0, 0.07)', // 表格行hover时的背景色\n  },\n  dark: {\n    tableRowSelected: 'rgba(255, 255, 255, 0.08)', // 表格行选中时的背景色\n    tableRowHover: 'rgba(255, 255, 255, 0.14)', // 表格行hover时的背景色\n  },\n};\n\nconst StyledTable = styled(Table)`\n  table-layout: fixed;\n  border-top: 1px solid rgba(224, 224, 224, 1);\n  & .sinoui-data-table-head {\n    ${captionTypeStyle};\n    ${dataTableCellStyle};\n    background-color: ${(props) =>\n      props.theme.palette.type === 'light'\n        ? props.theme.palette.primary[50]\n        : props.theme.palette.primary[200]};\n    text-align: left;\n    vertical-align: middle;\n  }\n\n  .sinoui-checkbox-button {\n    margin: 14px;\n  }\n\n  & .sinoui-data-table-head.numeric,\n  .sinoui-data-table-body-td.numeric {\n    text-align: right;\n    flex-direction: row-reverse;\n  }\n\n  & .sinoui-data-table-head.align_center,\n  .sinoui-data-table-body-td.align_center {\n    text-align: center;\n  }\n\n  & .sinoui-data-table-head.checkbox,\n  .sinoui-data-table-body-td.checkbox {\n    padding: 0;\n    width: 48px;\n  }\n\n  & .sinoui-data-table-head.extraInfo,\n  .sinoui-data-table-body-td.extraInfo {\n    padding: 0;\n    width: 60px;\n  }\n\n  & .sinoui-data-table-head:last-child,\n  .sinoui-data-table-body-td:last-child {\n    padding-right: 24px;\n  }\n\n  & .sinoui-data-table-footer {\n    ${captionTypeStyle};\n    ${dataTableCellStyle};\n    padding-left: 24px;\n    padding-right: 12px;\n  }\n\n  & .sinoui-data-table-body-cell-no-data {\n    ${bodyTypeStyle};\n    ${dataTableCellStyle};\n    padding: 64px;\n    text-align: center;\n    color: ${(props) => props.theme.typography.caption.color};\n  }\n\n  & .sinoui-data-table-body-td {\n    ${bodyTypeStyle};\n    ${dataTableCellStyle};\n    text-align: left;\n    vertical-align: middle;\n    word-wrap: break-word;\n    word-break: break-all;\n  }\n\n  & .sinoui-data-table-head-row {\n    height: 48px;\n  }\n\n  & .sinoui-data-table-footer-row,\n  .sinoui-data-table-body-row-no-data {\n    height: 56px;\n    background-color: transparent;\n  }\n\n  & .sinoui-data-table-body-row {\n    height: 48px;\n    background-color: transparent;\n\n    &:hover {\n      background-color: ${(props) =>\n        rowBgColor[props.theme.palette.type].tableRowHover};\n    }\n  }\n\n  & .sinoui-data-table-body-row.selected {\n    background-color: ${(props) =>\n      rowBgColor[props.theme.palette.type].tableRowSelected};\n  }\n`;\n\nexport default StyledTable;\n","import React from 'react';\nimport styled from 'sinoui-components/styles';\n\nconst Wrapper = styled.div`\n  text-align: center;\n  padding: 32px 8px;\n`;\n\n/**\n * 表格空数据时显示的行\n */\nconst EmptyDataTableRow: React.SFC = (props) => {\n  const { children } = props;\n  return (\n    <Wrapper className=\"sinoui-data-table-info\" data-testid=\"emptyInfo\">\n      {children}\n    </Wrapper>\n  );\n};\n\nexport default EmptyDataTableRow;\n","import React from 'react';\nimport { RowType } from './shared/constants';\nimport DataTableRowContext from './shared/DataTableRowContext';\n\nconst context: { type: RowType.ColGroup } = {\n  type: RowType.ColGroup,\n};\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nfunction DataTableColGroup(props: Props) {\n  const { children } = props;\n  return (\n    <DataTableRowContext.Provider value={context}>\n      <colgroup data-testid=\"colgroup\">{children}</colgroup>\n    </DataTableRowContext.Provider>\n  );\n}\n\nexport default DataTableColGroup;\n","import React from 'react';\n\n/**\n * 数据表头\n */\nconst DataTableHead: React.SFC = function TableHead({ children }) {\n  return (\n    <thead>\n      <tr className=\"sinoui-data-table-head-row\" data-testid=\"tableHead\">\n        {children}\n      </tr>\n    </thead>\n  );\n};\n\nexport default DataTableHead;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useMemo } from 'react';\nimport { RowType } from './shared/constants';\nimport DataTableRowContext, {\n  BodyRowContextType,\n} from './shared/DataTableRowContext';\nimport EditingBodyRowContainer from './shared/EditingBodyRowContainer';\n\ninterface Props<T> {\n  /**\n   * 此行数据\n   */\n  data: T;\n  /**\n   * 数据序号\n   */\n  index: number;\n  /**\n   * 单元格子组件\n   */\n  children: React.ReactNode;\n\n  /**\n   * 是否处于编辑状态\n   */\n  editing?: boolean;\n\n  /**\n   * 行数据错误状态\n   */\n  error?: ErrorResult;\n\n  /**\n   * 单元格编辑器是否被点击过\n   */\n  touched?: TouchedState;\n}\n\ntype CompType<T = any> = React.SFC<Props<T>>;\n\n/**\n * 内容行\n */\nconst DataTableBodyRow: CompType = (props) => {\n  const { data, index, children, editing, error, touched } = props;\n  const context: BodyRowContextType<any> = useMemo(\n    () => ({\n      type: RowType.Body,\n      data,\n      index,\n      editing: !!editing,\n      error,\n      touched,\n    }),\n    [data, index, editing, error, touched],\n  );\n\n  return (\n    <DataTableRowContext.Provider value={context}>\n      <EditingBodyRowContainer.Provider>\n        <tr className=\"sinoui-data-table-body-row\" data-testid=\"bodyRow\">\n          {children}\n        </tr>\n      </EditingBodyRowContainer.Provider>\n    </DataTableRowContext.Provider>\n  );\n};\n\nexport default React.memo(DataTableBodyRow);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\nimport DataTableBodyRow from './DataTableBodyRow';\n\n/**\n * 数据表格内容组件\n */\nconst DataTableBody: React.SFC<{\n  data?: any[];\n  idPropertyName: string;\n  editingRows?: boolean[];\n  errors?: ErrorResult[];\n  touched?: TouchedState[];\n}> = function DataTableBody({\n  idPropertyName,\n  data,\n  children,\n  editingRows = [],\n  errors,\n  touched,\n}) {\n  if (!data || data.length === 0) {\n    return null;\n  }\n  return (\n    <tbody>\n      {data.map((item, index) => (\n        <DataTableBodyRow\n          key={item[idPropertyName] || `index_${index}`}\n          data={item}\n          index={index}\n          data-testid=\"tableBody\"\n          editing={editingRows[index]}\n          error={errors ? errors[index] : undefined}\n          touched={touched ? touched[index] : undefined}\n        >\n          {children}\n        </DataTableBodyRow>\n      ))}\n    </tbody>\n  );\n};\n\nexport default DataTableBody;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useMemo, useRef, useEffect } from 'react';\nimport Table from './Table';\nimport EditableDataTableContext from './shared/EditableDataTableContext';\nimport EmptyDataTableRow from './EmptyDataTableRow';\nimport DataTableColGroup from './DataTableColGroup';\nimport DataTableHead from './DataTableHead';\nimport DataTableBody from './DataTableBody';\n\nexport interface Props<T> {\n  /**\n   * 列表数据\n   */\n  data?: T[];\n  /**\n   * 处于编辑状态的行。`editingRows`数组需要与`data`数组保持一一对应的关系，`editingRows`数组中每一个数据项代表的是`data`数组中对应数据项的编辑状态，`true`表示编辑状态，`false`表示非编辑状态。\n   */\n  editingRows?: boolean[];\n\n  /**\n   * 错误状态\n   */\n  errors?: ErrorResult[];\n\n  /**\n   * 单元格是否被点击的状态\n   */\n  touched?: TouchedState[];\n\n  /**\n   * 子节点，一组TableColumn。使用TableColumn指表格列信息。\n   */\n  children: React.ReactNode;\n  /**\n   * 数据的id属性名。默认为'id'。\n   */\n  idPropertyName?: string;\n  /**\n   * 无数据时的提示信息。默认为“暂无数据”。\n   */\n  emptyTitle?: React.ReactNode;\n\n  /**\n   * 监听行数据发生变化的事件。回调函数的`rowData`参数代表的是变更后的行数据对象。\n   */\n  onRowChange?: (index: number, rowData: T) => void;\n\n  /**\n   * 监听单元格值变化事件。回调函数的`rowData`参数代表的是变更后的行数据对象。\n   */\n  onFieldChange?: (index: number, fieldName: string, rowData: T) => void;\n\n  /**\n   * 给正在编辑的行添加校验规则。\n   * \n   * 返回错误提示：\n   * \n   * ```js\n     {\n       'title': '不能为空',\n       'name': '不能少于三个字'\n     }\n   * ```\n   *\n   * 上面的错误信息表示字段`title`和`name`校验失败。\n   * \n   * 如果数据行没有错误，则返回`{}`或者`undefined`。\n   */\n  validate?: (rowData: T) => { [x: string]: string } | undefined;\n}\n\nfunction useEditableDataTable<T>({\n  idPropertyName = 'id',\n  onRowChange,\n  validate,\n  onFieldChange,\n}: Props<T>) {\n  const options = useRef({\n    onRowChange,\n    validate,\n    onFieldChange,\n  });\n\n  useEffect(() => {\n    options.current.onRowChange = onRowChange;\n    options.current.validate = validate;\n    options.current.onFieldChange = onFieldChange;\n  }, [onRowChange, validate, onFieldChange]);\n\n  const context = useMemo(\n    () => ({ idPropertyName, options: options.current }),\n    [idPropertyName],\n  );\n\n  return context;\n}\n\n/**\n * 可编辑表格\n */\nfunction EditableDataTable<T>(props: Props<T>) {\n  const {\n    data = [],\n    idPropertyName = 'id',\n    children,\n    emptyTitle = '暂无数据',\n    editingRows,\n    errors,\n    touched,\n  } = props;\n  const context = useEditableDataTable(props);\n  return (\n    <>\n      <Table>\n        <EditableDataTableContext.Provider value={context}>\n          <DataTableColGroup>{children}</DataTableColGroup>\n          <DataTableHead>{children}</DataTableHead>\n          <DataTableBody\n            data={data}\n            idPropertyName={idPropertyName}\n            editingRows={editingRows}\n            errors={errors}\n            touched={touched}\n          >\n            {children}\n          </DataTableBody>\n        </EditableDataTableContext.Provider>\n      </Table>\n      {(!data || data.length === 0) && (\n        <EmptyDataTableRow>{emptyTitle}</EmptyDataTableRow>\n      )}\n    </>\n  );\n}\n\nexport default EditableDataTable;\n","import React, { useState, useContext, useCallback, useMemo } from 'react';\nimport FormHelpText from 'sinoui-components/Form/FormHelpText';\nimport DataTableRowContext, {\n  BodyRowContextType,\n} from './shared/DataTableRowContext';\nimport EditableDataTableContext from './shared/EditableDataTableContext';\nimport EditingBodyRowContainer from './shared/EditingBodyRowContainer';\n\ninterface Props {\n  editor: React.ReactType;\n  name: string;\n}\n\nfunction isChangeEvent(\n  event?: React.ChangeEvent<HTMLInputElement> | string,\n): event is React.ChangeEvent<HTMLInputElement> {\n  return !!(event && (event as React.ChangeEvent<HTMLInputElement>).target);\n}\n\n/**\n * 单元格编辑器\n */\nfunction DataTableCellEditor(props: Props) {\n  const { name, editor: Editor } = props;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const { data, index } = useContext(DataTableRowContext) as BodyRowContextType<\n    any\n  >;\n  const valueFromContext = data[name] || '';\n  const [, setValue] = useState(valueFromContext);\n  const { options } = useContext(EditableDataTableContext);\n  const {\n    touched,\n    errors,\n    validateField,\n    errorControlled,\n  } = EditingBodyRowContainer.useContainer();\n\n  const handleChange = useCallback(\n    (event?: React.ChangeEvent<HTMLInputElement> | string) => {\n      const newValue = isChangeEvent(event) ? event.target.value : event;\n      setValue(newValue);\n\n      data[name] = newValue;\n\n      if (options.onRowChange) {\n        options.onRowChange(index, data);\n      }\n\n      if (options.onFieldChange) {\n        options.onFieldChange(index, name, data);\n      }\n\n      if (!errorControlled) {\n        validateField(name, data);\n      }\n    },\n    [data, name, options, index, errorControlled, validateField],\n  );\n\n  const isTouched = touched[name];\n  const error = isTouched ? errors[name] : undefined;\n\n  const element = useMemo(\n    () => (\n      <>\n        <Editor\n          name={name}\n          value={valueFromContext}\n          item={data}\n          onChange={handleChange}\n          error={!!error}\n        />\n        {error && <FormHelpText error>{error}</FormHelpText>}\n      </>\n    ),\n    [data, error, handleChange, name, valueFromContext],\n  );\n\n  return element;\n}\n\nexport default React.memo(DataTableCellEditor);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useContext } from 'react';\nimport EditableDataTableContext from './shared/EditableDataTableContext';\nimport DataTableRowContext, {\n  BodyRowContextType,\n} from './shared/DataTableRowContext';\nimport DataTableCellEditor from './DataTableCellEditor';\nimport EditingBodyRowContainer from './shared/EditingBodyRowContainer';\n\ninterface CellState<T> {\n  data: T;\n  index: number;\n  editing: boolean;\n  errors?: { [x: string]: any };\n  validate: (rowData?: T) => boolean;\n  idPropertyName: string;\n}\n\ninterface DataCellProps<T, CellDataType> {\n  /**\n   * 是否显示序号\n   */\n  order?: boolean;\n  /**\n   * 渲染单元格\n   */\n  render?: (\n    value: CellDataType,\n    row: T,\n    index: number,\n    id: string,\n    context: {\n      editing: boolean;\n      validate: (rowData?: any) => boolean;\n    },\n  ) => React.ReactNode;\n  /**\n   * 数据列名称\n   */\n  name?: string;\n\n  /**\n   * 编辑器\n   */\n  editor?: React.ReactType;\n}\n\nfunction useCellState<T>(): CellState<T> {\n  const { data, index, editing } = useContext(\n    DataTableRowContext,\n  ) as BodyRowContextType<any>;\n  const { validate } = EditingBodyRowContainer.useContainer();\n  const { idPropertyName } = useContext(EditableDataTableContext);\n\n  return {\n    data,\n    index,\n    editing,\n    idPropertyName,\n    validate,\n  };\n}\n\n/**\n * 数据单元格\n */\nfunction DataTableBodyCellInner(\n  props: DataCellProps<any, any> & CellState<any>,\n) {\n  const {\n    order,\n    render,\n    name,\n    editor,\n    index,\n    editing,\n    data,\n    idPropertyName,\n    validate,\n  } = props;\n\n  if (order) {\n    return (\n      <td className=\"sinoui-data-table-body-td align_center\">{index + 1}</td>\n    );\n  }\n\n  if (editing && editor) {\n    if (!name) {\n      throw new Error(`没有给TableColumn指定name属性`);\n    }\n    return (\n      <td className=\"sinoui-data-table-body-td\">\n        <DataTableCellEditor name={name} editor={editor} />\n      </td>\n    );\n  }\n\n  if (render) {\n    return (\n      <td className=\"sinoui-data-table-body-td\">\n        {render(\n          name ? data[name] : undefined,\n          data,\n          index,\n          data[idPropertyName],\n          {\n            editing,\n            validate,\n          },\n        )}\n      </td>\n    );\n  }\n\n  return name ? (\n    <td className=\"sinoui-data-table-body-td\">{data[name]}</td>\n  ) : null;\n}\n\nconst MemoDataTableBodyCellInner = React.memo(DataTableBodyCellInner);\n\nfunction DataTableBodyCell<T = any, CellDataType = string>(\n  props: DataCellProps<T, CellDataType>,\n) {\n  const state = useCellState<any>();\n\n  return <MemoDataTableBodyCellInner {...props} {...state} />;\n}\n\nexport default DataTableBodyCell;\n","import React from 'react';\nimport classNames from 'classnames';\n\ninterface Props {\n  order?: boolean;\n  title?: React.ReactNode;\n}\n\n/**\n * 表格头单元格\n */\nfunction DataTableHeadCell(props: Props) {\n  const { order, title } = props;\n  return (\n    <th\n      className={classNames('sinoui-data-table-head', {\n        // eslint-disable-next-line @typescript-eslint/camelcase\n        align_center: order,\n      })}\n    >\n      {title}\n    </th>\n  );\n}\n\nexport default DataTableHeadCell;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useContext } from 'react';\nimport DataTableRowContext from './shared/DataTableRowContext';\nimport DataTableBodyCell from './DataTableBodyCell';\nimport DataTableHeadCell from './DataTableHeadCell';\nimport { RowType } from './shared/constants';\n\nexport interface Props<T, CellDataType> {\n  /**\n   * 数据列名称\n   */\n  name?: string;\n  /**\n   * 标题\n   */\n  title?: React.ReactNode;\n\n  /**\n   * 是否显示序号\n   */\n  order?: boolean;\n\n  /**\n   * 渲染单元格\n   */\n  render?: (\n    value: CellDataType,\n    row: T,\n    index: number,\n    id: string,\n    context: {\n      editing: boolean;\n      validate: (rowData?: any) => boolean;\n    },\n  ) => React.ReactNode;\n\n  /**\n   * 列宽度\n   */\n  width?: number | string;\n\n  /**\n   * 编辑器\n   */\n  editor?: React.ReactType;\n}\n\n/**\n * 表格列\n */\nconst TableColumn: React.SFC<Props<any, any>> = React.memo(function TableColumn<\n  T,\n  CellDataType\n>(props: Props<T, CellDataType>) {\n  const { title, order, width } = props;\n  const { type } = useContext(DataTableRowContext);\n\n  switch (type) {\n    case RowType.Head:\n      return <DataTableHeadCell title={title} order={order} />;\n    case RowType.ColGroup:\n      return <col width={order ? 50 : width} />;\n    default:\n      return <DataTableBodyCell {...props} />;\n  }\n});\n\nexport default TableColumn;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\nimport { RowType } from './constants';\n\nexport interface BodyRowContextType<T> {\n  type: RowType.Body;\n  data: T;\n  index: number;\n  /**\n   * 是否处于编辑状态\n   */\n  editing: boolean;\n\n  /**\n   * 数据行的验证结果\n   */\n  error?: ErrorResult;\n\n  /**\n   * 单元格数据被点击状态\n   */\n  touched?: TouchedState;\n}\n\nexport interface HeadRowContextType {\n  type: RowType.Head;\n}\n\nexport interface ColGroupContextType {\n  type: RowType.ColGroup;\n}\n\nexport type RowContextType<T = any> =\n  | BodyRowContextType<T>\n  | HeadRowContextType\n  | ColGroupContextType;\n\nconst DataTableRowContext = React.createContext<RowContextType>({\n  type: RowType.Head,\n});\n\nexport default DataTableRowContext;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\n\ninterface ContextType {\n  idPropertyName: string;\n  options: {\n    onRowChange?: (index: number, rowData: any) => void;\n    onFieldChange?: (index: number, fieldName: string, rowData: any) => void;\n    validate?: (rowData: any) => { [x: string]: string } | undefined;\n  };\n}\n\nconst EditableDataTableContext = React.createContext<ContextType>({\n  idPropertyName: 'id',\n  options: {},\n});\n\nexport default EditableDataTableContext;\n","import { useState, useCallback, useRef, useEffect, useContext } from 'react';\nimport { createContainer } from 'unstated-next';\nimport shallowEqual from 'shallowequal';\nimport EditableDataTableContext from './EditableDataTableContext';\nimport DataTableRowContext, { BodyRowContextType } from './DataTableRowContext';\n\ninterface ContextType<T> {\n  /**\n   * 校验错误信息\n   */\n  errors: {\n    [x: string]: string;\n  };\n\n  /**\n   * 表单校验状态是否是受控于外部。（也就是使用者处理数据行校验）\n   */\n  errorControlled: boolean;\n\n  /**\n   * 点击状态\n   */\n  touched: {\n    [x: string]: boolean;\n  };\n\n  /**\n   * 校验数据行\n   *\n   * 如果通过校验，则返回`true`，否则返回`false`。\n   */\n  validate: (newItem?: T) => boolean;\n\n  /**\n   * 校验表单域\n   */\n  validateField: (fieldName: string, newRowData: T) => void;\n}\n\n/**\n * 用于正在编辑的行数据的状态管理hook\n *\n * 主要维护的状态：\n *\n * * 表单校验\n * * 是否点击过的状态\n *\n */\nfunction useEditingBodyRow<T>(): ContextType<T> {\n  const { data: rowData, error: outerError, touched: outTouched } = useContext(\n    DataTableRowContext,\n  ) as BodyRowContextType<T>;\n  const [touched, setTouched] = useState<{ [x: string]: boolean }>({});\n  const [errors, setErrors] = useState({});\n  const rowDataRef = useRef(rowData);\n  const { options, idPropertyName } = useContext(EditableDataTableContext);\n\n  useEffect(() => {\n    rowDataRef.current = rowData;\n  }, [rowData]);\n\n  const updateErrors = useCallback((newErrors: any) => {\n    setErrors((prev) => {\n      if (!shallowEqual(newErrors, prev)) {\n        return newErrors;\n      }\n      return prev;\n    });\n  }, []);\n\n  useEffect(() => {\n    if (!(rowData as any)[idPropertyName] && options.validate) {\n      const newErrors = options.validate(rowData) || {};\n      updateErrors(newErrors);\n    }\n  }, [rowData, options, idPropertyName, updateErrors]);\n\n  const validate = useCallback(\n    (newRowData: T = rowDataRef.current, updateTouched: boolean = true) => {\n      if (options.validate) {\n        const result = options.validate(newRowData);\n        if (result) {\n          if (updateTouched) {\n            const newTouched: { [x: string]: boolean } = {};\n            Object.keys(result).forEach((key) => {\n              newTouched[key] = true;\n            });\n\n            setTouched(newTouched);\n          }\n\n          updateErrors(result || {});\n\n          return (\n            Object.keys(result).filter((key) => !!result[key]).length === 0\n          );\n        }\n      }\n\n      return true;\n    },\n    [options, updateErrors],\n  );\n\n  const validateField = useCallback(\n    (fieldName: string, newRowData: T) => {\n      setTouched((prev) => {\n        if (!prev[fieldName]) {\n          return { ...prev, [fieldName]: true };\n        }\n        return prev;\n      });\n      validate(newRowData, false);\n    },\n    [validate],\n  );\n\n  return {\n    errors: outerError || errors,\n    errorControlled: !!outerError,\n    touched: outTouched || touched,\n    validate,\n    validateField,\n  };\n}\n\nconst EditingBodyRowContainer = createContainer(useEditingBodyRow);\n\nexport default EditingBodyRowContainer;\n","export enum RowType {\n  Body,\n  Head,\n  ColGroup,\n}\n\nexport const EMPTY_ROW_INFO = '暂无数据';\n"],"sourceRoot":""}