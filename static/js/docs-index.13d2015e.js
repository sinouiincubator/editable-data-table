(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./docs/SelectRow.css":function(e,t,n){var i=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./docs/SelectRow.css");"string"===typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},l=n("./node_modules/style-loader/lib/addStyles.js")(i,a);i.locals&&(e.exports=i.locals),e.hot.accept("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./docs/SelectRow.css",function(){var t=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./docs/SelectRow.css");if("string"===typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,i=0;for(n in e){if(!t||e[n]!==t[n])return!1;i++}for(n in t)i--;return 0===i}(i.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(t)}),e.hot.dispose(function(){l()})},"./docs/index.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return f});var i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("./node_modules/react/index.js"),d=n.n(o),s=n("./node_modules/@mdx-js/react/dist/index.es.js"),b=n("./node_modules/docz/dist/index.esm.js"),r=n("./src/TableColumn.tsx"),u=n("./src/EditableDataTable.tsx"),c=n("./src/useEditingList.ts"),m=n("./node_modules/sinoui-components/Button/index.js"),p=n("./node_modules/sinoui-components/TextInput/index.js"),j=n("./node_modules/sinoui-components/Confirm/index.js"),g=n("./node_modules/immer/dist/immer.module.js"),O=n("./src/useSimpleEditingList.ts"),T=n("./src/RowSelectColumn.tsx"),C=(n("./docs/SelectRow.css"),{}),x="wrapper";function f(e){var t=e.components,n=Object(l.a)(e,["components"]);return Object(s.b)(x,Object.assign({},C,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"\u53ef\u7f16\u8f91\u8868\u683c"},"\u53ef\u7f16\u8f91\u8868\u683c"),Object(s.b)("p",null,"\u5b89\u88c5\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-shell"}),"yarn add @sinouiincubator/editable-data-table\n")),Object(s.b)("p",null,"\u5f15\u7528\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"import EditableDataTable, {\n  TableColumn,\n} from '@sinouiincubator/editable-data-table';\n")),Object(s.b)("p",null,"\u6e90\u7801\u8def\u5f84\uff1a",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/sinouiincubator/editable-data-table"}),"https://github.com/sinouiincubator/editable-data-table"),"\u3002"),Object(s.b)("p",null,"\u53ef\u7f16\u8f91\u5217\u8868\uff08",Object(s.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\uff09\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"\u5c55\u73b0\u5217\u8868\u6570\u636e\uff08\u4e0d\u652f\u6301\u5206\u9875\uff0c\u4f46\u662f\u53ef\u4ee5\u4e0e\u5206\u9875\u529f\u80fd\u7ec4\u5408\u4f7f\u7528\uff09",Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"https://sinouiincubator.github.io/editable-data-table/pagination"}),"\u5206\u9875\u52a0\u8f7d\u6570\u636e")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"https://sinouiincubator.github.io/editable-data-table/pagination-show"}),"\u5206\u9875\u5c55\u793a\u6570\u636e")))),Object(s.b)("li",{parentName:"ul"},"\u7f16\u8f91\u6570\u636e\u884c"),Object(s.b)("li",{parentName:"ul"},"\u6821\u9a8c\u6570\u636e\u884c"),Object(s.b)("li",{parentName:"ul"},"\u9009\u62e9\u6570\u636e\u884c")),Object(s.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u53ef\u7f16\u8f91\u8868\u683c\u505a\u5217\u8868\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u3002\u4e0b\u9762\u6211\u4eec\u901a\u8fc7\u4f8b\u5b50\u6765\u4e86\u89e3\u57fa\u672c\u7528\u6cd5\u3002"),Object(s.b)("h2",{id:"\u5c55\u73b0\u5217\u8868\u6570\u636e"},"\u5c55\u73b0\u5217\u8868\u6570\u636e"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\u53ef\u4ee5\u7528\u6765\u5c55\u73b0\u5217\u8868\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7",Object(s.b)("inlineCode",{parentName:"p"},"TableColumn"),"\u5b9a\u4e49\u5217\u8868\u7684\u5217\u4fe1\u606f\uff1a\u5217\u6807\u9898\u3001\u5217\u5355\u5143\u683c\u6570\u636e\u6e32\u67d3\u903b\u8f91\u3001\u5bbd\u5ea6\u7b49\u3002"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import EditableDataTable, {\n  TableColumn,\n} from '@sinouiincubator/editable-data-table';\n\nfunction Demo() {\n  const users = [\n    {\n      id: '1',\n      firstName: 'Jacking',\n      lastName: 'Liu',\n      title: 'developer',\n    },\n    {\n      id: '2',\n      firstName: 'Zinuo',\n      lastName: 'Tian',\n      title: 'developer',\n    },\n  ];\n\n  return (\n    <EditableDataTable data={users}>\n      <TableColumn title=\"id\" name=\"id\" />\n      <TableColumn\n        title=\"\u59d3\u540d\"\n        render={(value, row) => `${row.firstName} ${row.lastName}`}\n      />\n      <TableColumn title=\"\u6807\u9898\" name=\"title\" />\n    </EditableDataTable>\n  );\n}\n")),Object(s.b)("p",null,"\u67e5\u770b\u8fd0\u884c\u6548\u679c\uff1a"),Object(s.b)(b.c,{__position:0,__code:"() => {\n  const users = [\n    {\n      id: '1',\n      firstName: 'Jacking',\n      lastName: 'Liu',\n      title: 'developer',\n    },\n    {\n      id: '2',\n      firstName: 'Zinuo',\n      lastName: 'Tian',\n      title: 'developer',\n    },\n  ]\n  return (\n    <EditableDataTable data={users}>\n      <TableColumn title=\"id\" name=\"id\" />\n      <TableColumn\n        title=\"\u59d3\u540d\"\n        render={(value, row) => `${row.firstName} ${row.lastName}`}\n      />\n      <TableColumn title=\"\u6807\u9898\" name=\"title\" />\n    </EditableDataTable>\n  )\n}",__scope:{props:this?this.props:n,useState:o.useState,useCallback:o.useCallback,useMemo:o.useMemo,Playground:b.c,Props:b.d,TableColumn:r.b,EditableDataTable:u.b,useEditingList:c.a,Button:m.b,TextInput:p.b,Confirm:j.a,produce:g.default,useSimpleEditingList:O.a,RowSelectColumn:T.a},mdxType:"Playground"},function(){return Object(s.b)(u.b,{data:[{id:"1",firstName:"Jacking",lastName:"Liu",title:"developer"},{id:"2",firstName:"Zinuo",lastName:"Tian",title:"developer"}],mdxType:"EditableDataTable"},Object(s.b)(r.b,{title:"id",name:"id",mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u59d3\u540d",render:function(e,t){return"".concat(t.firstName," ").concat(t.lastName)},mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u6807\u9898",name:"title",mdxType:"TableColumn"}))}),Object(s.b)("h2",{id:"\u7f16\u8f91\u6570\u636e\u884c"},"\u7f16\u8f91\u6570\u636e\u884c"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\u7ec4\u4ef6\u901a\u8fc7",Object(s.b)("inlineCode",{parentName:"p"},"editingRows"),"\u63a5\u6536\u6570\u636e\u884c\u662f\u5426\u5904\u4e8e\u7f16\u8f91\u72b6\u6001\u7684\u6570\u636e\u3002\u8fd9\u662f\u4e00\u4e2a\u4e0e",Object(s.b)("inlineCode",{parentName:"p"},"data"),"\u6570\u7ec4\u7b49\u957f\u7684\u5e03\u5c14\u6570\u7ec4\uff0c",Object(s.b)("inlineCode",{parentName:"p"},"editingRows"),"\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u4e0e",Object(s.b)("inlineCode",{parentName:"p"},"data"),"\u6570\u7ec4\u4e00\u4e00\u5bf9\u5e94\uff0c",Object(s.b)("inlineCode",{parentName:"p"},"true"),"\u8868\u793a\u7f16\u8f91\u72b6\u6001\u3001",Object(s.b)("inlineCode",{parentName:"p"},"false"),"\u8868\u793a\u975e\u7f16\u8f91\u72b6\u6001\u3002"),Object(s.b)("p",null,"\u53ef\u4ee5\u901a\u8fc7",Object(s.b)("inlineCode",{parentName:"p"},"TableColumn"),"\u7ec4\u4ef6\u7684",Object(s.b)("inlineCode",{parentName:"p"},"editor"),"\u5c5e\u6027\u6307\u5b9a\u5355\u5143\u683c\u7684\u7f16\u8f91\u5668\u3002\u5982\u4e0b\u6240\u793a\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),'import EditableDataTable, {\n  TableColumn,\n} from \'@sinouiincubator/editable-data-table\';\n\nfunction Demo() {\n  const users = [\n    {\n      id: \'1\',\n      name: \'Jacking\',\n      title: \'developer\',\n    },\n    {\n      id: \'2\',\n      name: \'zinuo\',\n      title: \'developer\',\n    },\n  ];\n\n  const editingRows = [false, true]; // \u7b2c\u4e8c\u884c\u6570\u636e\u662f\u7f16\u8f91\u72b6\u6001\n\n  return (\n    <EditableDataTable data={users} editingRows={editingRows}>\n      <TableColumn title="id" name="id" editor="input" />\n      <TableColumn title="\u59d3\u540d" name="name" editor="input" />\n      <TableColumn title="\u6807\u9898" name="title" editor="input" />\n    </EditableDataTable>\n  );\n}\n')),Object(s.b)("p",null,"\u67e5\u770b\u8fd0\u884c\u6548\u679c\uff1a"),Object(s.b)(b.c,{__position:1,__code:'() => {\n  const users = [\n    {\n      id: \'1\',\n      name: \'Jacking\',\n      title: \'developer\',\n    },\n    {\n      id: \'2\',\n      name: \'zinuo\',\n      title: \'developer\',\n    },\n  ]\n  const editingRows = [false, true] // \u7b2c\u4e8c\u884c\u6570\u636e\u662f\u7f16\u8f91\u72b6\u6001\n\n  return (\n    <EditableDataTable data={users} editingRows={editingRows}>\n      <TableColumn title="id" name="id" editor="input" />\n      <TableColumn title="\u59d3\u540d" name="name" editor="input" />\n      <TableColumn title="\u6807\u9898" name="title" editor="input" />\n    </EditableDataTable>\n  )\n}',__scope:{props:this?this.props:n,useState:o.useState,useCallback:o.useCallback,useMemo:o.useMemo,Playground:b.c,Props:b.d,TableColumn:r.b,EditableDataTable:u.b,useEditingList:c.a,Button:m.b,TextInput:p.b,Confirm:j.a,produce:g.default,useSimpleEditingList:O.a,RowSelectColumn:T.a},mdxType:"Playground"},function(){return Object(s.b)(u.b,{data:[{id:"1",name:"Jacking",title:"developer"},{id:"2",name:"zinuo",title:"developer"}],editingRows:[!1,!0],mdxType:"EditableDataTable"},Object(s.b)(r.b,{title:"id",name:"id",editor:"input",mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u59d3\u540d",name:"name",editor:"input",mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u6807\u9898",name:"title",editor:"input",mdxType:"TableColumn"}))}),Object(s.b)("h2",{id:"\u6821\u9a8c\u6570\u636e\u884c"},"\u6821\u9a8c\u6570\u636e\u884c"),Object(s.b)("p",null,"\u53ef\u4ee5\u901a\u8fc7",Object(s.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\u7684",Object(s.b)("inlineCode",{parentName:"p"},"validate"),"\u5c5e\u6027\u6307\u5b9a\u884c\u6570\u636e\u7684\u6821\u9a8c\uff0c\u8fd9\u662f\u4e00\u4e2a\u65b9\u6cd5\uff0c\u65b9\u6cd5\u8fd4\u56de\u9a8c\u8bc1\u9519\u8bef\u7684\u7ed3\u679c\u3002\u5982\u4e0b\u6240\u793a\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"function validate(rowData) {\n  const errors = {};\n\n  if (!rowData.id) {\n    errors.id = '\u5fc5\u586b';\n  }\n\n  if (!rowData.name) {\n    errors.name = '\u5fc5\u586b';\n  }\n\n  if (rowData.title && rowData.title.startsWith('1')) {\n    errors.title = '\u4e0d\u80fd\u4ee51\u5f00\u5934';\n  }\n\n  return errors;\n}\n")),Object(s.b)("p",null,"\u8fd9\u4e2a\u65b9\u6cd5\u8fd0\u884c\u7684\u7ed3\u679c\u7c7b\u4f3c\u5982\u4e0b\u9762\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"{\n  id: '\u5fc5\u586b',\n  title: '\u4e0d\u80fd\u4ee51\u5f00\u5934'\n}\n")),Object(s.b)("p",null,"\u8fd9\u4e2a\u952e\u503c\u5bf9\u6570\u636e\uff0c\u952e\u8868\u793a\u6709\u9a8c\u8bc1\u9519\u8bef\u7684\u5b57\u6bb5\u540d\uff08\u8868\u5355\u57df\u540d\u79f0\uff09\uff0c\u503c\u8868\u793a\u5b57\u6bb5\u540d\u5bf9\u5e94\u7684\u9a8c\u8bc1\u9519\u8bef\u3002"),Object(s.b)("p",null,"\u770b\u770b\u6548\u679c\uff1a"),Object(s.b)(b.c,{__position:2,__code:"() => {\n  function validate(rowData) {\n    const errors = {}\n    if (!rowData.id) {\n      errors.id = '\u5fc5\u586b'\n    }\n\n    if (!rowData.name) {\n      errors.name = '\u5fc5\u586b'\n    }\n\n    if (rowData.title && rowData.title.startsWith('1')) {\n      errors.title = '\u4e0d\u80fd\u4ee51\u5f00\u5934'\n    }\n\n    return errors\n  }\n\n  const users = [\n    {\n      id: '1',\n      name: 'Jacking',\n      title: 'developer',\n    },\n    {\n      id: '2',\n      name: 'zinuo',\n      title: 'developer',\n    },\n  ]\n\n  const editingRows = [false, true] // \u7b2c\u4e8c\u884c\u6570\u636e\u662f\u7f16\u8f91\u72b6\u6001\n\n  return (\n    <EditableDataTable\n      data={users}\n      editingRows={editingRows}\n      validate={validate}\n    >\n      <TableColumn title=\"id\" name=\"id\" editor=\"input\" />\n      <TableColumn title=\"\u59d3\u540d\" name=\"name\" editor=\"input\" />\n      <TableColumn title=\"\u6807\u9898\" name=\"title\" editor=\"input\" />\n    </EditableDataTable>\n  )\n}",__scope:{props:this?this.props:n,useState:o.useState,useCallback:o.useCallback,useMemo:o.useMemo,Playground:b.c,Props:b.d,TableColumn:r.b,EditableDataTable:u.b,useEditingList:c.a,Button:m.b,TextInput:p.b,Confirm:j.a,produce:g.default,useSimpleEditingList:O.a,RowSelectColumn:T.a},mdxType:"Playground"},function(){return Object(s.b)(u.b,{data:[{id:"1",name:"Jacking",title:"developer"},{id:"2",name:"zinuo",title:"developer"}],editingRows:[!1,!0],validate:function(e){var t={};return e.id||(t.id="\u5fc5\u586b"),e.name||(t.name="\u5fc5\u586b"),e.title&&e.title.startsWith("1")&&(t.title="\u4e0d\u80fd\u4ee51\u5f00\u5934"),t},mdxType:"EditableDataTable"},Object(s.b)(r.b,{title:"id",name:"id",editor:"input",mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u59d3\u540d",name:"name",editor:"input",mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u6807\u9898",name:"title",editor:"input",mdxType:"TableColumn"}))}),Object(s.b)("h2",{id:"\u589e\u5220\u6539\u67e5"},"\u589e\u5220\u6539\u67e5"),Object(s.b)("p",null,"\u53ef\u4ee5\u57fa\u4e8e",Object(s.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\u5b9e\u73b0\u589e\u5220\u6539\u67e5\u3002\u770b\u770b\u4e0b\u9762\u4e00\u4e2a\u4e0e\u540e\u7aef API \u65e0\u6cd5\u7684\u589e\u5220\u6539\u67e5\u793a\u4f8b\uff1a"),Object(s.b)(b.c,{__position:3,__code:"() => {\n  const validate = data => {\n    const result = {}\n    if (!data.id) {\n      result.id = '\u5fc5\u586b'\n    }\n    if (data.title && data.title.startsWith('1')) {\n      result.title = '\u6807\u9898\u4e0d\u80fd\u4ee51\u5f00\u5934'\n    }\n    return result\n  }\n  const [editingRows, setEditingRows] = useState([true, false])\n  const [items, setItems] = useState([\n    { id: '1', title: '123' },\n    { id: '2', title: '1234' },\n  ])\n\n  const handleSave = (row, index, context) => {\n    if (!context.validate()) {\n      alert('\u6570\u636e\u586b\u5199\u4e0d\u5b8c\u6574')\n    } else {\n      setEditingRows(\n        produce(editingRows, draft => {\n          draft[index] = false\n        }),\n      )\n      alert('\u4fdd\u5b58\u6210\u529f')\n    }\n  }\n\n  const handleEdit = index => {\n    setEditingRows(\n      produce(editingRows, draft => {\n        draft[index] = true\n      }),\n    )\n  }\n\n  const handleRemove = index => {\n    const removeByIndex = produce(draft => {\n      draft.splice(index, 1)\n    })\n    setEditingRows(removeByIndex)\n    setItems(removeByIndex)\n  }\n\n  const handleAdd = () => {\n    setEditingRows([...editingRows, true])\n    setItems([...items, {}])\n  }\n\n  return (\n    <>\n      <Button onClick={handleAdd}>\u65b0\u589e</Button>\n      <EditableDataTable\n        data={items}\n        editingRows={editingRows}\n        validate={validate}\n      >\n        <TableColumn title=\"\u5e8f\u53f7\" order />\n        <TableColumn title=\"id\" name=\"id\" editor={TextInput} />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" editor={TextInput} />\n        <TableColumn\n          title=\"\u64cd\u4f5c\"\n          name=\"id\"\n          render={(value, row, index, id, context) => (\n            <>\n              {context.editing ? (\n                <Button\n                  autoWidth\n                  onClick={() => handleSave(row, index, context)}\n                >\n                  \u4fdd\u5b58\n                </Button>\n              ) : (\n                <Button autoWidth onClick={() => handleEdit(index)}>\n                  \u7f16\u8f91\n                </Button>\n              )}\n              <Button autoWidth onClick={() => handleRemove(index)}>\n                \u5220\u9664\n              </Button>\n            </>\n          )}\n        />\n      </EditableDataTable>\n    </>\n  )\n}",__scope:{props:this?this.props:n,useState:o.useState,useCallback:o.useCallback,useMemo:o.useMemo,Playground:b.c,Props:b.d,TableColumn:r.b,EditableDataTable:u.b,useEditingList:c.a,Button:m.b,TextInput:p.b,Confirm:j.a,produce:g.default,useSimpleEditingList:O.a,RowSelectColumn:T.a},mdxType:"Playground"},function(){var e=Object(o.useState)([!0,!1]),t=Object(a.a)(e,2),n=t[0],l=t[1],b=Object(o.useState)([{id:"1",title:"123"},{id:"2",title:"1234"}]),c=Object(a.a)(b,2),j=c[0],O=c[1];return Object(s.b)(d.a.Fragment,null,Object(s.b)(m.b,{onClick:function(){l([].concat(Object(i.a)(n),[!0])),O([].concat(Object(i.a)(j),[{}]))},mdxType:"Button"},"\u65b0\u589e"),Object(s.b)(u.b,{data:j,editingRows:n,validate:function(e){var t={};return e.id||(t.id="\u5fc5\u586b"),e.title&&e.title.startsWith("1")&&(t.title="\u6807\u9898\u4e0d\u80fd\u4ee51\u5f00\u5934"),t},mdxType:"EditableDataTable"},Object(s.b)(r.b,{title:"\u5e8f\u53f7",order:!0,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"id",name:"id",editor:p.b,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u6807\u9898",name:"title",editor:p.b,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u64cd\u4f5c",name:"id",render:function(e,t,i,a,o){return Object(s.b)(d.a.Fragment,null,o.editing?Object(s.b)(m.b,{autoWidth:!0,onClick:function(){return function(e,t,i){i.validate()?(l(Object(g.default)(n,function(e){e[t]=!1})),alert("\u4fdd\u5b58\u6210\u529f")):alert("\u6570\u636e\u586b\u5199\u4e0d\u5b8c\u6574")}(0,i,o)},mdxType:"Button"},"\u4fdd\u5b58"):Object(s.b)(m.b,{autoWidth:!0,onClick:function(){return function(e){l(Object(g.default)(n,function(t){t[e]=!0}))}(i)},mdxType:"Button"},"\u7f16\u8f91"),Object(s.b)(m.b,{autoWidth:!0,onClick:function(){return function(e){var t=Object(g.default)(function(t){t.splice(e,1)});l(t),O(t)}(i)},mdxType:"Button"},"\u5220\u9664"))},mdxType:"TableColumn"})))}),Object(s.b)("h2",{id:"\u4f7f\u7528-usesimpleeditinglist"},"\u4f7f\u7528 useSimpleEditingList"),Object(s.b)("p",null,"\u4f7f\u7528",Object(s.b)("a",Object.assign({parentName:"p"},{href:"components-api#usesimpleeditinglist020"}),"useSimpleEditingList"),"\u53ef\u7b80\u5316\u53ef\u7f16\u8f91\u5217\u8868\u7684\u5f00\u53d1\u3002\u5b83\u4f1a\u7ba1\u7406\u53ef\u7f16\u8f91\u8868\u683c\u7684\u5916\u90e8\u72b6\u6001\u7ba1\u7406\uff0c\u5305\u62ec\uff1a"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"items")," - \u5217\u8868\u6570\u636e\u7ef4\u62a4"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"editingRows")," - \u7f16\u8f91\u72b6\u6001\u7ef4\u62a4"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"errors"),"\u548c",Object(s.b)("inlineCode",{parentName:"li"},"touched")," - \u6821\u9a8c\u72b6\u6001\u7ef4\u62a4\uff0c\u89c1",Object(s.b)("a",Object.assign({parentName:"li"},{href:"validate"}),"\u6821\u9a8c\u7ae0\u8282")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"selectedRows")," - \u884c\u9009\u62e9\u72b6\u6001\u7ef4\u62a4\uff0c\u89c1",Object(s.b)("a",Object.assign({parentName:"li"},{href:"#%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%A1%8C"}),"\u9009\u62e9\u6570\u636e\u884c"))),Object(s.b)("p",null,"\u4f46\u4e0d\u5305\u542b\u4e0e\u540e\u7aef\u4ea4\u4e92\u7684\u90e8\u5206\u3002\u5982\u679c\u4f60\u9700\u8981\u4e0e\u540e\u7aef\u4ea4\u4e92\uff0c\u8bf7\u79fb\u6b65\u5230\uff1a"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"#%E4%BD%BF%E7%94%A8-useeditinglist"}),"\u4f7f\u7528 useEditingList \u52a0\u8f7d\u5e76\u7ba1\u7406\u8868\u683c\u6570\u636e")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object.assign({parentName:"li"},{href:"pagination"}),"\u5206\u9875\u52a0\u8f7d\u6570\u636e\u7684\u53ef\u7f16\u8f91\u6570\u636e\u8868\u683c"))),Object(s.b)("p",null,"\u4e00\u4e2a\u4f7f\u7528",Object(s.b)("a",Object.assign({parentName:"p"},{href:"components-api#usesimpleeditinglist020"}),"useSimpleEditingList"),"\u6765\u7ba1\u7406\u53ef\u7f16\u8f91\u8868\u683c\u7684\u6570\u636e\u548c\u7f16\u8f91\u72b6\u6001\u7684\u4f8b\u5b50\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'import EditableDataTable, {\n  useEiditingList,\n  TableColumn,\n} from \'@sinouiincubator/editable-data-table\';\nimport Button from \'sinoui-components/Button\';\nimport TextInput from \'sinoui-components/TextInput\';\n\nfunction Demo() {\n  const {\n    items,\n    add,\n    remove,\n    edit,\n    editingRows,\n    setItems,\n    setReadonly,\n  } = useSimpleEditingList([]);\n\n  return (\n    <>\n      <Button onClick={() => add({})}>\u65b0\u589e</Button>\n      <EditableDataTable data={items} editingRows={editingRows}>\n        <TableColumn title="\u5e8f\u53f7" order />\n        <TableColumn title="\u6807\u9898" name="title" editor={TextInput} />\n        <TableColumn title="\u5907\u6ce8" name="note" editor={TextInput} />\n        <TableColumn\n          title="\u64cd\u4f5c"\n          name="id"\n          render={(value, row, index, id, context) => (\n            <>\n              {context.editing ? (\n                <Button autoWidth onClick={() => setReadonly(index)}>\n                  \u4fdd\u5b58\n                </Button>\n              ) : (\n                <Button autoWidth onClick={() => edit(index)}>\n                  \u7f16\u8f91\n                </Button>\n              )}\n              <Button autoWidth onClick={() => remove(index)}>\n                \u5220\u9664\n              </Button>\n            </>\n          )}\n        />\n      </EditableDataTable>\n    </>\n  );\n}\n')),Object(s.b)("p",null,"\u793a\u4f8b\uff1a"),Object(s.b)(b.c,{__position:4,__code:'() => {\n  const {\n    items,\n    add,\n    remove,\n    edit,\n    editingRows,\n    setReadonly,\n  } = useSimpleEditingList([])\n  return (\n    <>\n      <Button onClick={() => add({})}>\u65b0\u589e</Button>\n      <EditableDataTable data={items} editingRows={editingRows}>\n        <TableColumn title="\u5e8f\u53f7" order />\n        <TableColumn title="\u6807\u9898" name="title" editor={TextInput} />\n        <TableColumn title="\u5907\u6ce8" name="note" editor={TextInput} />\n        <TableColumn\n          title="\u64cd\u4f5c"\n          name="id"\n          render={(_value, _row, index, _id, context) => (\n            <>\n              {context.editing ? (\n                <Button autoWidth onClick={() => setReadonly(index)}>\n                  \u4fdd\u5b58\n                </Button>\n              ) : (\n                <Button autoWidth onClick={() => edit(index)}>\n                  \u7f16\u8f91\n                </Button>\n              )}\n              <Button autoWidth onClick={() => remove(index)}>\n                \u5220\u9664\n              </Button>\n            </>\n          )}\n        />\n      </EditableDataTable>\n    </>\n  )\n}',__scope:{props:this?this.props:n,useState:o.useState,useCallback:o.useCallback,useMemo:o.useMemo,Playground:b.c,Props:b.d,TableColumn:r.b,EditableDataTable:u.b,useEditingList:c.a,Button:m.b,TextInput:p.b,Confirm:j.a,produce:g.default,useSimpleEditingList:O.a,RowSelectColumn:T.a},mdxType:"Playground"},function(){var e=Object(O.a)([]),t=e.items,n=e.add,i=e.remove,a=e.edit,l=e.editingRows,o=e.setReadonly;return Object(s.b)(d.a.Fragment,null,Object(s.b)(m.b,{onClick:function(){return n({})},mdxType:"Button"},"\u65b0\u589e"),Object(s.b)(u.b,{data:t,editingRows:l,mdxType:"EditableDataTable"},Object(s.b)(r.b,{title:"\u5e8f\u53f7",order:!0,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u6807\u9898",name:"title",editor:p.b,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u5907\u6ce8",name:"note",editor:p.b,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u64cd\u4f5c",name:"id",render:function(e,t,n,l,b){return Object(s.b)(d.a.Fragment,null,b.editing?Object(s.b)(m.b,{autoWidth:!0,onClick:function(){return o(n)},mdxType:"Button"},"\u4fdd\u5b58"):Object(s.b)(m.b,{autoWidth:!0,onClick:function(){return a(n)},mdxType:"Button"},"\u7f16\u8f91"),Object(s.b)(m.b,{autoWidth:!0,onClick:function(){return i(n)},mdxType:"Button"},"\u5220\u9664"))},mdxType:"TableColumn"})))}),Object(s.b)("p",null,"\u7279\u522b\u6ce8\u610f\uff1a"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"\u53ea\u6709\u4f7f\u7528",Object(s.b)("inlineCode",{parentName:"li"},"setItems"),"\u624d\u80fd\u66f4\u6362\u5217\u8868\u6570\u636e"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"useSimpleEditingList(defaultItems)"),"\u53ea\u662f\u6307\u5b9a\u9ed8\u8ba4\u6570\u636e")),Object(s.b)("p",null,"\u5982\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"const dataSource = useRestListApi('/api/demo');\nconst editingList = useSimpleEditingList(dataSource.items);\n\nuseEffect(() => {\n  editingList.setItems(dataSource.items);\n}, [dataSource.items]);\n")),Object(s.b)("h2",{id:"\u9009\u62e9\u6570\u636e\u884c"},"\u9009\u62e9\u6570\u636e\u884c"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"\u53ef\u4ee5\u4f7f\u7528",Object(s.b)("inlineCode",{parentName:"li"},"useSimpleEditingList"),"\u548c",Object(s.b)("inlineCode",{parentName:"li"},"RowSelectColumn"),"\u7ec4\u5408\u5b9e\u73b0\u9009\u62e9\u6570\u636e\u884c\u7684\u529f\u80fd"),Object(s.b)("li",{parentName:"ul"},"\u53ef\u4ee5\u4f7f\u7528",Object(s.b)("inlineCode",{parentName:"li"},"EditableDataTable"),"\u7684",Object(s.b)("inlineCode",{parentName:"li"},"rowClassName"),"\u5c5e\u6027\u5b9a\u5236\u9009\u4e2d\u884c\u7684\u6837\u5f0f")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"SelectDemo.tsx")),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React from 'react';\nimport TextInput from 'sinoui-components/TextInput';\nimport Button from 'sinoui-components/Button';\nimport Confirm from 'sinoui-components/Confirm';\nimport EditableDataTable, {\n  TableColumn,\n  useSimpleEditingList,\n  RowSelectColumn,\n} from '@sinouiincubator/editable-data-table';\nimport './SelectRow.css';\n\ninterface Data {\n  id?: string;\n  title?: string;\n  note?: string;\n}\n\nconst data = [\n  { id: '1', title: '\u6807\u98981', note: '\u5907\u6ce81' },\n  { id: '2', title: '\u6807\u98982', note: '\u5907\u6ce82' },\n  { id: '3', title: '\u6807\u98983', note: '\u5907\u6ce83' },\n  { id: '4', title: '\u6807\u98984', note: '\u5907\u6ce84' },\n];\n\nfunction SelectDemo() {\n  const {\n    editingRows,\n    items,\n    remove,\n    selectedRows,\n    isAllSelected,\n    isContainsSelected,\n    toggleAllSelected,\n    toggleRowSelected,\n  } = useSimpleEditingList<Data>(data, {\n    alwaysEditing: true,\n  });\n\n  /**\n   * \u81ea\u5b9a\u4e49\u6570\u636e\u884c\u7684\u6837\u5f0f\uff0c\u5982\u679c\u662f\u9009\u4e2d\u884c\uff0c\u8bbe\u7f6e\u4e00\u4e2aclass\u540d\u79f0\n   * @param index \u6570\u636e\u884c\u7684\u7d22\u5f15\n   */\n  const handleRowClassName = (index: number) => {\n    if (selectedRows.indexOf(index) !== -1) {\n      return 'sinoui-data-table-body-row_selected';\n    }\n    return '';\n  };\n\n  return (\n    <>\n      <Confirm\n        message={`\u662f\u5426\u786e\u5b9a\u5220\u9664\u7b2c${selectedRows\n          .map((row) => row + 1)\n          .join('\u3001')}\u6761\u6570\u636e\uff1f`}\n        onOk={() => remove(selectedRows)}\n      >\n        <Button>\u5220\u9664</Button>\n      </Confirm>\n\n      <EditableDataTable\n        data={items}\n        editingRows={editingRows}\n        rowClassName={handleRowClassName}\n      >\n        <RowSelectColumn\n          selectedRows={selectedRows}\n          isAllSelected={isAllSelected}\n          isContainsSelected={isContainsSelected}\n          toggleAllSelected={toggleAllSelected}\n          toggleRowSelected={toggleRowSelected}\n        />\n        <TableColumn title=\"\u5e8f\u53f7\" order />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" editor={TextInput} />\n        <TableColumn title=\"\u5907\u6ce8\" name=\"note\" editor={TextInput} />\n      </EditableDataTable>\n    </>\n  );\n}\n")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"SelectRow.css")),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-css"}),".sinoui-editable-data-table .sinoui-data-table-body-row_selected {\n  background-color: rgba(0, 0, 0, 0.12);\n}\n")),Object(s.b)("p",null,"\u8fd0\u884c\u6548\u679c\uff1a"),Object(s.b)(b.c,{__position:5,__code:"() => {\n  const data = [\n    { id: '1', title: '\u6807\u9898 1', note: '\u5907\u6ce8 1' },\n    { id: '2', title: '\u6807\u9898 2', note: '\u5907\u6ce8 2' },\n    { id: '3', title: '\u6807\u9898 3', note: '\u5907\u6ce8 3' },\n    { id: '4', title: '\u6807\u9898 4', note: '\u5907\u6ce8 4' },\n  ]\n  const {\n    editingRows,\n    items,\n    remove,\n    selectedRows,\n    isAllSelected,\n    isContainsSelected,\n    toggleAllSelected,\n    toggleRowSelected,\n  } = useSimpleEditingList(data, { alwaysEditing: true })\n\n  const handleRowClassName = index => {\n    if (selectedRows.indexOf(index) !== -1) {\n      return 'sinoui-data-table-body-row_selected'\n    }\n    return ''\n  }\n\n  return (\n    <>\n      <Confirm\n        message={`\u662f\u5426\u786e\u5b9a\u5220\u9664\u7b2c${selectedRows\n          .map(row => row + 1)\n          .join('\u3001')}\u6761\u6570\u636e\uff1f`}\n        onOk={() => remove(selectedRows)}\n      >\n        <Button>\u5220\u9664</Button>\n      </Confirm>\n\n      <EditableDataTable\n        data={items}\n        editingRows={editingRows}\n        rowClassName={handleRowClassName}\n      >\n        <RowSelectColumn\n          selectedRows={selectedRows}\n          isAllSelected={isAllSelected}\n          isContainsSelected={isContainsSelected}\n          toggleAllSelected={toggleAllSelected}\n          toggleRowSelected={toggleRowSelected}\n        />\n        <TableColumn title=\"\u5e8f\u53f7\" order />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" editor={TextInput} />\n        <TableColumn title=\"\u5907\u6ce8\" name=\"note\" editor={TextInput} />\n      </EditableDataTable>\n    </>\n  )\n}",__scope:{props:this?this.props:n,useState:o.useState,useCallback:o.useCallback,useMemo:o.useMemo,Playground:b.c,Props:b.d,TableColumn:r.b,EditableDataTable:u.b,useEditingList:c.a,Button:m.b,TextInput:p.b,Confirm:j.a,produce:g.default,useSimpleEditingList:O.a,RowSelectColumn:T.a},mdxType:"Playground"},function(){var e=Object(O.a)([{id:"1",title:"\u6807\u9898 1",note:"\u5907\u6ce8 1"},{id:"2",title:"\u6807\u9898 2",note:"\u5907\u6ce8 2"},{id:"3",title:"\u6807\u9898 3",note:"\u5907\u6ce8 3"},{id:"4",title:"\u6807\u9898 4",note:"\u5907\u6ce8 4"}],{alwaysEditing:!0}),t=e.editingRows,n=e.items,i=e.remove,a=e.selectedRows,l=e.isAllSelected,o=e.isContainsSelected,b=e.toggleAllSelected,c=e.toggleRowSelected;return Object(s.b)(d.a.Fragment,null,Object(s.b)(j.a,{message:"\u662f\u5426\u786e\u5b9a\u5220\u9664\u7b2c".concat(a.map(function(e){return e+1}).join("\u3001"),"\u6761\u6570\u636e\uff1f"),onOk:function(){return i(a)},mdxType:"Confirm"},Object(s.b)(m.b,{mdxType:"Button"},"\u5220\u9664")),Object(s.b)(u.b,{data:n,editingRows:t,rowClassName:function(e){return-1!==a.indexOf(e)?"sinoui-data-table-body-row_selected":""},mdxType:"EditableDataTable"},Object(s.b)(T.a,{selectedRows:a,isAllSelected:l,isContainsSelected:o,toggleAllSelected:b,toggleRowSelected:c,mdxType:"RowSelectColumn"}),Object(s.b)(r.b,{title:"\u5e8f\u53f7",order:!0,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u6807\u9898",name:"title",editor:p.b,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u5907\u6ce8",name:"note",editor:p.b,mdxType:"TableColumn"})))}),Object(s.b)("h2",{id:"\u4f7f\u7528-useeditinglist"},"\u4f7f\u7528 useEditingList"),Object(s.b)("p",null,"\u53ef\u4ee5\u4f7f\u7528 useEditingList \u7b80\u5316\u589e\u5220\u6539\u67e5\u573a\u666f\u7684\u5f00\u53d1\uff1a"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"\u5185\u7f6e",Object(s.b)("a",Object.assign({parentName:"li"},{href:"components-api#usesimpleeditinglist020"}),"useSimpleEditingList"),"\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\n\u533a\u522b\u5c31\u662f",Object(s.b)("inlineCode",{parentName:"li"},"useSimpleEditingList"),"\u7684\u589e\u5220\u6539\u65b9\u6cd5\u4e0d\u4e0e\u540e\u7aef\u4ea4\u4e92\uff0c\u800c",Object(s.b)("inlineCode",{parentName:"li"},"useEditingList"),"\u7684\u589e\u5220\u6539\u67e5\u5747\u4e0e\u540e\u7aef\u4ea4\u4e92\u3002"),Object(s.b)("li",{parentName:"ul"},"\u96c6\u6210\u4e86",Object(s.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/sinoui/use-rest-list-api"}),"@sinoui/use-rest-list-api"),"\uff0c\u4e0e\u540e\u7aef API \u505a\u589e\u5220\u6539\u67e5\u4ea4\u4e92\u3002")),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import EditableDataTable, {\n  useEiditingList,\n  TableColumn,\n} from '@sinouiincubator/editable-data-table';\nimport Button from 'sinoui-components/Button';\nimport TextInput from 'sinoui-components/TextInput';\n\nfunction validate(data) {\n  const result = {};\n  if (!data.id) {\n    result.id = '\u5fc5\u586b';\n  }\n  if (data.title && data.title.startsWith('1')) {\n    result.title = '\u6807\u9898\u4e0d\u80fd\u4ee51\u5f00\u5934';\n  }\n  return result;\n}\n\nfunction Demo() {\n  const {\n    items,\n    add,\n    edit,\n    save,\n    remove,\n    idPropertyName,\n    editingRows,\n  } = useEditingList('/api/tests', []);\n\n  const handleSave = (row, index, context) => {\n    if (!context.validate()) {\n      alert('\u6570\u636e\u586b\u5199\u4e0d\u5b8c\u6574');\n    } else {\n      save(row, index);\n      alert('\u4fdd\u5b58\u6210\u529f');\n    }\n  };\n\n  return (\n    <>\n      <Button onClick={add}>\u65b0\u589e</Button>\n      <EditableDataTable\n        data={items}\n        editingRows={editingRows}\n        validate={validate}\n        idPropertyName={idPropertyName}\n      >\n        <TableColumn title=\"\u5e8f\u53f7\" order />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" editor={TextInput} />\n        <TableColumn title=\"\u5907\u6ce8\" name=\"note\" editor={TextInput} />\n        <TableColumn\n          title=\"\u64cd\u4f5c\"\n          name=\"id\"\n          render={(value, row, index, id, context) => (\n            <>\n              {context.editing ? (\n                <Button\n                  autoWidth\n                  onClick={() => handleSave(row, index, context)}\n                >\n                  \u4fdd\u5b58\n                </Button>\n              ) : (\n                <Button autoWidth onClick={() => edit(index)}>\n                  \u7f16\u8f91\n                </Button>\n              )}\n              <Button autoWidth onClick={() => remove(row, index)}>\n                \u5220\u9664\n              </Button>\n            </>\n          )}\n        />\n      </EditableDataTable>\n    </>\n  );\n}\n")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"useEditingList.add()"),"\u65b9\u6cd5\u53ef\u4ee5\u6307\u5b9a\u6dfb\u52a0\u6570\u636e\u7684\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u5728\u672b\u5c3e\u6dfb\u52a0\u6570\u636e\uff0c\u5982\u679c\u9700\u8981\u5728\u5f00\u59cb\u4f4d\u7f6e\u6dfb\u52a0\u6570\u636e\uff0c\u5219\u53ef\u4ee5\u6307\u5b9a",Object(s.b)("inlineCode",{parentName:"p"},"index"),"\u53c2\u6570\u4e3a 0 \u5373\u53ef\uff1a"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"const { add } = useEditingList('url');\n\n// \u5728\u5f00\u59cb\u4f4d\u7f6e\u6dfb\u52a0\u6570\u636e\nadd({}, 0);\n")),Object(s.b)("p",null,"\u793a\u4f8b\uff1a"),Object(s.b)(b.c,{__position:6,__code:'() => {\n  const validate = data => {\n    const result = {}\n\n    if (data.title && data.title.startsWith(\'1\')) {\n      result.title = \'\u6807\u9898\u4e0d\u80fd\u4ee51\u5f00\u5934\'\n    }\n    return result\n  }\n\n  const {\n    items,\n    add,\n    edit,\n    save,\n    remove,\n    idPropertyName,\n    editingRows,\n  } = useEditingList(\'/api/tests\', [])\n\n  const handleSave = (row, index, context) => {\n    if (!context.validate()) {\n      alert(\'\u6570\u636e\u586b\u5199\u4e0d\u5b8c\u6574\')\n    } else {\n      save(row, index).then(\n        () => {\n          alert(\'\u4fdd\u5b58\u6210\u529f\')\n        },\n        () => {\n          alert(\'\u4fdd\u5b58\u5931\u8d25\')\n        },\n      )\n    }\n  }\n\n  return (\n    <>\n      <Button onClick={add}>\u65b0\u589e</Button>\n      <EditableDataTable\n        data={items}\n        editingRows={editingRows}\n        validate={validate}\n        idPropertyName={idPropertyName}\n      >\n        <TableColumn title="\u5e8f\u53f7" order />\n        <TableColumn title="\u6807\u9898" name="title" editor={TextInput} />\n        <TableColumn title="\u5907\u6ce8" name="note" editor={TextInput} />\n        <TableColumn\n          title="\u64cd\u4f5c"\n          name="id"\n          render={(value, row, index, id, context) => (\n            <>\n              {context.editing ? (\n                <Button\n                  autoWidth\n                  onClick={() => handleSave(row, index, context)}\n                >\n                  \u4fdd\u5b58\n                </Button>\n              ) : (\n                <Button autoWidth onClick={() => edit(index)}>\n                  \u7f16\u8f91\n                </Button>\n              )}\n              <Button autoWidth onClick={() => remove(row, index)}>\n                \u5220\u9664\n              </Button>\n            </>\n          )}\n        />\n      </EditableDataTable>\n    </>\n  )\n}',__scope:{props:this?this.props:n,useState:o.useState,useCallback:o.useCallback,useMemo:o.useMemo,Playground:b.c,Props:b.d,TableColumn:r.b,EditableDataTable:u.b,useEditingList:c.a,Button:m.b,TextInput:p.b,Confirm:j.a,produce:g.default,useSimpleEditingList:O.a,RowSelectColumn:T.a},mdxType:"Playground"},function(){var e=Object(c.a)("/api/tests",[]),t=e.items,n=e.add,i=e.edit,a=e.save,l=e.remove,o=e.idPropertyName,b=e.editingRows;return Object(s.b)(d.a.Fragment,null,Object(s.b)(m.b,{onClick:n,mdxType:"Button"},"\u65b0\u589e"),Object(s.b)(u.b,{data:t,editingRows:b,validate:function(e){var t={};return e.title&&e.title.startsWith("1")&&(t.title="\u6807\u9898\u4e0d\u80fd\u4ee51\u5f00\u5934"),t},idPropertyName:o,mdxType:"EditableDataTable"},Object(s.b)(r.b,{title:"\u5e8f\u53f7",order:!0,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u6807\u9898",name:"title",editor:p.b,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u5907\u6ce8",name:"note",editor:p.b,mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u64cd\u4f5c",name:"id",render:function(e,t,n,o,b){return Object(s.b)(d.a.Fragment,null,b.editing?Object(s.b)(m.b,{autoWidth:!0,onClick:function(){return function(e,t,n){n.validate()?a(e,t).then(function(){alert("\u4fdd\u5b58\u6210\u529f")},function(){alert("\u4fdd\u5b58\u5931\u8d25")}):alert("\u6570\u636e\u586b\u5199\u4e0d\u5b8c\u6574")}(t,n,b)},mdxType:"Button"},"\u4fdd\u5b58"):Object(s.b)(m.b,{autoWidth:!0,onClick:function(){return i(n)},mdxType:"Button"},"\u7f16\u8f91"),Object(s.b)(m.b,{autoWidth:!0,onClick:function(){return l(t,n)},mdxType:"Button"},"\u5220\u9664"))},mdxType:"TableColumn"})))}),Object(s.b)("h2",{id:"\u65e0\u6570\u636e"},"\u65e0\u6570\u636e"),Object(s.b)(b.c,{__position:7,__code:'<EditableDataTable data={[]}>\n  <TableColumn title="id" name="id" />\n  <TableColumn title="\u6807\u9898" name="title" />\n</EditableDataTable>',__scope:{props:this?this.props:n,useState:o.useState,useCallback:o.useCallback,useMemo:o.useMemo,Playground:b.c,Props:b.d,TableColumn:r.b,EditableDataTable:u.b,useEditingList:c.a,Button:m.b,TextInput:p.b,Confirm:j.a,produce:g.default,useSimpleEditingList:O.a,RowSelectColumn:T.a},mdxType:"Playground"},Object(s.b)(u.b,{data:[],mdxType:"EditableDataTable"},Object(s.b)(r.b,{title:"id",name:"id",mdxType:"TableColumn"}),Object(s.b)(r.b,{title:"\u6807\u9898",name:"title",mdxType:"TableColumn"}))))}f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs\\index.mdx"}}),f.isMDXComponent=!0},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./docs/SelectRow.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,".sinoui-editable-data-table .sinoui-data-table-body-row_selected {\n  background-color: rgba(0, 0, 0, 0.12);\n}\n",""])},"./src/useEditingList.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),l=n.n(a),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),d=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),b=n("./node_modules/@sinoui/use-rest-list-api/dist/index.js"),r=n.n(b),u=n("./node_modules/react/index.js"),c=n("./src/useSimpleEditingList.ts");function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=n||{},b=a.keyName,m=void 0===b?"id":b,p=a.alwaysEditing,j=void 0!==p&&p,g=r()(e,t,n),O=g.items,T=g.remove,C=g.update,x=g.save,f=g.isLoading,w=g.isError,h=g.query,E=g.fetch,y=g.sortWith,N=g.reload,v=g.reset,S=g.searchParams,R=g.sorts,_=Object(c.a)(O,n),B=_.setItems,D=_.remove,k=_.updateItem,L=_.setReadonly,I=Object(s.a)(_,["setItems","remove","updateItem","setReadonly"]);Object(u.useEffect)(function(){B(O)},[B,O]);var P=Object(u.useCallback)(function(e){return e[m]},[m]),W=Object(u.useCallback)(function(){var e=Object(d.a)(l.a.mark(function e(t,n){var i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=7;break}if(!((i=t.map(function(e){var t=Object(o.a)(e,1)[0];return P(t)}).filter(Boolean)).length>0)){e.next=5;break}return e.next=5,T(i,!1);case 5:e.next=10;break;case 7:if(!P(t)){e.next=10;break}return e.next=10,T(P(t),!1);case 10:D(Array.isArray(t)?t.map(function(e){return Object(o.a)(e,2)[1]}):n);case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),[T,D,P]),A=Object(u.useCallback)(function(){var e=Object(d.a)(l.a.mark(function e(t,n){var i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!P(t)){e.next=6;break}return e.next=3,C(t,!1);case 3:i=e.sent,e.next=9;break;case 6:return e.next=8,x(t,!1);case 8:i=e.sent;case 9:k(n,i),j||L(n);case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),[P,k,j,C,x,L]);return Object(i.a)({},I,{query:h,fetch:E,sortWith:y,reload:N,reset:v,searchParams:S,sorts:R,isLoading:f,isError:w,remove:W,save:A,idPropertyName:m,setReadonly:L})}m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useEditingList",filename:"src\\useEditingList.ts"}})}}]);
//# sourceMappingURL=docs-index.6a753f8b8e1b1b69887d.js.map