(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"./docs/TableColumnEditor.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v});var a,l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=n("./node_modules/react/index.js"),d=n("./node_modules/@mdx-js/react/dist/index.es.js"),c=n("./node_modules/docz/dist/index.esm.js"),b=n("./src/TableColumn.tsx"),s=n("./src/EditableDataTable.tsx"),u=n("./node_modules/immer/dist/immer.module.js"),p=(a="Demo",{}),m="wrapper";function v(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(d.b)(m,Object.assign({},p,n,{components:t,mdxType:"MDXLayout"}),Object(d.b)("h1",{id:"\u5355\u5143\u683c\u7f16\u8f91\u5668"},"\u5355\u5143\u683c\u7f16\u8f91\u5668"),Object(d.b)("p",null,"\u5728",Object(d.b)("a",Object.assign({parentName:"p"},{href:"components-api#tablecolumn"}),"TableColumn"),"\u4e0a\u901a\u8fc7",Object(d.b)("inlineCode",{parentName:"p"},"editor"),"\u5c5e\u6027\u6307\u5b9a\u5355\u5143\u683c\u7f16\u8f91\u5668\u3002\u5355\u5143\u683c\u7f16\u8f91\u5668\u5fc5\u987b\u6b63\u786e\u5904\u7406 EditableDataTable \u7ed9\u4e0e\u7684\u53c2\u6570\uff0c\u65b9\u80fd\u8ba9\u7f16\u8f91\u5668\u4e0e EditableDataTable \u7ed3\u5408\u5728\u4e00\u8d77\u4f7f\u7528\uff0c\u8fd9\u4e9b\u53c2\u6570\u5305\u62ec\uff1a"),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"value")," - \u5355\u5143\u683c\u503c"),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"onChange")," - \u7f16\u8f91\u5668\u503c\u53d8\u66f4\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002\u7f16\u8f91\u5668\u5728\u503c\u53d8\u5316\u65f6\uff0c\u8c03\u7528\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5c06\u53d8\u5316\u540e\u7684\u503c\u4f20\u9012\u7ed9 EditingDataTable\u3002"),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"name")," - \u6570\u636e\u5c5e\u6027\u540d\u79f0"),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"item")," - \u5f53\u524d\u884c\u7684\u6570\u636e\u5bf9\u8c61"),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"error")," - \u662f\u5426\u6821\u9a8c\u9519\u8bef")),Object(d.b)("p",null,"\u4f8b\u5b50\uff1a"),Object(d.b)("p",null,"\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u6807\u9898\u9009\u62e9\u5668\u7ec4\u4ef6",Object(d.b)("inlineCode",{parentName:"p"},"TitleSelect.tsx"),":"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function TitleSelect(props) {\n  const { value, onChange, name, error } = props;\n  return (\n    <select\n      name={name}\n      value={value}\n      onChange={onChange}\n      style={{\n        color: error ? 'red' : '#333',\n      }}\n    >\n      <option value=\"web developer\">web developer</option>\n      <option value=\"Java developer\">Java developer</option>\n    </select>\n  );\n}\n")),Object(d.b)("p",null,"\u4f7f\u7528",Object(d.b)("inlineCode",{parentName:"p"},"TitleSelect"),"\u7684\u4f8b\u5b50\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function Demo() {\n  function validate(rowData) {\n    const errors = {};\n\n    if (rowData.title && rowData.title !== 'Java developer') {\n      errors.title = '\u4e0d\u80fd\u662fJava developer';\n    }\n\n    return errors;\n  }\n\n  const users = [\n    {\n      id: '1',\n      name: 'Jacking',\n      title: 'web developer',\n    },\n    {\n      id: '2',\n      name: 'zinuo',\n      title: 'web developer',\n    },\n  ];\n\n  const editingRows = [false, true]; // \u7b2c\u4e8c\u884c\u6570\u636e\u662f\u7f16\u8f91\u72b6\u6001\n\n  return (\n    <EditableDataTable\n      data={users}\n      editingRows={editingRows}\n      validate={validate}\n    >\n      <TableColumn title=\"id\" name=\"id\" editor=\"input\" />\n      <TableColumn title=\"\u59d3\u540d\" name=\"name\" editor=\"input\" />\n      <TableColumn title=\"\u6807\u9898\" name=\"title\" editor={TitleSelect} />\n    </EditableDataTable>\n  );\n}\n")),Object(d.b)("p",null,"\u67e5\u770b\u8fd0\u884c\u6548\u679c\uff1a"),Object(d.b)(c.c,{__position:0,__code:'() => {\n  function TitleSelect(props) {\n    const { value, onChange, name, error } = props\n    return (\n      <select\n        name={name}\n        value={value}\n        onChange={onChange}\n        style={{\n          color: error ? \'red\' : \'#333\',\n        }}\n      >\n        <option value="web developer">web developer</option>\n        <option value="Java developer">Java developer</option>\n        <option value="node.js developer">Node.js developer</option>\n      </select>\n    )\n  }\n  function validate(rowData) {\n    const errors = {}\n    if (rowData.title && rowData.title === \'Java developer\') {\n      errors.title = \'\u4e0d\u80fd\u662f Java developer\'\n    }\n\n    return errors\n  }\n\n  const users = [\n    {\n      id: \'1\',\n      name: \'Jacking\',\n      title: \'web developer\',\n    },\n    {\n      id: \'2\',\n      name: \'zinuo\',\n      title: \'web developer\',\n    },\n  ]\n\n  const editingRows = [false, true] // \u7b2c\u4e8c\u884c\u6570\u636e\u662f\u7f16\u8f91\u72b6\u6001\n\n  return (\n    <EditableDataTable\n      data={users}\n      editingRows={editingRows}\n      validate={validate}\n    >\n      <TableColumn title="id" name="id" editor="input" />\n      <TableColumn title="\u59d3\u540d" name="name" editor="input" />\n      <TableColumn title="\u6807\u9898" name="title" editor={TitleSelect} />\n    </EditableDataTable>\n  )\n}',__scope:{props:this?this.props:n,useState:r.useState,useCallback:r.useCallback,useMemo:r.useMemo,Playground:c.c,Props:c.d,TableColumn:b.b,EditableDataTable:s.b,produce:u.produce},mdxType:"Playground"},function(){return Object(d.b)(s.b,{data:[{id:"1",name:"Jacking",title:"web developer"},{id:"2",name:"zinuo",title:"web developer"}],editingRows:[!1,!0],validate:function(e){var t={};return e.title&&"Java developer"===e.title&&(t.title="\u4e0d\u80fd\u662f Java developer"),t},mdxType:"EditableDataTable"},Object(d.b)(b.b,{title:"id",name:"id",editor:"input",mdxType:"TableColumn"}),Object(d.b)(b.b,{title:"\u59d3\u540d",name:"name",editor:"input",mdxType:"TableColumn"}),Object(d.b)(b.b,{title:"\u6807\u9898",name:"title",editor:function(e){var t=e.value,n=e.onChange,a=e.name,l=e.error;return Object(d.b)("select",{name:a,value:t,onChange:n,style:{color:l?"red":"#333"}},Object(d.b)("option",{value:"web developer"},"web developer"),Object(d.b)("option",{value:"Java developer"},"Java developer"),Object(d.b)("option",{value:"node.js developer"},"Node.js developer"))},mdxType:"TableColumn"}))}),Object(d.b)("h2",{id:"onchange-\u5c5e\u6027"},"onChange \u5c5e\u6027"),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"onChange"),"\u5c5e\u6027\u7528\u6765\u5c06\u7f16\u8f91\u5668\u7684\u503c\u4f20\u9012\u7ed9\u53ef\u7f16\u8f91\u6570\u636e\u8868\u683c\u3002\u65b9\u6cd5\u7b7e\u540d\u5982\u4e0b\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"onChange(event?: React.ChangeEvent | string): void;\n")),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"onChange"),"\u652f\u6301\u4e24\u79cd\u4f20\u503c\u65b9\u5f0f\uff1a"),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},"\u53d8\u66f4\u4e8b\u4ef6\u3002\u8fd9\u79cd\u60c5\u51b5\u53ef\u7f16\u8f91\u6570\u636e\u8868\u683c\u4ece",Object(d.b)("inlineCode",{parentName:"li"},"event.target.value"),"\u4e2d\u53d6\u503c\u3002"),Object(d.b)("li",{parentName:"ul"},"\u76f4\u63a5\u4f20\u503c\u3002")),Object(d.b)("p",null,"\u4e0a\u8ff0\u63d0\u4f9b\u7684",Object(d.b)("inlineCode",{parentName:"p"},"TitleSelect"),"\u91c7\u7528\u4e86\u7b2c\u4e00\u79cd\u65b9\u5f0f\u3002\u8fd8\u53ef\u4ee5\u901a\u8fc7\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u6765\u4f20\u503c\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"function TitleSelect(props: EditorProps) {\n  const { value, onChange, name, error } = props;\n\n  const handleChange = (event) => {\n    onChange(event.target.value);\n  };\n\n  return (\n    <select\n      name={name}\n      value={value}\n      onChange={handleChange}\n      style={{\n        color: error ? 'red' : '#333',\n      }}\n    >\n      <option value=\"web developer\">web developer</option>\n      <option value=\"Java developer\">Java developer</option>\n    </select>\n  );\n}\n")),Object(d.b)("h2",{id:"item-\u5c5e\u6027"},"item \u5c5e\u6027"),Object(d.b)("p",null,"item \u5c5e\u6027\u6709\u4e24\u4e2a\u7528\u9014\uff1a"),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},"\u4e3a\u5355\u5143\u683c\u7f16\u8f91\u5668\u63d0\u4f9b\u6574\u884c\u6570\u636e\uff0c\u5355\u5143\u683c\u7f16\u8f91\u5668\u6709\u53ef\u80fd\u9700\u8981\u5176\u4ed6\u884c\u6570\u636e\u624d\u80fd\u6e32\u67d3\u51fa\u6765"),Object(d.b)("li",{parentName:"ul"},"\u5355\u5143\u683c\u7f16\u8f91\u5668\u53ef\u80fd\u9700\u8981\u4fee\u6539\u5176\u4ed6\u5b57\u6bb5\u7684\u503c")),Object(d.b)("p",null,"\u770b\u4e00\u4e2a\u7528\u9014\u4e8c\u7684\u4f8b\u5b50\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"const titles = [\n  {\n    id: '1',\n    title: 'web developer',\n  },\n  {\n    id: '2',\n    title: 'Java developer',\n  },\n];\n\nfunction TitleSelect(props) {\n  const { value, onChange, name, error, item } = props;\n\n  const handleChange = (event) => {\n    const title = event.target.value;\n    const { id } = titles.find((titleItem) => titleItem.title === title);\n\n    item.titleId = id;\n    onChange(title);\n  };\n\n  return (\n    <div>\n      <select\n        name={name}\n        value={value}\n        onChange={handleChange}\n        style={{\n          color: error ? 'red' : '#333',\n        }}\n      >\n        {titles.map((titleItem) => (\n          <option key={titleItem.id} value={titleItem.title}>\n            {titleItem.title}\n          </option>\n        ))}\n      </select>\n      <span>titleId: {item.titleId}</span>\n    </div>\n  );\n}\n")),Object(d.b)("p",null,"\u793a\u4f8b\uff1a"),Object(d.b)(c.c,{__position:1,__code:"() => {\n  const titles = [\n    {\n      id: '1',\n      title: 'web developer',\n    },\n    {\n      id: '2',\n      title: 'Java developer',\n    },\n  ]\n  function TitleSelect(props) {\n    const { value, onChange, name, error, item } = props\n\n    const handleChange = event => {\n      const title = event.target.value\n      const { id } = titles.find(titleItem => titleItem.title === title)\n\n      item.titleId = id\n      onChange(title)\n    }\n\n    return (\n      <div>\n        <select\n          name={name}\n          value={value}\n          onChange={handleChange}\n          style={{\n            color: error ? 'red' : '#333',\n          }}\n        >\n          {titles.map(titleItem => (\n            <option key={titleItem.id} value={titleItem.title}>\n              {titleItem.title}\n            </option>\n          ))}\n        </select>\n        <span>titleId: {item.titleId}</span>\n      </div>\n    )\n  }\n\n  function validate(rowData) {\n    const errors = {}\n    if (rowData.title && rowData.title === 'Java developer') {\n      errors.title = '\u4e0d\u80fd\u662f Java developer'\n    }\n\n    return errors\n  }\n\n  const users = [\n    {\n      id: '1',\n      name: 'Jacking',\n      title: 'web developer',\n      titleId: '1',\n    },\n    {\n      id: '2',\n      name: 'zinuo',\n      title: 'web developer',\n      titleId: '1',\n    },\n  ]\n\n  const editingRows = [false, true] // \u7b2c\u4e8c\u884c\u6570\u636e\u662f\u7f16\u8f91\u72b6\u6001\n\n  return (\n    <EditableDataTable\n      data={users}\n      editingRows={editingRows}\n      validate={validate}\n    >\n      <TableColumn title=\"id\" name=\"id\" editor=\"input\" />\n      <TableColumn title=\"\u59d3\u540d\" name=\"name\" editor=\"input\" />\n      <TableColumn title=\"\u6807\u9898\" name=\"title\" editor={TitleSelect} />\n    </EditableDataTable>\n  )\n}",__scope:{props:this?this.props:n,useState:r.useState,useCallback:r.useCallback,useMemo:r.useMemo,Playground:c.c,Props:c.d,TableColumn:b.b,EditableDataTable:s.b,produce:u.produce},mdxType:"Playground"},function(){var e=[{id:"1",title:"web developer"},{id:"2",title:"Java developer"}];return Object(d.b)(s.b,{data:[{id:"1",name:"Jacking",title:"web developer",titleId:"1"},{id:"2",name:"zinuo",title:"web developer",titleId:"1"}],editingRows:[!1,!0],validate:function(e){var t={};return e.title&&"Java developer"===e.title&&(t.title="\u4e0d\u80fd\u662f Java developer"),t},mdxType:"EditableDataTable"},Object(d.b)(b.b,{title:"id",name:"id",editor:"input",mdxType:"TableColumn"}),Object(d.b)(b.b,{title:"\u59d3\u540d",name:"name",editor:"input",mdxType:"TableColumn"}),Object(d.b)(b.b,{title:"\u6807\u9898",name:"title",editor:function(t){var n=t.value,a=t.onChange,l=t.name,o=t.error,i=t.item;return Object(d.b)("div",null,Object(d.b)("select",{name:l,value:n,onChange:function(t){var n=t.target.value,l=e.find(function(e){return e.title===n}).id;i.titleId=l,a(n)},style:{color:o?"red":"#333"}},e.map(function(e){return Object(d.b)("option",{key:e.id,value:e.title},e.title)})),Object(d.b)("span",null,"titleId: ",i.titleId))},mdxType:"TableColumn"}))}),Object(d.b)("h2",{id:"\u5355\u5143\u683c\u4e4b\u95f4\u7684\u503c\u5173\u8054"},"\u5355\u5143\u683c\u4e4b\u95f4\u7684\u503c\u5173\u8054"),Object(d.b)("p",null,"\u5355\u5143\u683c\u7f16\u8f91\u5668\u53ef\u4ee5\u968f\u610f\u4fee\u6539",Object(d.b)("inlineCode",{parentName:"p"},"item"),"\uff0c\u4f46\u662f\u76f4\u63a5\u4fee\u6539",Object(d.b)("inlineCode",{parentName:"p"},"item"),"\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u5e76\u4e0d\u7b49\u4e8e\u72b6\u6001\u53d8\u66f4\uff0c\u4e5f\u5c31\u4e0d\u4f1a\u5f15\u8d77\u53ef\u7f16\u8f91\u6570\u636e\u8868\u683c\u7684\u91cd\u7ed8\u3002\u5982\u679c\u9700\u8981\u505a\u5355\u5143\u683c\u4e4b\u95f4\u7684\u503c\u5173\u8054\uff0c\u6211\u4eec\u9700\u8981\u76d1\u542c\u5230\u884c\u6570\u636e\u53d8\u5316\u5e76\u66f4\u65b0",Object(d.b)("inlineCode",{parentName:"p"},"items"),"\u72b6\u6001\u3002\u5982\u4e0b\u6240\u793a\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React, { useState } from 'react';\nimport { produce } from 'immer';\nimport EditableDataTable, {\n  TableColumn,\n} from '@sinouiincubator/editable-data-table';\n\nfunction Demo() {\n  const [items, setItems] = useState([\n    { id: '1', title: 'Java developer', titleId: '2', name: 'jacking' },\n  ]);\n\n  const handleRowChange = (index, rowData) => {\n    setItems(\n      produce((draft) => {\n        draft[index] = { ...rowData };\n      }),\n    );\n  };\n\n  return (\n    <EditableDataTable\n      data={items}\n      onRowChange={handleRowChange}\n      editingRows={[true]}\n    >\n      <TableColumn title=\"\u59d3\u540d\" name=\"name\" />\n      <TableColumn title=\"\u6807\u9898id\" name=\"titleId\" />\n      <TableColumn title=\"\u6807\u9898\" name=\"title\" editor={TitleSelect} />\n    </EditableDataTable>\n  );\n}\n")),Object(d.b)("p",null,"\u91cd\u70b9\u662f\u6211\u4eec\u5728",Object(d.b)("inlineCode",{parentName:"p"},"EditableDataTable"),"\u4e0a\u6dfb\u52a0\u4e86",Object(d.b)("inlineCode",{parentName:"p"},"onRowChange"),"\u5c5e\u6027\uff0c\u7528\u6765\u76d1\u542c\u6570\u636e\u884c\u503c\u53d8\u5316\u4e8b\u4ef6\u3002"),Object(d.b)("p",null,"\u793a\u4f8b\uff1a"),Object(d.b)(c.c,{__position:2,__code:"() => {\n  const titles = [\n    {\n      id: '1',\n      title: 'web developer',\n    },\n    {\n      id: '2',\n      title: 'Java developer',\n    },\n  ]\n  function TitleSelect(props) {\n    const { value, onChange, name, error, item } = props\n\n    const handleChange = event => {\n      const title = event.target.value\n      const { id } = titles.find(titleItem => titleItem.title === title)\n\n      item.titleId = id\n      onChange(title)\n    }\n\n    return (\n      <select\n        name={name}\n        value={value}\n        onChange={handleChange}\n        style={{\n          color: error ? 'red' : '#333',\n        }}\n      >\n        {titles.map(titleItem => (\n          <option key={titleItem.id} value={titleItem.title}>\n            {titleItem.title}\n          </option>\n        ))}\n      </select>\n    )\n  }\n\n  function Demo() {\n    const [items, setItems] = useState([\n      { id: '1', title: 'Java developer', titleId: '2', name: 'jacking' },\n      { id: '2', title: 'web developer', titleId: '1', name: 'zinuo' },\n    ])\n\n    const handleRowChange = (index, rowData) => {\n      setItems(\n        produce(draft => {\n          draft[index] = { ...rowData }\n        }),\n      )\n    }\n\n    return (\n      <EditableDataTable\n        data={items}\n        onRowChange={handleRowChange}\n        editingRows={[true, true]}\n      >\n        <TableColumn title=\"\u59d3\u540d\" name=\"name\" />\n        <TableColumn title=\"\u6807\u9898id\" name=\"titleId\" />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" editor={TitleSelect} />\n      </EditableDataTable>\n    )\n  }\n\n  return <Demo />\n}",__scope:{props:this?this.props:n,useState:r.useState,useCallback:r.useCallback,useMemo:r.useMemo,Playground:c.c,Props:c.d,TableColumn:b.b,EditableDataTable:s.b,produce:u.produce},mdxType:"Playground"},function(){var e=[{id:"1",title:"web developer"},{id:"2",title:"Java developer"}];function t(t){var n=t.value,a=t.onChange,l=t.name,o=t.error,i=t.item;return Object(d.b)("select",{name:l,value:n,onChange:function(t){var n=t.target.value,l=e.find(function(e){return e.title===n}).id;i.titleId=l,a(n)},style:{color:o?"red":"#333"}},e.map(function(e){return Object(d.b)("option",{key:e.id,value:e.title},e.title)}))}return Object(d.b)(function(){var e=Object(r.useState)([{id:"1",title:"Java developer",titleId:"2",name:"jacking"},{id:"2",title:"web developer",titleId:"1",name:"zinuo"}]),n=Object(o.a)(e,2),a=n[0],i=n[1];return Object(d.b)(s.b,{data:a,onRowChange:function(e,t){i(Object(u.produce)(function(n){n[e]=Object(l.a)({},t)}))},editingRows:[!0,!0],mdxType:"EditableDataTable"},Object(d.b)(b.b,{title:"\u59d3\u540d",name:"name",mdxType:"TableColumn"}),Object(d.b)(b.b,{title:"\u6807\u9898id",name:"titleId",mdxType:"TableColumn"}),Object(d.b)(b.b,{title:"\u6807\u9898",name:"title",editor:t,mdxType:"TableColumn"}))},{mdxType:"Demo"})}),Object(d.b)("h2",{id:"typescript-\u652f\u6301"},"Typescript \u652f\u6301"),Object(d.b)("p",null,"\u63d0\u4f9b\u4e86",Object(d.b)("inlineCode",{parentName:"p"},"EditorProps"),"\uff0c\u8868\u793a\u5355\u5143\u683c\u7f16\u8f91\u5668\u7684\u5c5e\u6027\u7c7b\u578b\u3002"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import { EditorProps } from '@sinouiincubator/editable-data-table';\n\nfunction TitleSelect(props: EditorProps) {\n  const { value, onChange, name, error } = props;\n  return (\n    <select\n      name={name}\n      value={value}\n      onChange={onChange}\n      style={{\n        color: error ? 'red' : '#333',\n      }}\n    >\n      <option value=\"web developer\">web developer</option>\n      <option value=\"Java developer\">Java developer</option>\n    </select>\n  );\n}\n")),Object(d.b)("h2",{id:"\u9009\u62e9\u6846\u7f16\u8f91\u5668"},"\u9009\u62e9\u6846\u7f16\u8f91\u5668"),Object(d.b)("p",null,"\u9700\u8981\u4e3a\u9009\u62e9\u6846\u7f16\u8f91\u5668\u63d0\u4f9b\u9009\u9879\u3002\u5927\u5bb6\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u9ad8\u9636\u51fd\u6570\uff0c\u6765\u521b\u5efa\u9009\u62e9\u6846\u7f16\u8f91\u5668\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"createSelectEditor.tsx"),":"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React from 'react';\nimport { EditorProps } from '@sinouiincubator/editable-data-table';\n\ninterface Option {\n  value: string;\n  title: string;\n}\n\nfunction createSelectEditor(options: Option[], displayName?: name) {\n  const Selector: React.SFC<EditorProps> = (props) => {\n    const { error, name, value, onChange } = props;\n    return (\n      <select4\n        style={{\n          color: error ? 'red' : '#333',\n        }}\n        name={name}\n        value={value}\n        onChange={onChange}\n      >\n        {options.map((optionItem) => (\n          <option key={optionItem.value} value={optionItem.value}>\n            {optionItem.title}\n          </option>\n        ))}\n      </select>\n    );\n  };\n\n  if (displayName) {\n    // displayName \u65b9\u4fbf\u5927\u5bb6\u5728\u8c03\u8bd5React\u65f6\u5feb\u901f\u5b9a\u4f4d\u7ec4\u4ef6\n    Selector.displayName = displayName;\n  }\n\n  return Selector;\n}\n")),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"TitleSelect.tsx"),":"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"const titles = [\n  {\n    value: 'web developer',\n    title: 'web developer',\n  },\n  {\n    value: 'Java developer',\n    title: 'Java developer',\n  },\n];\nconst TitleSelect = createSelectEditor(titles, 'TitleSelect');\n\nconst favs = [\n  {\n    value: '\u7bee\u7403',\n    title: '\u7bee\u7403',\n  },\n  {\n    value: '\u8db3\u7403',\n    title: '\u8db3\u7403',\n  },\n];\nconst FavSelect = createSelectEditor(favs, 'FavSelect');\n")),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"Demo.tsx"),":"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'import React, { useState } from \'react\';\n\nfunction Demo() {\n  const [items, setItems] = useState([\n    { id: \'1\', title: \'Java developer\', name: \'jacking\' },\n    { id: \'2\', title: \'web developer\', name: \'zinuo\' },\n  ]);\n\n  return (\n    <EditableDataTable data={items} editingRows={[true, true]}>\n      <TableColumn title="\u59d3\u540d" name="name" />\n      <TableColumn title="\u6807\u9898id" name="titleId" />\n      <TableColumn title="\u6807\u9898" name="title" editor={TitleSelect} />\n      <TableColumn title="\u6700\u559c\u6b22\u7684\u8fd0\u52a8" name="fav" editor={FavSelect} />\n    </EditableDataTable>\n  );\n}\n')),Object(d.b)("p",null,"\u8fd0\u884c\u6548\u679c\uff1a"),Object(d.b)(c.c,{__position:3,__code:"() => {\n  function createSelectEditor(options, displayName) {\n    const Selector = props => {\n      const { error, name, value, onChange } = props\n      return (\n        <select\n          style={{\n            color: error ? 'red' : '#333',\n          }}\n          name={name}\n          value={value}\n          onChange={onChange}\n        >\n          {options.map(optionItem => (\n            <option key={optionItem.value} value={optionItem.value}>\n              {optionItem.title}\n            </option>\n          ))}\n        </select>\n      )\n    }\n    if (displayName) {\n      Selector.displayName = displayName\n    }\n\n    return Selector\n  }\n\n  const titles = [\n    {\n      value: 'web developer',\n      title: 'web developer',\n    },\n    {\n      value: 'Java developer',\n      title: 'Java developer',\n    },\n  ]\n  const TitleSelect = createSelectEditor(titles, 'TitleSelect')\n\n  const favs = [\n    {\n      value: '\u7bee\u7403',\n      title: '\u7bee\u7403',\n    },\n    {\n      value: '\u8db3\u7403',\n      title: '\u8db3\u7403',\n    },\n  ]\n  const FavSelect = createSelectEditor(favs, 'FavSelect')\n\n  function Demo() {\n    const [items, setItems] = useState([\n      { id: '1', title: 'Java developer', name: 'jacking' },\n      { id: '2', title: 'web developer', name: 'zinuo' },\n    ])\n\n    return (\n      <EditableDataTable data={items} editingRows={[true, true]}>\n        <TableColumn title=\"\u59d3\u540d\" name=\"name\" />\n        <TableColumn title=\"\u6807\u9898id\" name=\"titleId\" />\n        <TableColumn title=\"\u6807\u9898\" name=\"title\" editor={TitleSelect} />\n        <TableColumn title=\"\u6700\u559c\u6b22\u7684\u8fd0\u52a8\" name=\"fav\" editor={FavSelect} />\n      </EditableDataTable>\n    )\n  }\n\n  return <Demo />\n}",__scope:{props:this?this.props:n,useState:r.useState,useCallback:r.useCallback,useMemo:r.useMemo,Playground:c.c,Props:c.d,TableColumn:b.b,EditableDataTable:s.b,produce:u.produce},mdxType:"Playground"},function(){function e(e,t){var n=function(t){var n=t.error,a=t.name,l=t.value,o=t.onChange;return Object(d.b)("select",{style:{color:n?"red":"#333"},name:a,value:l,onChange:o},e.map(function(e){return Object(d.b)("option",{key:e.value,value:e.value},e.title)}))};return t&&(n.displayName=t),n}var t=e([{value:"web developer",title:"web developer"},{value:"Java developer",title:"Java developer"}],"TitleSelect"),n=e([{value:"\u7bee\u7403",title:"\u7bee\u7403"},{value:"\u8db3\u7403",title:"\u8db3\u7403"}],"FavSelect");return Object(d.b)(function(){var e=Object(r.useState)([{id:"1",title:"Java developer",name:"jacking"},{id:"2",title:"web developer",name:"zinuo"}]),a=Object(o.a)(e,2),l=a[0];return a[1],Object(d.b)(s.b,{data:l,editingRows:[!0,!0],mdxType:"EditableDataTable"},Object(d.b)(b.b,{title:"\u59d3\u540d",name:"name",mdxType:"TableColumn"}),Object(d.b)(b.b,{title:"\u6807\u9898id",name:"titleId",mdxType:"TableColumn"}),Object(d.b)(b.b,{title:"\u6807\u9898",name:"title",editor:t,mdxType:"TableColumn"}),Object(d.b)(b.b,{title:"\u6700\u559c\u6b22\u7684\u8fd0\u52a8",name:"fav",editor:n,mdxType:"TableColumn"}))},{mdxType:"Demo"})}),Object(d.b)("h2",{id:"sinoui-components"},"sinoui-components"),Object(d.b)("p",null,"\u53ef\u4ee5\u7528 sinoui-components \u63d0\u4f9b\u7684\u7ec4\u4ef6\u4f5c\u4e3a\u5355\u5143\u683c\u7f16\u8f91\u5668\uff0c\u5305\u62ec\uff1a"),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},"TextInput"),Object(d.b)("li",{parentName:"ul"},"Select"),Object(d.b)("li",{parentName:"ul"},"RadioGroup"),Object(d.b)("li",{parentName:"ul"},"CheckboxGroup"),Object(d.b)("li",{parentName:"ul"},"Radio"),Object(d.b)("li",{parentName:"ul"},"Checkbox"),Object(d.b)("li",{parentName:"ul"},"DatePicker")),Object(d.b)("p",null,"\u7b49\u3002"),Object(d.b)("p",null,"\u8fd9\u4e9b\u7ec4\u4ef6\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e0a\u8ff0\u63cf\u8ff0\u7684\u65b9\u5f0f\u65b9\u6cd5\u4e0e\u53ef\u7f16\u8f91\u6570\u636e\u8868\u683c\u7ec4\u5408\u4f7f\u7528\u3002"))}v&&v===Object(v)&&Object.isExtensible(v)&&Object.defineProperty(v,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs\\TableColumnEditor.mdx"}}),v.isMDXComponent=!0},"./src/EditableDataTable.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),l=n.n(a),o=n("./node_modules/classnames/index.js"),i=n.n(o),r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),d=n("./node_modules/sinoui-components/styles/index.js"),c=n("./node_modules/sinoui-components/Table/index.js");function b(){var e=Object(r.a)(["\n  table-layout: fixed;\n  border-top: 1px solid rgba(224, 224, 224, 1);\n  & .sinoui-data-table-head {\n    ",";\n    ",";\n    background-color: ",";\n    text-align: left;\n    vertical-align: middle;\n  }\n\n  .sinoui-checkbox-button {\n    margin: 14px;\n  }\n\n  & .sinoui-data-table-head.numeric,\n  .sinoui-data-table-body-td.numeric {\n    text-align: right;\n    flex-direction: row-reverse;\n  }\n\n  & .sinoui-data-table-head.align_center,\n  .sinoui-data-table-body-td.align_center {\n    text-align: center;\n  }\n\n  & .sinoui-data-table-head.checkbox,\n  .sinoui-data-table-body-td.checkbox {\n    padding: 0;\n    width: 48px;\n  }\n\n  & .sinoui-data-table-head.extraInfo,\n  .sinoui-data-table-body-td.extraInfo {\n    padding: 0;\n    width: 60px;\n  }\n\n  & .sinoui-data-table-head:last-child,\n  .sinoui-data-table-body-td:last-child {\n    padding-right: 24px;\n  }\n\n  & .sinoui-data-table-footer {\n    ",";\n    ",";\n    padding-left: 24px;\n    padding-right: 12px;\n  }\n\n  & .sinoui-data-table-body-cell-no-data {\n    ",";\n    ",";\n    padding: 64px;\n    text-align: center;\n    color: ",";\n  }\n\n  & .sinoui-data-table-body-td {\n    ",";\n    ",";\n    text-align: left;\n    vertical-align: middle;\n    word-wrap: break-word;\n    word-break: break-all;\n  }\n\n  & .sinoui-data-table-head-row {\n    height: 48px;\n  }\n\n  & .sinoui-data-table-footer-row,\n  .sinoui-data-table-body-row-no-data {\n    height: 56px;\n    background-color: transparent;\n  }\n\n  & .sinoui-data-table-body-row {\n    height: 48px;\n    background-color: transparent;\n\n    &:hover {\n      background-color: ",";\n    }\n  }\n\n  & .sinoui-data-table-body-row.selected {\n    background-color: ",";\n  }\n"]);return b=function(){return e},e}function s(){var e=Object(r.a)(["\n  padding: 0;\n  padding-left: 8px;\n  padding-right: 8px;\n  border-bottom: 1px solid\n    ",";\n"]);return s=function(){return e},e}function u(){var e=Object(r.a)(["\n  font-size: ","rem;\n  font-family: ",";\n  font-weight: ",";\n  color: ",";\n"]);return u=function(){return e},e}function p(){var e=Object(r.a)(["\n  font-size: ","rem;\n  font-family: ",";\n  font-weight: ",";\n  color: ",";\n"]);return p=function(){return e},e}var m=Object(d.b)(p(),function(e){return e.theme.typography.body1.fontSize},function(e){return e.theme.typography.fontFamily},function(e){return e.theme.typography.fontWeightMedium},function(e){return e.theme.typography.body1.color}),v=Object(d.b)(u(),function(e){return e.theme.typography.body1.fontSize},function(e){return e.theme.typography.fontFamily},function(e){return e.theme.typography.body1.fontWeight},function(e){return e.theme.typography.body1.color}),f=Object(d.b)(s(),function(e){return"light"===e.theme.palette.type?"rgba(224, 224, 224, 1)":"rgba(80, 80, 80, 1)"}),j={light:{tableRowSelected:"rgba(0, 0, 0, 0.04)",tableRowHover:"rgba(0, 0, 0, 0.07)"},dark:{tableRowSelected:"rgba(255, 255, 255, 0.08)",tableRowHover:"rgba(255, 255, 255, 0.14)"}},g=Object(d.c)(c.a)(b(),m,f,function(e){return"light"===e.theme.palette.type?e.theme.palette.primary[50]:e.theme.palette.primary[200]},m,f,v,f,function(e){return e.theme.typography.caption.color},v,f,function(e){return j[e.theme.palette.type].tableRowHover},function(e){return j[e.theme.palette.type].tableRowSelected}),O=g;"undefined"!==typeof g&&g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"StyledTable",filename:"src\\Table.tsx"}});var C=n("./src/shared/EditableDataTableContext.ts");function y(){var e=Object(r.a)(["\n  text-align: center;\n  padding: 32px 8px;\n"]);return y=function(){return e},e}var h=d.c.div(y()),T=function(e){var t=e.children;return l.a.createElement(h,{className:"sinoui-data-table-info","data-testid":"emptyInfo"},t)},x=T;T&&T===Object(T)&&Object.isExtensible(T)&&Object.defineProperty(T,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EmptyDataTableRow",filename:"src\\EmptyDataTableRow.tsx"}});var w=n("./src/shared/constants.ts"),E=n("./src/shared/DataTableRowContext.ts"),_={type:w.a.ColGroup};function N(e){var t=e.children;return l.a.createElement(E.a.Provider,{value:_},l.a.createElement("colgroup",{"data-testid":"colgroup"},t))}var R=N;N&&N===Object(N)&&Object.isExtensible(N)&&Object.defineProperty(N,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableColGroup",filename:"src\\DataTableColGroup.tsx"}});var D=function(e){var t=e.children;return l.a.createElement("thead",null,l.a.createElement("tr",{className:"sinoui-data-table-head-row","data-testid":"tableHead"},t))},S=D;D&&D===Object(D)&&Object.isExtensible(D)&&Object.defineProperty(D,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableHead",filename:"src\\DataTableHead.tsx"}});var P=n("./src/shared/EditingBodyRowContainer.ts"),I=l.a.memo(function(e){var t=e.data,n=e.index,o=e.children,r=e.editing,d=e.error,c=e.touched,b=e.rowClassName,s=Object(a.useMemo)(function(){return{type:w.a.Body,data:t,index:n,editing:!!r,error:d,touched:c}},[t,n,r,d,c]);return l.a.createElement(E.a.Provider,{value:s},l.a.createElement(P.a.Provider,null,l.a.createElement("tr",{className:i()("sinoui-data-table-body-row",b?b(n):""),"data-testid":"bodyRow"},o)))}),k=function(e){var t=e.idPropertyName,n=e.data,a=e.children,o=e.editingRows,i=void 0===o?[]:o,r=e.errors,d=e.touched,c=e.rowClassName;return n&&0!==n.length?l.a.createElement("tbody",null,n.map(function(e,n){return l.a.createElement(I,{key:e[t]||"index_".concat(n),data:e,index:n,"data-testid":"tableBody",editing:i[n],error:r?r[n]:void 0,touched:d?d[n]:void 0,rowClassName:c},a)})):null},J=k;function F(e){var t=e.data,n=void 0===t?[]:t,o=e.idPropertyName,r=void 0===o?"id":o,d=e.children,c=e.emptyTitle,b=void 0===c?"\u6682\u65e0\u6570\u636e":c,s=e.editingRows,u=e.errors,p=e.touched,m=e.className,v=e.style,f=e.rowClassName,j=function(e){var t=e.idPropertyName,n=void 0===t?"id":t,l=e.onRowChange,o=e.validate,i=e.onFieldChange,r=Object(a.useRef)({onRowChange:l,validate:o,onFieldChange:i});return Object(a.useEffect)(function(){r.current.onRowChange=l,r.current.validate=o,r.current.onFieldChange=i},[l,o,i]),Object(a.useMemo)(function(){return{idPropertyName:n,options:r.current}},[n])}(e);return l.a.createElement(l.a.Fragment,null,l.a.createElement(O,{className:i()("sinoui-editable-data-table",m),style:v},l.a.createElement(C.a.Provider,{value:j},l.a.createElement(R,null,d),l.a.createElement(S,null,d),l.a.createElement(J,{data:n,idPropertyName:r,editingRows:s,errors:u,touched:p,rowClassName:f},d))),(!n||0===n.length)&&l.a.createElement(x,null,b))}k&&k===Object(k)&&Object.isExtensible(k)&&Object.defineProperty(k,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableBody",filename:"src\\DataTableBody.tsx"}}),"undefined"!==typeof Props&&Props&&Props===Object(Props)&&Object.isExtensible(Props)&&Object.defineProperty(Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Props",filename:"src\\EditableDataTable.tsx"}});t.b=F;F&&F===Object(F)&&Object.isExtensible(F)&&Object.defineProperty(F,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EditableDataTable",filename:"src\\EditableDataTable.tsx"}})},"./src/TableColumn.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),l=n.n(a),o=n("./src/shared/DataTableRowContext.ts"),i=n("./src/shared/EditableDataTableContext.ts"),r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),d=n("./node_modules/sinoui-components/Form/FormHelpText.js"),c=n("./src/shared/EditingBodyRowContainer.ts");var b=l.a.memo(function(e){var t=e.name,n=e.editor,b=Object(a.useContext)(o.a),s=b.data,u=b.index,p=s[t]||"",m=Object(a.useState)(p),v=Object(r.a)(m,2)[1],f=Object(a.useContext)(i.a).options,j=c.a.useContainer(),g=j.touched,O=j.errors,C=j.validateField,y=j.errorControlled,h=Object(a.useCallback)(function(e){var n=function(e){return!(!e||!e.target)}(e)?e.target.value:e;v(n),s[t]=n,f.onRowChange&&f.onRowChange(u,s),f.onFieldChange&&f.onFieldChange(u,t,s),y||C(t,s)},[s,t,f,u,y,C]),T=g[t]?O[t]:void 0;return Object(a.useMemo)(function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(n,{name:t,value:p,item:s,onChange:h,error:!!T}),T&&l.a.createElement(d.a,{error:!0,className:"sinoui-editable-data-table-editor-error"},T))},[s,T,h,t,p])});var s=l.a.memo(function(e){var t=e.order,n=e.render,a=e.name,o=e.editor,i=e.index,r=e.editing,d=e.data,c=e.idPropertyName,s=e.validate;if(t)return l.a.createElement("td",{className:"sinoui-data-table-body-td align_center"},i+1);if(r&&o){if(!a)throw new Error("\u6ca1\u6709\u7ed9TableColumn\u6307\u5b9aname\u5c5e\u6027");return l.a.createElement("td",{className:"sinoui-data-table-body-td"},l.a.createElement(b,{name:a,editor:o}))}return n?l.a.createElement("td",{className:"sinoui-data-table-body-td"},n(a?d[a]:void 0,d,i,d[c],{editing:r,validate:s})):a?l.a.createElement("td",{className:"sinoui-data-table-body-td"},d[a]):null});function u(e){var t,n,r,d,b,u=(t=Object(a.useContext)(o.a),n=t.data,r=t.index,d=t.editing,b=c.a.useContainer().validate,{data:n,index:r,editing:d,idPropertyName:Object(a.useContext)(i.a).idPropertyName,validate:b});return l.a.createElement(s,Object.assign({},e,u))}var p=u;u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableBodyCell",filename:"src\\DataTableBodyCell.tsx"}});var m=n("./node_modules/classnames/index.js"),v=n.n(m);function f(e){var t=e.order,n=e.title;return l.a.createElement("th",{className:v()("sinoui-data-table-head",{align_center:t})},n)}var j=f;f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableHeadCell",filename:"src\\DataTableHeadCell.tsx"}});var g=n("./src/shared/constants.ts");"undefined"!==typeof Props&&Props&&Props===Object(Props)&&Object.isExtensible(Props)&&Object.defineProperty(Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Props",filename:"src\\TableColumn.tsx"}});var O=l.a.memo(function(e){var t=e.title,n=e.order,i=e.width;switch(Object(a.useContext)(o.a).type){case g.a.Head:return l.a.createElement(j,{title:t,order:n});case g.a.ColGroup:return l.a.createElement("col",{width:n?50:i});default:return l.a.createElement(p,e)}});t.b=O;"undefined"!==typeof O&&O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TableColumn",filename:"src\\TableColumn.tsx"}})},"./src/shared/DataTableRowContext.ts":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),l=n.n(a),o=n("./src/shared/constants.ts");"undefined"!==typeof BodyRowContextType&&BodyRowContextType&&BodyRowContextType===Object(BodyRowContextType)&&Object.isExtensible(BodyRowContextType)&&Object.defineProperty(BodyRowContextType,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"BodyRowContextType",filename:"src\\shared\\DataTableRowContext.ts"}}),"undefined"!==typeof HeadRowContextType&&HeadRowContextType&&HeadRowContextType===Object(HeadRowContextType)&&Object.isExtensible(HeadRowContextType)&&Object.defineProperty(HeadRowContextType,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"HeadRowContextType",filename:"src\\shared\\DataTableRowContext.ts"}}),"undefined"!==typeof ColGroupContextType&&ColGroupContextType&&ColGroupContextType===Object(ColGroupContextType)&&Object.isExtensible(ColGroupContextType)&&Object.defineProperty(ColGroupContextType,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ColGroupContextType",filename:"src\\shared\\DataTableRowContext.ts"}}),"undefined"!==typeof RowContextType&&RowContextType&&RowContextType===Object(RowContextType)&&Object.isExtensible(RowContextType)&&Object.defineProperty(RowContextType,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RowContextType",filename:"src\\shared\\DataTableRowContext.ts"}});var i=l.a.createContext({type:o.a.Head});t.a=i,"undefined"!==typeof i&&i&&i===Object(i)&&Object.isExtensible(i)&&Object.defineProperty(i,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableRowContext",filename:"src\\shared\\DataTableRowContext.ts"}})},"./src/shared/EditableDataTableContext.ts":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),l=n.n(a).a.createContext({idPropertyName:"id",options:{}});t.a=l,"undefined"!==typeof l&&l&&l===Object(l)&&Object.isExtensible(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EditableDataTableContext",filename:"src\\shared\\EditableDataTableContext.ts"}})},"./src/shared/EditingBodyRowContainer.ts":function(e,t,n){"use strict";var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("./node_modules/react/index.js"),r=n("./node_modules/unstated-next/dist/unstated-next.mjs"),d=n("./node_modules/shallowequal/index.js"),c=n.n(d),b=n("./src/shared/EditableDataTableContext.ts"),s=n("./src/shared/DataTableRowContext.ts");var u=Object(r.a)(function(){var e=Object(i.useContext)(s.a),t=e.data,n=e.error,r=e.touched,d=Object(i.useState)({}),u=Object(o.a)(d,2),p=u[0],m=u[1],v=Object(i.useState)({}),f=Object(o.a)(v,2),j=f[0],g=f[1],O=Object(i.useRef)(t),C=Object(i.useContext)(b.a),y=C.options,h=C.idPropertyName;Object(i.useEffect)(function(){O.current=t},[t]);var T=Object(i.useCallback)(function(e){g(function(t){return c()(e,t)?t:e})},[]);Object(i.useEffect)(function(){if(!t[h]&&y.validate){var e=y.validate(t)||{};T(e)}},[t,y,h,T]);var x=Object(i.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.current,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(y.validate){var n=y.validate(e);if(n){if(t){var a={};Object.keys(n).forEach(function(e){a[e]=!0}),m(a)}return T(n||{}),0===Object.keys(n).filter(function(e){return!!n[e]}).length}}return!0},[y,T]),w=Object(i.useCallback)(function(e,t){m(function(t){return t[e]?t:Object(l.a)({},t,Object(a.a)({},e,!0))}),x(t,!1)},[x]);return{errors:n||j,errorControlled:!!n,touched:r||p,validate:x,validateField:w}});t.a=u,"undefined"!==typeof u&&u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EditingBodyRowContainer",filename:"src\\shared\\EditingBodyRowContainer.ts"}})},"./src/shared/constants.ts":function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e[e.Body=0]="Body",e[e.Head=1]="Head",e[e.ColGroup=2]="ColGroup"}(a||(a={})),"undefined"!==typeof a&&a&&a===Object(a)&&Object.isExtensible(a)&&Object.defineProperty(a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RowType",filename:"src\\shared\\constants.ts"}});"\u6682\u65e0\u6570\u636e"===Object("\u6682\u65e0\u6570\u636e")&&Object.isExtensible("\u6682\u65e0\u6570\u636e")&&Object.defineProperty("\u6682\u65e0\u6570\u636e","__filemeta",{enumerable:!0,configurable:!0,value:{name:"EMPTY_ROW_INFO",filename:"src\\shared\\constants.ts"}})}}]);
//# sourceMappingURL=docs-table-column-editor.eda5c5bef334a31310fd.js.map