(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./docs/components-api.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=(n("./node_modules/react/index.js"),n("./node_modules/@mdx-js/react/dist/index.es.js")),i=n("./node_modules/docz/dist/index.esm.js"),o=n("./src/TableColumn.tsx"),l=n("./src/EditableDataTable.tsx"),b={},d="wrapper";function s(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(r.b)(d,Object.assign({},b,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"\u7ec4\u4ef6-api"},"\u7ec4\u4ef6 API"),Object(r.b)("p",null,"\u5305\u62ec\u4e24\u4e2a\u6838\u5fc3\u7684\u7ec4\u4ef6\u548c\u4e00\u4e2a\u81ea\u5b9a\u4e49 hook\uff1a"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"EditableDataTable - \u53ef\u7f16\u8f91\u6570\u636e\u8868\u683c\u7ec4\u4ef6"),Object(r.b)("li",{parentName:"ul"},"TableColumn - \u5b9a\u4e49\u6570\u636e\u8868\u683c\u5217\u7684\u7ec4\u4ef6"),Object(r.b)("li",{parentName:"ul"},"useEditingList - \u53ef\u7f16\u8f91\u8868\u683c\u6570\u636e\u7684\u72b6\u6001\u7ba1\u7406 hook\uff08\u4e0e\u540e\u7aef API \u4ea4\u4e92\uff0c\u4e0d\u5305\u62ec\u6821\u9a8c\u72b6\u6001\uff09"),Object(r.b)("li",{parentName:"ul"},"useSimpleEditingList - \u53ef\u7f16\u8f91\u8868\u683c\u6570\u636e\u7684\u72b6\u6001\u7ba1\u7406 hook \uff08\u4e0d\u4e0e\u540e\u7aef\u4ea4\u4e92\uff0c\u4f46\u5305\u62ec\u6821\u9a8c\u72b6\u6001\uff09")),Object(r.b)("h2",{id:"editabledatatable010"},"EditableDataTable(0.1.0)"),Object(r.b)(i.d,{of:l.b,mdxType:"Props"}),Object(r.b)("h2",{id:"tablecolumn010"},"TableColumn(0.1.0)"),Object(r.b)(i.d,{of:o.b,mdxType:"Props"}),Object(r.b)("h2",{id:"useeditinglist\uff08030\uff09"},"useEditingList\uff080.3.0\uff09"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"\u53ef\u7f16\u8f91\u8868\u683c\u6570\u636e\u7684\u72b6\u6001\u7ba1\u7406 hook\u3002")),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"useEditingList<T>(url:string,defaultValue:T[],options?:Options<T>):Response<T>\n")),Object(r.b)("h3",{id:"\u53c2\u6570\u914d\u7f6e"},"\u53c2\u6570\u914d\u7f6e"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570\u540d\u79f0"),Object(r.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570\u7c7b\u578b"),Object(r.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"),Object(r.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"url"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null})),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u4e0e\u540e\u7aef\u4ea4\u4e92\u65f6\u7684 url")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"defaultValue"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"T[]"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"[]"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u5217\u8868\u6570\u636e")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"options"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"Options"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null})),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u72b6\u6001\u7ba1\u7406\u6240\u9700\u914d\u7f6e\u9879")))),Object(r.b)("p",null,"\u5176\u4e2d\uff0c",Object(r.b)("inlineCode",{parentName:"p"},"options"),"\u5177\u4f53\u914d\u7f6e\u53ef\u53c2\u8003",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/sinoui/use-rest-list-api#options"}),"use-rest-list-api \u7684 options"),"\u3002"),Object(r.b)("h3",{id:"\u8fd4\u56de\u503c\u7684\u6570\u636e\u7ed3\u6784"},"\u8fd4\u56de\u503c\u7684\u6570\u636e\u7ed3\u6784"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8fd4\u56de\u503c\u540d\u79f0"),Object(r.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(r.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"items"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"T[]"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5217\u8868\u6570\u636e")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"editingRows"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean[]"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5904\u4e8e\u7f16\u8f91\u72b6\u6001\u7684\u884c\u3002",Object(r.b)("inlineCode",{parentName:"td"},"editingRows"),"\u6570\u7ec4\u9700\u8981\u4e0e",Object(r.b)("inlineCode",{parentName:"td"},"data"),"\u6570\u7ec4\u4fdd\u6301\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb\uff0c",Object(r.b)("inlineCode",{parentName:"td"},"editingRows"),"\u6570\u7ec4\u4e2d\u6bcf\u4e00\u4e2a\u6570\u636e\u9879\u4ee3\u8868\u7684\u662f",Object(r.b)("inlineCode",{parentName:"td"},"data"),"\u6570\u7ec4\u4e2d\u5bf9\u5e94\u6570\u636e\u9879\u7684\u7f16\u8f91\u72b6\u6001\uff0c",Object(r.b)("inlineCode",{parentName:"td"},"true"),"\u8868\u793a\u7f16\u8f91\u72b6\u6001\uff0c",Object(r.b)("inlineCode",{parentName:"td"},"false"),"\u8868\u793a\u975e\u7f16\u8f91\u72b6\u6001\u3002")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"add"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"(item: Partial<T> = {}, index: number = -1)=>void")),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u65b0\u589e\u4e00\u6761\u53ef\u7f16\u8f91\u7684\u7a7a\u6570\u636e\u3002",Object(r.b)("inlineCode",{parentName:"td"},"index"),"\u9ed8\u8ba4\u4e3a-1\uff0c\u8868\u793a\u5728\u672b\u5c3e\u6dfb\u52a0\u6570\u636e\uff0c",Object(r.b)("inlineCode",{parentName:"td"},"index"),"\u7b49\u4e8e 0 \u65f6\uff0c\u8868\u793a\u5728\u5f00\u59cb\u4f4d\u7f6e\u6dfb\u52a0\u6570\u636e\u3002")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"remove"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"(row:T,index:number)=>void"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5220\u9664\u4e00\u6761\u6570\u636e")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"edit"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"(index:number)=>void"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u66f4\u65b0\u4e00\u6761\u6570\u636e\u7684\u7f16\u8f91\u72b6\u6001")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"save"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"(row:T,index:number)=>void"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u65b0\u589e\u4e00\u6761\u6570\u636e\u6216\u8005\u66f4\u65b0\u4e00\u6761\u6570\u636e")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"idPropertyName"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"string"),Object(r.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6570\u636e\u7684 id \u5c5e\u6027\u540d\u3002")))),Object(r.b)("h3",{id:"\u4f7f\u7528\u65b9\u5f0f"},"\u4f7f\u7528\u65b9\u5f0f"),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"import { useEditingList } from '@sinouiincubator/editable-data-table';\n\nfunction Demo() {\n  const { items, add, remove } = useEditingList('/tests', []);\n\n  return null;\n}\n")),Object(r.b)("h2",{id:"usesimpleeditinglist020"},"useSimpleEditingList(0.2.0)"),Object(r.b)("p",null,"\u53ef\u7f16\u8f91\u8868\u683c\u6570\u636e\u7684\u72b6\u6001\u7ba1\u7406 hook \uff08\u4e0d\u4e0e\u540e\u7aef\u4ea4\u4e92\uff0c\u4f46\u5305\u62ec\u6821\u9a8c\u72b6\u6001\uff09\u3002"),Object(r.b)("p",null,"\u793a\u4f8b\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import { useSimpleEditingList } from '@sinouiincubator/editable-data-table';\n\nfunction Demo() {\n  const editingList = useSimpleEditingList(defaultValue, options);\n  return null;\n}\n")),Object(r.b)("h3",{id:"\u53c2\u6570\u8bf4\u660e"},"\u53c2\u6570\u8bf4\u660e"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"defaultValue")," - \u6307\u5b9a\u9ed8\u8ba4\u503c\uff0c\u9ed8\u8ba4\u4e3a",Object(r.b)("inlineCode",{parentName:"li"},"[]"),"\u3002"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"options")," - \u6307\u5b9a\u914d\u7f6e\uff1a",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"alwaysEditing?: boolean")," - \u5982\u679c\u4e3a",Object(r.b)("inlineCode",{parentName:"li"},"true"),"\uff0c\u5219\u8868\u793a\u6240\u6709\u6570\u636e\u884c\u5904\u4e8e\u7f16\u8f91\u72b6\u6001\u3002\u9ed8\u8ba4\u4e3a",Object(r.b)("inlineCode",{parentName:"li"},"false"),"\u3002"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"validate?: (item: T) => ErrorResult | undefined")," - \u9a8c\u8bc1\u884c\u6570\u636e\u7684\u51fd\u6570")))),Object(r.b)("h3",{id:"\u8fd4\u56de\u503ceditinglist"},"\u8fd4\u56de\u503c",Object(r.b)("inlineCode",{parentName:"h3"},"editingList")),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"editingList"),"\u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\uff1a"),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"interface SimpleEditingListResult<T> {\n  /**\n   * \u5217\u8868\u6570\u636e\n   */\n  items: T[];\n  /**\n   * \u8bbe\u7f6e\u5217\u8868\u6570\u636e\n   *\n   * @param newItems \u65b0\u7684\u5217\u8868\u6570\u636e\n   */\n  setItems(newItems: T[]): void;\n  /**\n   * \u6570\u636e\u884c\u7684\u7f16\u8f91\u72b6\u6001\u3002\n   */\n  editingRows: boolean[];\n  /**\n   * \u8bbe\u7f6e\u6570\u636e\u884c\u5904\u4e8e\u7f16\u8f91\u72b6\u6001\n   *\n   * @param rowIndex \u6570\u636e\u884c\u6240\u5728\u7684\u7d22\u5f15\u4f4d\u7f6e\n   */\n  edit(rowIndex: number): void;\n  /**\n   * \u8bbe\u7f6e\u6570\u636e\u884c\u5904\u4e8e\u53ea\u8bfb\u72b6\u6001\n   *\n   * @param rowIndex \u6570\u636e\u884c\u6240\u5728\u7684\u7d22\u5f15\u4f4d\u7f6e\n   */\n  setReadonly(rowIndex: number): void;\n  /**\n   * \u6dfb\u52a0\u6570\u636e\u884c\n   *\n   * @param item \u9700\u8981\u6dfb\u52a0\u7684\u6570\u636e\u884c\n   * @param index \u6dfb\u52a0\u7684\u7d22\u5f15\u4f4d\u7f6e\n   */\n  add(item: T, index: number): void;\n  /**\n   * \u5220\u9664\u6570\u636e\u884c\n   *\n   * @param index \u6570\u636e\u884c\u6240\u5728\u7684\u7d22\u5f15\u4f4d\u7f6e\n   */\n  remove(index: number): void;\n  /**\n   * \u5220\u9664\u4e00\u7ec4\u6570\u636e\u884c\n   *\n   * @param indexes \u4e00\u7ec4\u6570\u636e\u884c\u6240\u5728\u7684\u7d22\u5f15\u4f4d\u7f6e\n   */\n  removeItems(indexes: number[]): void;\n  /**\n   * \u66f4\u65b0\u6570\u636e\u884c\n   *\n   * @param index \u6570\u636e\u884c\u6240\u5728\u7684\u7d22\u5f15\u4f4d\u7f6e\n   * @param item \u65b0\u7684\u6570\u636e\u5bf9\u8c61\n   */\n  updateItem(index: number, item: T): void;\n  /**\n   * \u9519\u8bef\u72b6\u6001\n   */\n  errors: ErrorResult[];\n  /**\n   * \u7f16\u8f91\u5668\u88ab\u70b9\u51fb\u72b6\u6001\n   */\n  touched: TouchedState[];\n  /**\n   * \u6821\u9a8c\u5355\u4e2a\u6570\u636e\u9879\n   *\n   * @param index \u6570\u636e\u884c\u6240\u5728\u7684\u7d22\u5f15\u4f4d\u7f6e\n   * @param fieldName \u6570\u636e\u9879\u540d\u79f0\n   * @param rowData \u6570\u636e\u884c\u7684\u65b0\u6570\u636e\u5bf9\u8c61\n   */\n  validateField(index: number, fieldName: string, rowData: T): void;\n  /**\n   * \u6821\u9a8c\u6240\u6709\u7f16\u8f91\u4e2d\u7684\u6570\u636e\u884c\n   */\n  validateAllEditingRows(): boolean;\n}\n\ninterface ErrorResult {\n  [fieldName: string]: string;\n}\n\ninterface TouchedState {\n  [fieldName: string]: boolean;\n}\n")))}s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs\\components-api.mdx"}}),s.isMDXComponent=!0},"./src/EditableDataTable.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./node_modules/classnames/index.js"),o=n.n(i),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),b=n("./node_modules/sinoui-components/styles/index.js"),d=n("./node_modules/sinoui-components/Table/index.js");function s(){var e=Object(l.a)(["\n  table-layout: fixed;\n  border-top: 1px solid rgba(224, 224, 224, 1);\n  & .sinoui-data-table-head {\n    ",";\n    ",";\n    background-color: ",";\n    text-align: left;\n    vertical-align: middle;\n  }\n\n  .sinoui-checkbox-button {\n    margin: 14px;\n  }\n\n  & .sinoui-data-table-head.numeric,\n  .sinoui-data-table-body-td.numeric {\n    text-align: right;\n    flex-direction: row-reverse;\n  }\n\n  & .sinoui-data-table-head.align_center,\n  .sinoui-data-table-body-td.align_center {\n    text-align: center;\n  }\n\n  & .sinoui-data-table-head.checkbox,\n  .sinoui-data-table-body-td.checkbox {\n    padding: 0;\n    width: 48px;\n  }\n\n  & .sinoui-data-table-head.extraInfo,\n  .sinoui-data-table-body-td.extraInfo {\n    padding: 0;\n    width: 60px;\n  }\n\n  & .sinoui-data-table-head:last-child,\n  .sinoui-data-table-body-td:last-child {\n    padding-right: 24px;\n  }\n\n  & .sinoui-data-table-footer {\n    ",";\n    ",";\n    padding-left: 24px;\n    padding-right: 12px;\n  }\n\n  & .sinoui-data-table-body-cell-no-data {\n    ",";\n    ",";\n    padding: 64px;\n    text-align: center;\n    color: ",";\n  }\n\n  & .sinoui-data-table-body-td {\n    ",";\n    ",";\n    text-align: left;\n    vertical-align: middle;\n    word-wrap: break-word;\n    word-break: break-all;\n  }\n\n  & .sinoui-data-table-head-row {\n    height: 48px;\n  }\n\n  & .sinoui-data-table-footer-row,\n  .sinoui-data-table-body-row-no-data {\n    height: 56px;\n    background-color: transparent;\n  }\n\n  & .sinoui-data-table-body-row {\n    height: 48px;\n    background-color: transparent;\n\n    &:hover {\n      background-color: ",";\n    }\n  }\n\n  & .sinoui-data-table-body-row.selected {\n    background-color: ",";\n  }\n"]);return s=function(){return e},e}function c(){var e=Object(l.a)(["\n  padding: 0;\n  padding-left: 8px;\n  padding-right: 8px;\n  border-bottom: 1px solid\n    ",";\n"]);return c=function(){return e},e}function u(){var e=Object(l.a)(["\n  font-size: ","rem;\n  font-family: ",";\n  font-weight: ",";\n  color: ",";\n"]);return u=function(){return e},e}function m(){var e=Object(l.a)(["\n  font-size: ","rem;\n  font-family: ",";\n  font-weight: ",";\n  color: ",";\n"]);return m=function(){return e},e}var p=Object(b.b)(m(),function(e){return e.theme.typography.body1.fontSize},function(e){return e.theme.typography.fontFamily},function(e){return e.theme.typography.fontWeightMedium},function(e){return e.theme.typography.body1.color}),j=Object(b.b)(u(),function(e){return e.theme.typography.body1.fontSize},function(e){return e.theme.typography.fontFamily},function(e){return e.theme.typography.body1.fontWeight},function(e){return e.theme.typography.body1.color}),O=Object(b.b)(c(),function(e){return"light"===e.theme.palette.type?"rgba(224, 224, 224, 1)":"rgba(80, 80, 80, 1)"}),g={light:{tableRowSelected:"rgba(0, 0, 0, 0.04)",tableRowHover:"rgba(0, 0, 0, 0.07)"},dark:{tableRowSelected:"rgba(255, 255, 255, 0.08)",tableRowHover:"rgba(255, 255, 255, 0.14)"}},f=Object(b.c)(d.a)(s(),p,O,function(e){return"light"===e.theme.palette.type?e.theme.palette.primary[50]:e.theme.palette.primary[200]},p,O,j,O,function(e){return e.theme.typography.caption.color},j,O,function(e){return g[e.theme.palette.type].tableRowHover},function(e){return g[e.theme.palette.type].tableRowSelected}),y=f;"undefined"!==typeof f&&f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"StyledTable",filename:"src\\Table.tsx"}});var x=n("./src/shared/EditableDataTableContext.ts");function h(){var e=Object(l.a)(["\n  text-align: center;\n  padding: 32px 8px;\n"]);return h=function(){return e},e}var v=b.c.div(h()),C=function(e){var t=e.children;return r.a.createElement(v,{className:"sinoui-data-table-info","data-testid":"emptyInfo"},t)},N=C;C&&C===Object(C)&&Object.isExtensible(C)&&Object.defineProperty(C,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EmptyDataTableRow",filename:"src\\EmptyDataTableRow.tsx"}});var T=n("./src/shared/constants.ts"),w=n("./src/shared/DataTableRowContext.ts"),E={type:T.a.ColGroup};function _(e){var t=e.children;return r.a.createElement(w.a.Provider,{value:E},r.a.createElement("colgroup",{"data-testid":"colgroup"},t))}var R=_;_&&_===Object(_)&&Object.isExtensible(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableColGroup",filename:"src\\DataTableColGroup.tsx"}});var P=function(e){var t=e.children;return r.a.createElement("thead",null,r.a.createElement("tr",{className:"sinoui-data-table-head-row","data-testid":"tableHead"},t))},D=P;P&&P===Object(P)&&Object.isExtensible(P)&&Object.defineProperty(P,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableHead",filename:"src\\DataTableHead.tsx"}});var k=n("./src/shared/EditingBodyRowContainer.ts"),B=r.a.memo(function(e){var t=e.data,n=e.index,i=e.children,o=e.editing,l=e.error,b=e.touched,d=Object(a.useMemo)(function(){return{type:T.a.Body,data:t,index:n,editing:!!o,error:l,touched:b}},[t,n,o,l,b]);return r.a.createElement(w.a.Provider,{value:d},r.a.createElement(k.a.Provider,null,r.a.createElement("tr",{className:"sinoui-data-table-body-row","data-testid":"bodyRow"},i)))}),H=function(e){var t=e.idPropertyName,n=e.data,a=e.children,i=e.editingRows,o=void 0===i?[]:i,l=e.errors,b=e.touched;return n&&0!==n.length?r.a.createElement("tbody",null,n.map(function(e,n){return r.a.createElement(B,{key:e[t]||"index_".concat(n),data:e,index:n,"data-testid":"tableBody",editing:o[n],error:l?l[n]:void 0,touched:b?b[n]:void 0},a)})):null},S=H;function F(e){var t=e.data,n=void 0===t?[]:t,i=e.idPropertyName,l=void 0===i?"id":i,b=e.children,d=e.emptyTitle,s=void 0===d?"\u6682\u65e0\u6570\u636e":d,c=e.editingRows,u=e.errors,m=e.touched,p=e.className,j=e.style,O=function(e){var t=e.idPropertyName,n=void 0===t?"id":t,r=e.onRowChange,i=e.validate,o=e.onFieldChange,l=Object(a.useRef)({onRowChange:r,validate:i,onFieldChange:o});return Object(a.useEffect)(function(){l.current.onRowChange=r,l.current.validate=i,l.current.onFieldChange=o},[r,i,o]),Object(a.useMemo)(function(){return{idPropertyName:n,options:l.current}},[n])}(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{className:o()("sinoui-editable-data-table",p),style:j},r.a.createElement(x.a.Provider,{value:O},r.a.createElement(R,null,b),r.a.createElement(D,null,b),r.a.createElement(S,{data:n,idPropertyName:l,editingRows:c,errors:u,touched:m},b))),(!n||0===n.length)&&r.a.createElement(N,null,s))}H&&H===Object(H)&&Object.isExtensible(H)&&Object.defineProperty(H,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableBody",filename:"src\\DataTableBody.tsx"}}),"undefined"!==typeof Props&&Props&&Props===Object(Props)&&Object.isExtensible(Props)&&Object.defineProperty(Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Props",filename:"src\\EditableDataTable.tsx"}});t.b=F;F&&F===Object(F)&&Object.isExtensible(F)&&Object.defineProperty(F,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EditableDataTable",filename:"src\\EditableDataTable.tsx"}})},"./src/TableColumn.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/shared/DataTableRowContext.ts"),o=n("./src/shared/EditableDataTableContext.ts"),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),b=n("./node_modules/sinoui-components/Form/FormHelpText.js"),d=n("./src/shared/EditingBodyRowContainer.ts");var s=r.a.memo(function(e){var t=e.name,n=e.editor,s=Object(a.useContext)(i.a),c=s.data,u=s.index,m=c[t]||"",p=Object(a.useState)(m),j=Object(l.a)(p,2)[1],O=Object(a.useContext)(o.a).options,g=d.a.useContainer(),f=g.touched,y=g.errors,x=g.validateField,h=g.errorControlled,v=Object(a.useCallback)(function(e){var n=function(e){return!(!e||!e.target)}(e)?e.target.value:e;j(n),c[t]=n,O.onRowChange&&O.onRowChange(u,c),O.onFieldChange&&O.onFieldChange(u,t,c),h||x(t,c)},[c,t,O,u,h,x]),C=f[t]?y[t]:void 0;return Object(a.useMemo)(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(n,{name:t,value:m,item:c,onChange:v,error:!!C}),C&&r.a.createElement(b.a,{error:!0,className:"sinoui-editable-data-table-editor-error"},C))},[c,C,v,t,m])});var c=r.a.memo(function(e){var t=e.order,n=e.render,a=e.name,i=e.editor,o=e.index,l=e.editing,b=e.data,d=e.idPropertyName,c=e.validate;if(t)return r.a.createElement("td",{className:"sinoui-data-table-body-td align_center"},o+1);if(l&&i){if(!a)throw new Error("\u6ca1\u6709\u7ed9TableColumn\u6307\u5b9aname\u5c5e\u6027");return r.a.createElement("td",{className:"sinoui-data-table-body-td"},r.a.createElement(s,{name:a,editor:i}))}return n?r.a.createElement("td",{className:"sinoui-data-table-body-td"},n(a?b[a]:void 0,b,o,b[d],{editing:l,validate:c})):a?r.a.createElement("td",{className:"sinoui-data-table-body-td"},b[a]):null});function u(e){var t,n,l,b,s,u=(t=Object(a.useContext)(i.a),n=t.data,l=t.index,b=t.editing,s=d.a.useContainer().validate,{data:n,index:l,editing:b,idPropertyName:Object(a.useContext)(o.a).idPropertyName,validate:s});return r.a.createElement(c,Object.assign({},e,u))}var m=u;u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableBodyCell",filename:"src\\DataTableBodyCell.tsx"}});var p=n("./node_modules/classnames/index.js"),j=n.n(p);function O(e){var t=e.order,n=e.title;return r.a.createElement("th",{className:j()("sinoui-data-table-head",{align_center:t})},n)}var g=O;O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableHeadCell",filename:"src\\DataTableHeadCell.tsx"}});var f=n("./src/shared/constants.ts");"undefined"!==typeof Props&&Props&&Props===Object(Props)&&Object.isExtensible(Props)&&Object.defineProperty(Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Props",filename:"src\\TableColumn.tsx"}});var y=r.a.memo(function(e){var t=e.title,n=e.order,o=e.width;switch(Object(a.useContext)(i.a).type){case f.a.Head:return r.a.createElement(g,{title:t,order:n});case f.a.ColGroup:return r.a.createElement("col",{width:n?50:o});default:return r.a.createElement(m,e)}});t.b=y;"undefined"!==typeof y&&y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TableColumn",filename:"src\\TableColumn.tsx"}})},"./src/shared/DataTableRowContext.ts":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),i=n("./src/shared/constants.ts");"undefined"!==typeof BodyRowContextType&&BodyRowContextType&&BodyRowContextType===Object(BodyRowContextType)&&Object.isExtensible(BodyRowContextType)&&Object.defineProperty(BodyRowContextType,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"BodyRowContextType",filename:"src\\shared\\DataTableRowContext.ts"}}),"undefined"!==typeof HeadRowContextType&&HeadRowContextType&&HeadRowContextType===Object(HeadRowContextType)&&Object.isExtensible(HeadRowContextType)&&Object.defineProperty(HeadRowContextType,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"HeadRowContextType",filename:"src\\shared\\DataTableRowContext.ts"}}),"undefined"!==typeof ColGroupContextType&&ColGroupContextType&&ColGroupContextType===Object(ColGroupContextType)&&Object.isExtensible(ColGroupContextType)&&Object.defineProperty(ColGroupContextType,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ColGroupContextType",filename:"src\\shared\\DataTableRowContext.ts"}}),"undefined"!==typeof RowContextType&&RowContextType&&RowContextType===Object(RowContextType)&&Object.isExtensible(RowContextType)&&Object.defineProperty(RowContextType,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RowContextType",filename:"src\\shared\\DataTableRowContext.ts"}});var o=r.a.createContext({type:i.a.Head});t.a=o,"undefined"!==typeof o&&o&&o===Object(o)&&Object.isExtensible(o)&&Object.defineProperty(o,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DataTableRowContext",filename:"src\\shared\\DataTableRowContext.ts"}})},"./src/shared/EditableDataTableContext.ts":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a).a.createContext({idPropertyName:"id",options:{}});t.a=r,"undefined"!==typeof r&&r&&r===Object(r)&&Object.isExtensible(r)&&Object.defineProperty(r,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EditableDataTableContext",filename:"src\\shared\\EditableDataTableContext.ts"}})},"./src/shared/EditingBodyRowContainer.ts":function(e,t,n){"use strict";var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/react/index.js"),l=n("./node_modules/unstated-next/dist/unstated-next.mjs"),b=n("./node_modules/shallowequal/index.js"),d=n.n(b),s=n("./src/shared/EditableDataTableContext.ts"),c=n("./src/shared/DataTableRowContext.ts");var u=Object(l.a)(function(){var e=Object(o.useContext)(c.a),t=e.data,n=e.error,l=e.touched,b=Object(o.useState)({}),u=Object(i.a)(b,2),m=u[0],p=u[1],j=Object(o.useState)({}),O=Object(i.a)(j,2),g=O[0],f=O[1],y=Object(o.useRef)(t),x=Object(o.useContext)(s.a),h=x.options,v=x.idPropertyName;Object(o.useEffect)(function(){y.current=t},[t]);var C=Object(o.useCallback)(function(e){f(function(t){return d()(e,t)?t:e})},[]);Object(o.useEffect)(function(){if(!t[v]&&h.validate){var e=h.validate(t)||{};C(e)}},[t,h,v,C]);var N=Object(o.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.current,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(h.validate){var n=h.validate(e);if(n){if(t){var a={};Object.keys(n).forEach(function(e){a[e]=!0}),p(a)}return C(n||{}),0===Object.keys(n).filter(function(e){return!!n[e]}).length}}return!0},[h,C]),T=Object(o.useCallback)(function(e,t){p(function(t){return t[e]?t:Object(r.a)({},t,Object(a.a)({},e,!0))}),N(t,!1)},[N]);return{errors:n||g,errorControlled:!!n,touched:l||m,validate:N,validateField:T}});t.a=u,"undefined"!==typeof u&&u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"EditingBodyRowContainer",filename:"src\\shared\\EditingBodyRowContainer.ts"}})},"./src/shared/constants.ts":function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e[e.Body=0]="Body",e[e.Head=1]="Head",e[e.ColGroup=2]="ColGroup"}(a||(a={})),"undefined"!==typeof a&&a&&a===Object(a)&&Object.isExtensible(a)&&Object.defineProperty(a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RowType",filename:"src\\shared\\constants.ts"}});"\u6682\u65e0\u6570\u636e"===Object("\u6682\u65e0\u6570\u636e")&&Object.isExtensible("\u6682\u65e0\u6570\u636e")&&Object.defineProperty("\u6682\u65e0\u6570\u636e","__filemeta",{enumerable:!0,configurable:!0,value:{name:"EMPTY_ROW_INFO",filename:"src\\shared\\constants.ts"}})}}]);
//# sourceMappingURL=docs-components-api.4374e5ff92df86a94a2a.js.map