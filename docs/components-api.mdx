---
name: 组件API
route: /components-api
---

import { Playground, Props } from 'docz';
import TableColumn from '../src/TableColumn';
import EditableDataTable from '../src/EditableDataTable';

# 组件 API

包括两个核心的组件和一个自定义 hook：

- EditableDataTable - 可编辑数据表格组件
- TableColumn - 定义数据表格列的组件
- useEditingList - 可编辑表格数据的状态管理 hook

## EditableDataTable

<Props of={EditableDataTable} />

## TableColumn

<Props of={TableColumn} />

## useEditingList

### 参数配置

- `url(string)` - crud 操作时的 url
- `defaultValue(T[])` - 指定默认列表数据，默认值为`[]`
- `options` - 相关配置,主要有 idPropertyName（数据的 id 属性名。默认为`id`）

### 返回值的数据结构

- `items(T[])` - 列表数据
- `editingRows(boolean[])` - 处于编辑状态的行。`editingRows`数组需要与`data`数组保持一一对应的关系，`editingRows`数组中每一个数据项代表的是`data`数组中对应数据项的编辑状态，`true`表示编辑状态，`false`表示非编辑状态。
- `add(()=>void)` - 新增一条可编辑的空数据
- `remove((index:number)=>void)` - 删除一条数据
- `edit((index)=>void)` - 更新一条数据的编辑状态
- `save((row:T,index:number)=>void)` - 新增一条数据或者更新一条数据
- `idPropertyName(string)` - 数据的 id 属性名。默认为`id`
